!function(b){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;"undefined"!=typeof window?a=window:"undefined"!=typeof global?a=global:"undefined"!=typeof self&&(a=self),a.Promise=b()}}}(function(){var d,a,b;return function c(l,f,h){function g(n,e){if(!f[n]){if(!l[n]){var i="function"==typeof _dereq_&&_dereq_;if(!e&&i){return i(n,!0)}if(j){return j(n,!0)}var m=new Error("Cannot find module '"+n+"'");throw m.code="MODULE_NOT_FOUND",m}var o=f[n]={exports:{}};l[n][0].call(o.exports,function(p){var q=l[n][1][p];return g(q?q:p)},o,o.exports,c,l,f,h)}return f[n].exports}for(var j="function"==typeof _dereq_&&_dereq_,k=0;k<h.length;k++){g(h[k])}return g}({1:[function(h,f,g){f.exports=function(k){function i(n){var l=new j(n),m=l.promise();return l.setHowMany(1),l.setUnwrap(),l.init(),m}var j=k._SomePromiseArray;k.any=function(e){return i(e)},k.prototype.any=function(){return i(this)}}},{}],2:[function(y,h,m){function w(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new z(16),this._normalQueue=new z(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=k}function j(o,i,l){this._lateQueue.push(o,i,l),this._queueTick()}function q(o,i,l){this._normalQueue.push(o,i,l),this._queueTick()}function x(e){this._normalQueue._pushOne(e),this._queueTick()}var f;try{throw new Error}catch(g){f=g}var k=y("./schedule"),z=y("./queue"),v=y("./util");w.prototype.setScheduler=function(l){var i=this._schedule;return this._schedule=l,this._customScheduler=!0,i},w.prototype.hasCustomScheduler=function(){return this._customScheduler},w.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},w.prototype.disableTrampolineIfNecessary=function(){v.hasDevTools&&(this._trampolineEnabled=!1)},w.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},w.prototype.fatalError=function(l,i){i?(process.stderr.write("Fatal "+(l instanceof Error?l.stack:l)+"\n"),process.exit(2)):this.throwLater(l)},w.prototype.throwLater=function(o,i){if(1===arguments.length&&(i=o,o=function(){throw i}),"undefined"!=typeof setTimeout){setTimeout(function(){o(i)},0)}else{try{this._schedule(function(){o(i)})}catch(l){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}}},v.hasDevTools?(w.prototype.invokeLater=function(o,i,l){this._trampolineEnabled?j.call(this,o,i,l):this._schedule(function(){setTimeout(function(){o.call(i,l)},100)})},w.prototype.invoke=function(o,i,l){this._trampolineEnabled?q.call(this,o,i,l):this._schedule(function(){o.call(i,l)})},w.prototype.settlePromises=function(e){this._trampolineEnabled?x.call(this,e):this._schedule(function(){e._settlePromises()})}):(w.prototype.invokeLater=j,w.prototype.invoke=q,w.prototype.settlePromises=x),w.prototype.invokeFirst=function(o,i,l){this._normalQueue.unshift(o,i,l),this._queueTick()},w.prototype._drainQueue=function(p){for(;p.length()>0;){var i=p.shift();if("function"==typeof i){var l=p.shift(),o=p.shift();i.call(l,o)}else{i._settlePromises()}}},w.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},w.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},w.prototype._reset=function(){this._isTickUsed=!1},h.exports=w,h.exports.firstLineError=f},{"./queue":26,"./schedule":29,"./util":36}],3:[function(h,f,g){f.exports=function(w,l,p,u){var m=!1,q=function(n,i){this._reject(i)},v=function(n,i){i.promiseRejectionQueued=!0,i.bindingPromise._then(q,q,null,this,n)},j=function(n,i){0===(50397184&this._bitField)&&this._resolveCallback(i.target)},k=function(n,i){i.promiseRejectionQueued||this._reject(n)};w.prototype.bind=function(n){m||(m=!0,w.prototype._propagateFrom=u.propagateFromFunction(),w.prototype._boundValue=u.boundValueFunction());var i=p(n),s=new w(l);s._propagateFrom(this,1);var r=this._target();if(s._setBoundTo(i),i instanceof w){var e={promiseRejectionQueued:!1,promise:s,target:r,bindingPromise:i};r._then(l,v,void 0,s,e),i._then(j,k,void 0,s,e),s._setOnCancel(i)}else{s._resolveCallback(r)}return s},w.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},w.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},w.bind=function(i,o){return w.resolve(o).bind(i)}}},{}],4:[function(l,f,h){function k(){try{Promise===j&&(Promise=g)}catch(e){}return j}var g;"undefined"!=typeof Promise&&(g=Promise);var j=l("./promise")();j.noConflict=k,f.exports=j},{"./promise":22}],5:[function(l,f,h){var k=Object.create;if(k){var g=k(null),j=k(null);g[" size"]=j[" size"]=0}f.exports=function(q){function u(y,o){var s;if(null!=y&&(s=y[o]),"function"!=typeof s){var e="Object "+m.classString(y)+" has no method '"+m.toString(o)+"'";throw new q.TypeError(e)}return s}function w(o){var i=this.pop(),n=u(o,i);return n.apply(o,this)}function t(e){return e[this]}function v(n){var i=+this;return 0>i&&(i=Math.max(0,i+n.length)),n[i]}var x,m=l("./util"),p=m.canEvaluate;m.isIdentifier;q.prototype.call=function(n){var i=[].slice.call(arguments,1);return i.push(n),this._then(w,void 0,void 0,i,void 0)},q.prototype.get=function(y){var i,o="number"==typeof y;if(o){i=v}else{if(p){var s=x(y);i=null!==s?s:t}else{i=t}}return this._then(i,void 0,void 0,y,void 0)}}},{"./util":36}],6:[function(h,f,g){f.exports=function(l,p,t,m){var q=h("./util"),u=q.tryCatch,j=q.errorObj,k=l._async;l.prototype["break"]=l.prototype.cancel=function(){if(!m.cancellation()){return this._warn("cancellation is disabled")}for(var r=this,i=r;r._isCancellable();){if(!r._cancelBy(i)){i._isFollowing()?i._followee().cancel():i._cancelBranched();break}var o=r._cancellationParent;if(null==o||!o._isCancellable()){r._isFollowing()?r._followee().cancel():r._cancelBranched();break}r._isFollowing()&&r._followee().cancel(),r._setWillBeCancelled(),i=r,r=o}},l.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},l.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},l.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},l.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},l.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),k.invoke(this._cancelPromises,this,void 0))},l.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},l.prototype._unsetOnCancel=function(){this._onCancelField=void 0},l.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},l.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},l.prototype._doInvokeOnCancel=function(v,i){if(q.isArray(v)){for(var o=0;o<v.length;++o){this._doInvokeOnCancel(v[o],i)}}else{if(void 0!==v){if("function"==typeof v){if(!i){var s=u(v).call(this._boundValue());s===j&&(this._attachExtraTrace(s.e),k.throwLater(s.e))}}else{v._resultCancelled(this)}}}},l.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),k.invoke(this._doInvokeOnCancel,this,e)},l.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},l.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(h,f,g){f.exports=function(j){function l(o,i,e){return function(r){var w=e._boundValue();o:for(var y=0;y<o.length;++y){var x=o[y];if(x===Error||null!=x&&x.prototype instanceof Error){if(r instanceof x){return m(i).call(w,r)}}else{if("function"==typeof x){var v=m(x).call(w,r);if(v===q){return v}if(v){return m(i).call(w,r)}}else{if(p.isObject(r)){for(var t=k(x),n=0;n<t.length;++n){var s=t[n];if(x[s]!=r[s]){continue o}}return m(i).call(w,r)}}}}return j}}var p=h("./util"),k=h("./es5").keys,m=p.tryCatch,q=p.errorObj;return l}},{"./es5":13,"./util":36}],8:[function(h,f,g){f.exports=function(q){function j(){this._trace=new j.CapturedTrace(p())}function l(){return k?new j:void 0}function p(){var e=m.length-1;return e>=0?m[e]:void 0}var k=!1,m=[];return q.prototype._promiseCreated=function(){},q.prototype._pushContext=function(){},q.prototype._popContext=function(){return null},q._peekContext=q.prototype._peekContext=function(){},j.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,m.push(this._trace))},j.prototype._popContext=function(){if(void 0!==this._trace){var n=m.pop(),i=n._promiseCreated;return n._promiseCreated=null,i}return null},j.CapturedTrace=null,j.create=l,j.deactivateLongStackTraces=function(){},j.activateLongStackTraces=function(){var r=q.prototype._pushContext,t=q.prototype._popContext,u=q._peekContext,e=q.prototype._peekContext,i=q.prototype._promiseCreated;j.deactivateLongStackTraces=function(){q.prototype._pushContext=r,q.prototype._popContext=t,q._peekContext=u,q.prototype._peekContext=e,q.prototype._promiseCreated=i,k=!1},k=!0,q.prototype._pushContext=j.prototype._pushContext,q.prototype._popContext=j.prototype._popContext,q._peekContext=q.prototype._peekContext=p,q.prototype._promiseCreated=function(){var n=this._peekContext();n&&null==n._promiseCreated&&(n._promiseCreated=this)}},j}},{}],9:[function(h,f,g){f.exports=function(aj,aE){function aO(j,i){return{promise:i}}function at(){return !1}function aH(o,j,l){var m=this;try{o(j,l,function(e){if("function"!=typeof e){throw new TypeError("onCancel must be a function, got: "+ar.toString(e))}m._attachCancellationCallback(e)})}catch(k){return k}}function aR(j){if(!this._isCancellable()){return this}var i=this._onCancel();void 0!==i?ar.isArray(i)?i.push(j):this._setOnCancel([i,j]):this._setOnCancel(j)}function ab(){return this._onCancelField}function af(e){this._onCancelField=e}function aA(){this._cancellationParent=void 0,this._onCancelField=void 0}function aV(k,i){if(0!==(1&i)){this._cancellationParent=k;var j=k._branchesRemainingToCancel;void 0===j&&(j=0),k._branchesRemainingToCancel=j+1}0!==(2&i)&&k._isBound()&&this._setBoundTo(k._boundTo)}function aK(j,i){0!==(2&i)&&j._isBound()&&this._setBoundTo(j._boundTo)}function aq(){var e=this._boundTo;return void 0!==e&&e instanceof aj?e.isFulfilled()?e.value():void 0:e}function am(){this._trace=new aS(this._peekContext())}function aa(l,i){if(aF(l)){var j=this._trace;if(void 0!==j&&i&&(j=j._parent),void 0!==j){j.attachExtraTrace(l)}else{if(!l.__stackCleaned__){var k=aw(l);ar.notEnumerableProp(l,"stack",k.message+"\n"+k.stack.join("\n")),ar.notEnumerableProp(l,"__stackCleaned__",!0)}}}}function ah(D,m,y,B,w){if(void 0===D&&null!==m&&a0){if(void 0!==w&&w._returnedNonUndefined()){return}if(0===(65535&B._bitField)){return}y&&(y+=" ");var z="",C="";if(m._trace){for(var j=m._trace.stack.split("\n"),k=aZ(j),x=k.length-1;x>=0;--x){var E=k[x];if(!aW.test(E)){var A=E.match(aD);A&&(z="at "+A[1]+":"+A[2]+":"+A[3]+" ");break}}if(k.length>0){for(var v=k[0],x=0;x<j.length;++x){if(j[x]===v){x>0&&(C="\n"+j[x-1]);break}}}}var q="a promise was created in a "+y+"handler "+z+"but was not returned from it, see http://goo.gl/rRqMUw"+C;B._warn(q,!0,m)}}function aX(k,i){var j=k+" is deprecated and will be removed in a future version.";return i&&(j+=" Use "+i+" instead."),a3(j)}function a3(p,j,l){if(aJ.warnings){var e,k=new au(p);if(j){l._attachExtraTrace(k)}else{if(aJ.longStackTraces&&(e=aj._peekContext())){e.attachExtraTrace(k)}else{var m=aw(k);k.stack=m.message+"\n"+m.stack.join("\n")}}aU("warning",k)||ay(k,"",!0)}}function aC(k,i){for(var j=0;j<i.length-1;++j){i[j].push("From previous event:"),i[j]=i[j].join("\n")}return j<i.length&&(i[j]=i[j].join("\n")),k+"\n"+i.join("\n")}function ao(j){for(var i=0;i<j.length;++i){(0===j[i].length||i+1<j.length&&j[i][0]===j[i+1][0])&&(j.splice(i,1),i--)}}function ad(w){for(var l=w[0],p=1;p<w.length;++p){for(var u=w[p],m=l.length-1,q=l[m],v=-1,j=u.length-1;j>=0;--j){if(u[j]===q){v=j;break}}for(var j=v;j>=0;--j){var k=u[j];if(l[m]!==k){break}l.pop(),m--}l=u}}function aZ(q){for(var j=[],l=0;l<q.length;++l){var p=q[l],k="    (No stack trace)"===p||aM.test(p),m=k&&aG(p);k&&!m&&(t&&" "!==p.charAt(0)&&(p="    "+p),j.push(p))}return j}function ag(l){for(var i=l.stack.replace(/\s+$/g,"").split("\n"),j=0;j<i.length;++j){var k=i[j];if("    (No stack trace)"===k||aM.test(k)){break}}return j>0&&(i=i.slice(j)),i}function aw(k){var i=k.stack,j=k.toString();return i="string"==typeof i&&i.length>0?ag(k):["    (No stack trace)"],{message:j,stack:aZ(i)}}function ay(o,j,l){if("undefined"!=typeof console){var m;if(ar.isObject(o)){var k=o.stack;m=j+aN(k,o)}else{m=j+String(o)}"function"==typeof ai?ai(m,l):("function"==typeof console.log||"object"==typeof console.log)&&console.log(m)}}function ak(q,j,l,p){var k=!1;try{"function"==typeof j&&(k=!0,"rejectionHandled"===q?j(p):j(l,p))}catch(m){aB.throwLater(m)}"unhandledRejection"===q?aU(q,l,p)||k||ay(l,"Unhandled rejection "):aU(q,p)}function an(o){var j;if("function"==typeof o){j="[function "+(o.name||"anonymous")+"]"}else{j=o&&"function"==typeof o.toString?o.toString():ar.toString(o);var l=/\[object [a-zA-Z0-9$_]+\]/;if(l.test(j)){try{var m=JSON.stringify(o);j=m}catch(k){}}0===j.length&&(j="(empty array)")}return"(<"+a1(j)+">, no stack trace)"}function a1(j){var i=41;return j.length<i?j:j.substr(0,i-3)+"..."}function aT(){return"function"==typeof av}function aL(j){var i=j.match(aQ);return i?{fileName:i[1],line:parseInt(i[2],10)}:void 0}function aP(y,m){if(aT()){for(var u,w,p=y.stack.split("\n"),v=m.stack.split("\n"),x=-1,j=-1,k=0;k<p.length;++k){var q=aL(p[k]);if(q){u=q.fileName,x=q.line;break}}for(var k=0;k<v.length;++k){var q=aL(v[k]);if(q){w=q.fileName,j=q.line;break}}0>x||0>j||!u||!w||u!==w||x>=j||(aG=function(l){if(ae.test(l)){return !0}var i=aL(l);return i&&i.fileName===u&&x<=i.line&&i.line<=j?!0:!1})}}function aS(j){this._parent=j,this._promisesCreated=0;var i=this._length=1+(void 0===j?0:j._length);av(this,aS),i>32&&this.uncycle()}var aI,ac,ai,aY=aj._getDomain,aB=aj._async,au=h("./errors").Warning,ar=h("./util"),aF=ar.canAttachTrace,ae=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,aW=/\((?:timers\.js):\d+:\d+\)/,aD=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,aM=null,aN=null,t=!1,ap=!(0==ar.env("BLUEBIRD_DEBUG")||!ar.env("BLUEBIRD_DEBUG")&&"development"!==ar.env("NODE_ENV")),a5=!(0==ar.env("BLUEBIRD_WARNINGS")||!ap&&!ar.env("BLUEBIRD_WARNINGS")),a2=!(0==ar.env("BLUEBIRD_LONG_STACK_TRACES")||!ap&&!ar.env("BLUEBIRD_LONG_STACK_TRACES")),a0=0!=ar.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(a5||!!ar.env("BLUEBIRD_W_FORGOTTEN_RETURN"));aj.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},aj.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),aB.invokeLater(this._notifyUnhandledRejection,this,void 0))},aj.prototype._notifyUnhandledRejectionIsHandled=function(){ak("rejectionHandled",aI,void 0,this)},aj.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},aj.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},aj.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),ak("unhandledRejection",ac,e,this)}},aj.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},aj.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},aj.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},aj.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},aj.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},aj.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},aj.prototype._warn=function(k,i,j){return a3(k,i,j||this)},aj.onPossiblyUnhandledRejection=function(j){var i=aY();ac="function"==typeof j?null===i?j:ar.domainBind(i,j):void 0},aj.onUnhandledRejectionHandled=function(j){var i=aY();aI="function"==typeof j?null===i?j:ar.domainBind(i,j):void 0};var az=function(){};aj.longStackTraces=function(){if(aB.haveItemsQueued()&&!aJ.longStackTraces){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n")}if(!aJ.longStackTraces&&aT()){var i=aj.prototype._captureStackTrace,e=aj.prototype._attachExtraTrace;aJ.longStackTraces=!0,az=function(){if(aB.haveItemsQueued()&&!aJ.longStackTraces){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n")}aj.prototype._captureStackTrace=i,aj.prototype._attachExtraTrace=e,aE.deactivateLongStackTraces(),aB.enableTrampoline(),aJ.longStackTraces=!1},aj.prototype._captureStackTrace=am,aj.prototype._attachExtraTrace=aa,aE.activateLongStackTraces(),aB.disableTrampolineIfNecessary()}},aj.hasLongStackTraces=function(){return aJ.longStackTraces&&aT()};var ax=function(){try{if("function"==typeof CustomEvent){var j=new CustomEvent("CustomEvent");return ar.global.dispatchEvent(j),function(m,k){var l=new CustomEvent(m.toLowerCase(),{detail:k,cancelable:!0});return !ar.global.dispatchEvent(l)}}if("function"==typeof Event){var j=new Event("CustomEvent");return ar.global.dispatchEvent(j),function(m,k){var l=new Event(m.toLowerCase(),{cancelable:!0});return l.detail=k,!ar.global.dispatchEvent(l)}}var j=document.createEvent("CustomEvent");return j.initCustomEvent("testingtheevent",!1,!0,{}),ar.global.dispatchEvent(j),function(m,k){var l=document.createEvent("CustomEvent");return l.initCustomEvent(m.toLowerCase(),!1,!0,k),!ar.global.dispatchEvent(l)}}catch(i){}return function(){return !1}}(),a4=function(){return ar.isNode?function(){return process.emit.apply(process,arguments)}:ar.global?function(k){var i="on"+k.toLowerCase(),j=ar.global[i];return j?(j.apply(ar.global,[].slice.call(arguments,1)),!0):!1}:function(){return !1}}(),a6={promiseCreated:aO,promiseFulfilled:aO,promiseRejected:aO,promiseResolved:aO,promiseCancelled:aO,promiseChained:function(k,i,j){return{promise:i,child:j}},warning:function(j,i){return{warning:i}},unhandledRejection:function(k,i,j){return{reason:i,promise:j}},rejectionHandled:aO},aU=function(l){var i=!1;try{i=a4.apply(null,arguments)}catch(j){aB.throwLater(j),i=!0}var k=!1;try{k=ax(l,a6[l].apply(null,arguments))}catch(j){aB.throwLater(j),k=!0}return k||i};aj.config=function(i){if(i=Object(i),"longStackTraces" in i&&(i.longStackTraces?aj.longStackTraces():!i.longStackTraces&&aj.hasLongStackTraces()&&az()),"warnings" in i){var e=i.warnings;aJ.warnings=!!e,a0=aJ.warnings,ar.isObject(e)&&"wForgottenReturn" in e&&(a0=!!e.wForgottenReturn)}if("cancellation" in i&&i.cancellation&&!aJ.cancellation){if(aB.haveItemsQueued()){throw new Error("cannot enable cancellation after promises are in use")}aj.prototype._clearCancellationData=aA,aj.prototype._propagateFrom=aV,aj.prototype._onCancel=ab,aj.prototype._setOnCancel=af,aj.prototype._attachCancellationCallback=aR,aj.prototype._execute=aH,al=aV,aJ.cancellation=!0}"monitoring" in i&&(i.monitoring&&!aJ.monitoring?(aJ.monitoring=!0,aj.prototype._fireEvent=aU):!i.monitoring&&aJ.monitoring&&(aJ.monitoring=!1,aj.prototype._fireEvent=at))},aj.prototype._fireEvent=at,aj.prototype._execute=function(l,i,j){try{l(i,j)}catch(k){return k}},aj.prototype._onCancel=function(){},aj.prototype._setOnCancel=function(e){},aj.prototype._attachCancellationCallback=function(e){},aj.prototype._captureStackTrace=function(){},aj.prototype._attachExtraTrace=function(){},aj.prototype._clearCancellationData=function(){},aj.prototype._propagateFrom=function(j,i){};var al=aK,aG=function(){return !1},aQ=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;ar.inherits(aS,Error),aE.CapturedTrace=aS,aS.prototype.uncycle=function(){var z=this._length;if(!(2>z)){for(var m=[],v={},x=0,p=this;void 0!==p;++x){m.push(p),p=p._parent}z=this._length=x;for(var x=z-1;x>=0;--x){var w=m[x].stack;void 0===v[w]&&(v[w]=x)}for(var x=0;z>x;++x){var y=m[x].stack,j=v[y];if(void 0!==j&&j!==x){j>0&&(m[j-1]._parent=void 0,m[j-1]._length=1),m[x]._parent=void 0,m[x]._length=1;var k=x>0?m[x-1]:this;z-1>j?(k._parent=m[j+1],k._parent.uncycle(),k._length=k._parent._length+1):(k._parent=void 0,k._length=1);for(var q=k._length+1,A=x-2;A>=0;--A){m[A]._length=q,q++}return}}}},aS.prototype.attachExtraTrace=function(o){if(!o.__stackCleaned__){this.uncycle();for(var j=aw(o),l=j.message,m=[j.stack],k=this;void 0!==k;){m.push(aZ(k.stack.split("\n"))),k=k._parent}ad(m),ao(m),ar.notEnumerableProp(o,"stack",aC(l,m)),ar.notEnumerableProp(o,"__stackCleaned__",!0)}};var av=function(){var q=/^\s*at\s*/,j=function(n,i){return"string"==typeof n?n:void 0!==i.name&&void 0!==i.message?i.toString():an(i)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,aM=q,aN=j;var l=Error.captureStackTrace;return aG=function(e){return ae.test(e)},function(n,i){Error.stackTraceLimit+=6,l(n,i),Error.stackTraceLimit-=6}}var p=new Error;if("string"==typeof p.stack&&p.stack.split("\n")[0].indexOf("stackDetection@")>=0){return aM=/@/,aN=j,t=!0,function(e){e.stack=(new Error).stack}}var k;try{throw new Error}catch(m){k="stack" in m}return"stack" in p||!k||"number"!=typeof Error.stackTraceLimit?(aN=function(n,i){return"string"==typeof n?n:"object"!=typeof i&&"function"!=typeof i||void 0===i.name||void 0===i.message?an(i):i.toString()},null):(aM=q,aN=j,function(n){Error.stackTraceLimit+=6;try{throw new Error}catch(i){n.stack=i.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(ai=function(e){console.warn(e)},ar.isNode&&process.stderr.isTTY?ai=function(k,i){var j=i?"[33m":"[31m";console.warn(j+k+"[0m\n")}:ar.isNode||"string"!=typeof(new Error).stack||(ai=function(j,i){console.warn("%c"+j,i?"color: darkorange":"color: red")}));var aJ={warnings:a5,longStackTraces:!1,cancellation:!1,monitoring:!1};return a2&&aj.longStackTraces(),{longStackTraces:function(){return aJ.longStackTraces},warnings:function(){return aJ.warnings},cancellation:function(){return aJ.cancellation},monitoring:function(){return aJ.monitoring},propagateFromFunction:function(){return al},boundValueFunction:function(){return aq},checkForgottenReturns:ah,setBounds:aP,warn:a3,deprecated:aX,CapturedTrace:aS,fireDomEvent:ax,fireGlobalEvent:a4}}},{"./errors":12,"./util":36}],10:[function(h,f,g){f.exports=function(k){function i(){return this.value}function j(){throw this.reason}k.prototype["return"]=k.prototype.thenReturn=function(e){return e instanceof k&&e.suppressUnhandledRejections(),this._then(i,void 0,void 0,{value:e},void 0)},k.prototype["throw"]=k.prototype.thenThrow=function(e){return this._then(j,void 0,void 0,{reason:e},void 0)},k.prototype.catchThrow=function(n){if(arguments.length<=1){return this._then(void 0,j,void 0,{reason:n},void 0)}var l=arguments[1],m=function(){throw l};return this.caught(n,m)},k.prototype.catchReturn=function(l){if(arguments.length<=1){return l instanceof k&&l.suppressUnhandledRejections(),this._then(void 0,i,void 0,{value:l},void 0)}var m=arguments[1];m instanceof k&&m.suppressUnhandledRejections();var e=function(){return m};return this.caught(l,e)}}},{}],11:[function(h,f,g){f.exports=function(q,j){function l(){return m(this)}function p(i,e){return k(i,e,j,j)}var k=q.reduce,m=q.all;q.prototype.each=function(e){return k(this,e,j,0)._then(l,void 0,void 0,this,void 0)},q.prototype.mapSeries=function(e){return k(this,e,j,j)},q.each=function(i,e){return k(i,e,j,0)._then(l,void 0,void 0,i,void 0)},q.mapSeries=p}},{}],12:[function(L,z,G){function J(h,f){function g(e){return this instanceof g?(I(this,"message","string"==typeof e?e:f),I(this,"name",h),void (Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new g(e)}return M(g,Error),g}function D(e){return this instanceof D?(I(this,"name","OperationalError"),I(this,"message",e),this.cause=e,this.isOperational=!0,void (e instanceof Error?(I(this,"message",e.message),I(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new D(e)}var H,K,k=L("./es5"),w=k.freeze,E=L("./util"),M=E.inherits,I=E.notEnumerableProp,C=J("Warning","warning"),A=J("CancellationError","cancellation error"),j=J("TimeoutError","timeout error"),x=J("AggregateError","aggregate error");try{H=TypeError,K=RangeError}catch(N){H=J("TypeError","type error"),K=J("RangeError","range error")}for(var O="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),F=0;F<O.length;++F){"function"==typeof Array.prototype[O[F]]&&(x.prototype[O[F]]=Array.prototype[O[F]])}k.defineProperty(x.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),x.prototype.isOperational=!0;var B=0;x.prototype.toString=function(){var p=Array(4*B+1).join(" "),f="\n"+p+"AggregateError of:\n";B++,p=Array(4*B+1).join(" ");for(var h=0;h<this.length;++h){for(var m=this[h]===this?"[Circular AggregateError]":this[h]+"",g=m.split("\n"),l=0;l<g.length;++l){g[l]=p+g[l]}m=g.join("\n"),f+=m+"\n"}return B--,f},M(D,Error);var q=Error.__BluebirdErrorTypes__;q||(q=w({CancellationError:A,TimeoutError:j,OperationalError:D,RejectionError:D,AggregateError:x}),k.defineProperty(Error,"__BluebirdErrorTypes__",{value:q,writable:!1,enumerable:!1,configurable:!1})),z.exports={Error:Error,TypeError:H,RangeError:K,CancellationError:q.CancellationError,OperationalError:q.OperationalError,TimeoutError:q.TimeoutError,AggregateError:q.AggregateError,Warning:C}},{"./es5":13,"./util":36}],13:[function(A,j,v){var y=function(){return void 0===this}();if(y){j.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:y,propertyIsWritable:function(l,h){var i=Object.getOwnPropertyDescriptor(l,h);return !(i&&!i.writable&&!i.set)}}}else{var m={}.hasOwnProperty,w={}.toString,z={}.constructor.prototype,f=function(l){var h=[];for(var i in l){m.call(l,i)&&h.push(i)}return h},g=function(i,h){return{value:i[h]}},q=function(l,h,i){return l[h]=i.value,l},B=function(e){return e},x=function(i){try{return Object(i).constructor.prototype}catch(h){return z}},k=function(i){try{return"[object Array]"===w.call(i)}catch(h){return !1}};j.exports={isArray:k,keys:f,names:f,defineProperty:q,getDescriptor:g,freeze:B,getPrototypeOf:x,isES5:y,propertyIsWritable:function(){return !0}}}},{}],14:[function(h,f,g){f.exports=function(k,i){var j=k.map;k.prototype.filter=function(l,e){return j(this,l,e,i)},k.filter=function(m,l,e){return j(m,l,e,i)}}},{}],15:[function(h,f,g){f.exports=function(m,v){function y(o,i,l){this.promise=o,this.type=i,this.handler=l,this.called=!1,this.cancelPromise=null}function q(e){this.finallyHandler=e}function w(l,i){return null!=l.cancelPromise?(arguments.length>1?l.cancelPromise._reject(i):l.cancelPromise._cancel(),l.cancelPromise=null,!0):!1}function z(){return k.call(this,this.promise._target()._settledValue())}function j(e){return w(this,e)?void 0:(x.e=e,x)}function k(s){var p=this.promise,e=this.handler;if(!this.called){this.called=!0;var o=this.isFinallyHandler()?e.call(p._boundValue()):e.call(p._boundValue(),s);if(void 0!==o){p._setReturnedNonUndefined();var n=v(o,p);if(n instanceof m){if(null!=this.cancelPromise){if(n._isCancelled()){var i=new A("late cancellation observer");return p._attachExtraTrace(i),x.e=i,x}n.isPending()&&n._attachCancellationCallback(new q(this))}return n._then(z,j,void 0,this,void 0)}}}return p.isRejected()?(w(this),x.e=s,x):(w(this),s)}var t=h("./util"),A=m.CancellationError,x=t.errorObj;return y.prototype.isFinallyHandler=function(){return 0===this.type},q.prototype._resultCancelled=function(){w(this.finallyHandler)},m.prototype._passThrough=function(r,l,p,o){return"function"!=typeof r?this.then():this._then(p,o,void 0,new y(this,l,r),void 0)},m.prototype.lastly=m.prototype["finally"]=function(e){return this._passThrough(e,0,k,k)},m.prototype.tap=function(e){return this._passThrough(e,1,k)},y}},{"./util":36}],16:[function(h,f,g){f.exports=function(q,y,B,w,z,C){function k(F,l,u){for(var p=0;p<l.length;++p){u._pushContext();var E=t(l[p])(F);if(u._popContext(),E===v){u._pushContext();var e=q.reject(v.e);return u._popContext(),e}var i=w(E,u);if(i instanceof q){return i}}return null}function m(F,u,r,E){if(C.cancellation()){var e=new q(B),p=this._finallyPromise=new q(B);this._promise=e.lastly(function(){return p}),e._captureStackTrace(),e._setOnCancel(this)}else{var s=this._promise=new q(B);s._captureStackTrace()}this._stack=E,this._generatorFunction=F,this._receiver=u,this._generator=void 0,this._yieldHandlers="function"==typeof r?[r].concat(j):j,this._yieldedPromise=null,this._cancellationPhase=!1}var x=h("./errors"),D=x.TypeError,A=h("./util"),v=A.errorObj,t=A.tryCatch,j=[];A.inherits(m,z),m.prototype._isResolved=function(){return null===this._promise},m.prototype._cleanup=function(){this._promise=this._generator=null,C.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},m.prototype._promiseCancelled=function(){if(!this._isResolved()){var l,e="undefined"!=typeof this._generator["return"];if(e){this._promise._pushContext(),l=t(this._generator["return"]).call(this._generator,void 0),this._promise._popContext()}else{var i=new q.CancellationError("generator .return() sentinel");q.coroutine.returnSentinel=i,this._promise._attachExtraTrace(i),this._promise._pushContext(),l=t(this._generator["throw"]).call(this._generator,i),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(l)}},m.prototype._promiseFulfilled=function(l){this._yieldedPromise=null,this._promise._pushContext();var i=t(this._generator.next).call(this._generator,l);this._promise._popContext(),this._continue(i)},m.prototype._promiseRejected=function(l){this._yieldedPromise=null,this._promise._attachExtraTrace(l),this._promise._pushContext();var i=t(this._generator["throw"]).call(this._generator,l);this._promise._popContext(),this._continue(i)},m.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof q){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},m.prototype.promise=function(){return this._promise},m.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},m.prototype._continue=function(u){var e=this._promise;if(u===v){return this._cleanup(),this._cancellationPhase?e.cancel():e._rejectCallback(u.e,!1)}var l=u.value;if(u.done===!0){return this._cleanup(),this._cancellationPhase?e.cancel():e._resolveCallback(l)}var i=w(l,this._promise);if(!(i instanceof q)&&(i=k(i,this._yieldHandlers,this._promise),null===i)){return void this._promiseRejected(new D("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",l)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))}i=i._target();var p=i._bitField;0===(50397184&p)?(this._yieldedPromise=i,i._proxy(this,null)):0!==(33554432&p)?q._async.invoke(this._promiseFulfilled,this,i._value()):0!==(16777216&p)?q._async.invoke(this._promiseRejected,this,i._reason()):this._promiseCancelled()},q.coroutine=function(u,l){if("function"!=typeof u){throw new D("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n")}var p=Object(l).yieldHandler,s=m,o=(new Error).stack;return function(){var i=u.apply(this,arguments),n=new s(void 0,void 0,p,o),r=n.promise();return n._generator=i,n._promiseFulfilled(void 0),r}},q.coroutine.addYieldHandler=function(e){if("function"!=typeof e){throw new D("expecting a function but got "+A.classString(e))}j.push(e)},q.spawn=function(n){if(C.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof n){return y("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n")}var l=new m(n,this),e=l.promise();return l._run(q.spawn),e}}},{"./errors":12,"./util":36}],17:[function(h,f,g){f.exports=function(k,m,q,l,p,t){var j=h("./util");j.canEvaluate,j.tryCatch,j.errorObj;k.join=function(){var u,n=arguments.length-1;if(n>0&&"function"==typeof arguments[n]){u=arguments[n];var s}var o=[].slice.call(arguments);u&&o.pop();var s=new m(o).promise();return void 0!==u?s.spread(u):s}}},{"./util":36}],18:[function(h,f,g){f.exports=function(m,w,z,t,x,A){function j(u,l,p,s){this.constructor$(u),this._promise._captureStackTrace();var o=v();this._callback=null===o?l:B.domainBind(o,l),this._preservedValues=s===x?new Array(this.length()):null,this._limit=p,this._inFlight=0,this._queue=[],this._init$(void 0,-2)}function k(u,l,e,p){if("function"!=typeof l){return z("expecting a function but got "+B.classString(l))}var r=0;if(void 0!==e){if("object"!=typeof e||null===e){return m.reject(new TypeError("options argument must be an object but it is "+B.classString(e)))}if("number"!=typeof e.concurrency){return m.reject(new TypeError("'concurrency' must be a number but it is "+B.classString(e.concurrency)))}r=e.concurrency}return r="number"==typeof r&&isFinite(r)&&r>=1?r:0,new j(u,l,r,p).promise()}var v=m._getDomain,B=h("./util"),y=B.tryCatch,q=B.errorObj;B.inherits(j,w),j.prototype._init=function(){},j.prototype._promiseFulfilled=function(I,F){var H=this._values,G=this.length(),i=this._preservedValues,p=this._limit;if(0>F){if(F=-1*F-1,H[F]=I,p>=1&&(this._inFlight--,this._drainQueue(),this._isResolved())){return !0}}else{if(p>=1&&this._inFlight>=p){return H[F]=I,this._queue.push(F),!1}null!==i&&(i[F]=I);var D=this._promise,J=this._callback,C=D._boundValue();D._pushContext();var e=y(J).call(C,I,F,G),s=D._popContext();if(A.checkForgottenReturns(e,s,null!==i?"Promise.filter":"Promise.map",D),e===q){return this._reject(e.e),!0}var K=t(e,this._promise);if(K instanceof m){K=K._target();var L=K._bitField;if(0===(50397184&L)){return p>=1&&this._inFlight++,H[F]=K,K._proxy(this,-1*(F+1)),!1}if(0===(33554432&L)){return 0!==(16777216&L)?(this._reject(K._reason()),!0):(this._cancel(),!0)}e=K._value()}H[F]=e}var E=++this._totalResolved;return E>=G?(null!==i?this._filter(H,i):this._resolve(H),!0):!1},j.prototype._drainQueue=function(){for(var p=this._queue,i=this._limit,l=this._values;p.length>0&&this._inFlight<i;){if(this._isResolved()){return}var o=p.pop();this._promiseFulfilled(l[o],o)}},j.prototype._filter=function(D,l){for(var s=l.length,C=new Array(s),p=0,u=0;s>u;++u){D[u]&&(C[p++]=l[u])}C.length=p,this._resolve(C)},j.prototype.preservedValues=function(){return this._preservedValues},m.prototype.map=function(l,i){return k(this,l,i,null)},m.map=function(p,i,l,o){return k(p,i,l,o)}}},{"./util":36}],19:[function(h,f,g){f.exports=function(k,m,q,l,p){var t=h("./util"),j=t.tryCatch;k.method=function(e){if("function"!=typeof e){throw new k.TypeError("expecting a function but got "+t.classString(e))}return function(){var o=new k(m);o._captureStackTrace(),o._pushContext();var n=j(e).apply(this,arguments),u=o._popContext();return p.checkForgottenReturns(n,u,"Promise.method",o),o._resolveFromSyncValue(n),o}},k.attempt=k["try"]=function(s){if("function"!=typeof s){return l("expecting a function but got "+t.classString(s))}var o=new k(m);o._captureStackTrace(),o._pushContext();var e;if(arguments.length>1){p.deprecated("calling Promise.try with more than 1 argument");var i=arguments[1],v=arguments[2];e=t.isArray(i)?j(s).apply(v,i):j(s).call(v,i)}else{e=j(s)()}var n=o._popContext();return p.checkForgottenReturns(e,n,"Promise.try",o),o._resolveFromSyncValue(e),o},k.prototype._resolveFromSyncValue=function(e){e===t.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(y,h,m){function w(e){return e instanceof Error&&z.getPrototypeOf(e)===Error.prototype}function j(u){var l;if(w(u)){l=new k(u),l.name=u.name,l.message=u.message,l.stack=u.stack;for(var r=z.keys(u),p=0;p<r.length;++p){var s=r[p];v.test(s)||(l[s]=u[s])}return l}return x.markAsOriginatingFromRejection(u),u}function q(l,i){return function(e,t){if(null!==l){if(e){var p=j(f(e));l._attachExtraTrace(p),l._reject(p)}else{if(i){var u=[].slice.call(arguments,1);l._fulfill(u)}else{l._fulfill(t)}}l=null}}}var x=y("./util"),f=x.maybeWrapAsError,g=y("./errors"),k=g.OperationalError,z=y("./es5"),v=/^(?:name|message|stack|cause)$/;h.exports=q},{"./errors":12,"./es5":13,"./util":36}],21:[function(h,f,g){f.exports=function(l){function p(v,o){var s=this;if(!q.isArray(v)){return t.call(s,v,o)}var r=j(o).apply(s._boundValue(),[null].concat(v));r===k&&u.throwLater(r.e)}function t(x,o){var v=this,w=v._boundValue(),s=void 0===x?j(o).call(w,null):j(o).call(w,null,x);s===k&&u.throwLater(s.e)}function m(x,o){var v=this;if(!x){var w=new Error(x+"");w.cause=x,x=w}var s=j(o).call(v._boundValue(),x);s===k&&u.throwLater(s.e)}var q=h("./util"),u=l._async,j=q.tryCatch,k=q.errorObj;l.prototype.asCallback=l.prototype.nodeify=function(r,i){if("function"==typeof r){var n=t;void 0!==i&&Object(i).spread&&(n=p),this._then(n,m,void 0,this,r)}return this}}},{"./util":36}],22:[function(h,f,g){f.exports=function(){function U(){}function Z(j,i){if("function"!=typeof i){throw new Q("expecting a function but got "+G.classString(i))}if(j.constructor!==K){throw new Q("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}}function K(i){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,i!==t&&(Z(this,i),this._resolveFromExecutor(i)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function V(i){this.promise._resolveCallback(i)}function ab(i){this.promise._rejectCallback(i,!1)}function q(j){var i=new K(t);i._fulfillmentHandler0=j,i._rejectionHandler0=j,i._promise0=j,i._receiver0=j}var z,N=function(){return new Q("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},ae=function(){return new K.PromiseInspection(this._target())},X=function(i){return K.reject(new Q(i))},J={},G=h("./util");z=G.isNode?function(){var i=process.domain;return void 0===i&&(i=null),i}:function(){return null},G.notEnumerableProp(K,"_getDomain",z);var e=h("./es5"),B=h("./async"),af=new B;e.defineProperty(K,"_async",{value:af});var ai=h("./errors"),Q=K.TypeError=ai.TypeError;K.RangeError=ai.RangeError;var I=K.CancellationError=ai.CancellationError;K.TimeoutError=ai.TimeoutError,K.OperationalError=ai.OperationalError,K.RejectionError=ai.OperationalError,K.AggregateError=ai.AggregateError;var t=function(){},ag={},A={},L=h("./thenables")(K,t),M=h("./promise_array")(K,t,L,X,U),D=h("./context")(K),H=D.create,ah=h("./debuggability")(K,D),ad=(ah.CapturedTrace,h("./finally")(K,L)),Y=h("./catch_filter")(A),aa=h("./nodeback"),ac=G.errorObj,W=G.tryCatch;return K.prototype.toString=function(){return"[object Promise]"},K.prototype.caught=K.prototype["catch"]=function(s){var j=arguments.length;if(j>1){var l,p=new Array(j-1),k=0;for(l=0;j-1>l;++l){var m=arguments[l];if(!G.isObject(m)){return X("expecting an object but got A catch statement predicate "+G.classString(m))}p[k++]=m}return p.length=k,s=arguments[l],this.then(void 0,Y(p,s,this))}return this.then(void 0,s)},K.prototype.reflect=function(){return this._then(ae,ae,void 0,this,void 0)},K.prototype.then=function(k,i){if(ah.warnings()&&arguments.length>0&&"function"!=typeof k&&"function"!=typeof i){var j=".then() only accepts functions but was passed: "+G.classString(k);arguments.length>1&&(j+=", "+G.classString(i)),this._warn(j)}return this._then(k,i,void 0,void 0,void 0)},K.prototype.done=function(k,i){var j=this._then(k,i,void 0,void 0,void 0);j._setIsFinal()},K.prototype.spread=function(i){return"function"!=typeof i?X("expecting a function but got "+G.classString(i)):this.all()._then(i,void 0,void 0,ag,void 0)},K.prototype.toJSON=function(){var i={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(i.fulfillmentValue=this.value(),i.isFulfilled=!0):this.isRejected()&&(i.rejectionReason=this.reason(),i.isRejected=!0),i},K.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new M(this).promise()},K.prototype.error=function(i){return this.caught(G.originatesFromRejection,i)},K.getNewLibraryCopy=f.exports,K.is=function(i){return i instanceof K},K.fromNode=K.fromCallback=function(l){var i=new K(t);i._captureStackTrace();var j=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,k=W(l)(aa(i,j));return k===ac&&i._rejectCallback(k.e,!0),i._isFateSealed()||i._setAsyncGuaranteed(),i},K.all=function(i){return new M(i).promise()},K.cast=function(j){var i=L(j);return i instanceof K||(i=new K(t),i._captureStackTrace(),i._setFulfilled(),i._rejectionHandler0=j),i},K.resolve=K.fulfilled=K.cast,K.reject=K.rejected=function(j){var i=new K(t);return i._captureStackTrace(),i._rejectCallback(j,!0),i},K.setScheduler=function(i){if("function"!=typeof i){throw new Q("expecting a function but got "+G.classString(i))}return af.setScheduler(i)},K.prototype._then=function(O,m,x,E,y){var F=void 0!==y,j=F?y:new K(t),w=this._target(),P=w._bitField;F||(j._propagateFrom(this,3),j._captureStackTrace(),void 0===E&&0!==(2097152&this._bitField)&&(E=0!==(50397184&P)?this._boundValue():w===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,j));var C=z();if(0!==(50397184&P)){var v,i,k=w._settlePromiseCtx;0!==(33554432&P)?(i=w._rejectionHandler0,v=O):0!==(16777216&P)?(i=w._fulfillmentHandler0,v=m,w._unsetRejectionIsUnhandled()):(k=w._settlePromiseLateCancellationObserver,i=new I("late cancellation observer"),w._attachExtraTrace(i),v=m),af.invoke(k,w,{handler:null===C?v:"function"==typeof v&&G.domainBind(C,v),promise:j,receiver:E,value:i})}else{w._addCallbacks(O,m,j,E,C)}return j},K.prototype._length=function(){return 65535&this._bitField},K.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},K.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},K.prototype._setLength=function(i){this._bitField=-65536&this._bitField|65535&i},K.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},K.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},K.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},K.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},K.prototype._isFinal=function(){return(4194304&this._bitField)>0},K.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},K.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},K.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},K.prototype._setAsyncGuaranteed=function(){af.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},K.prototype._receiverAt=function(j){var i=0===j?this._receiver0:this[4*j-4+3];return i===J?void 0:void 0===i&&this._isBound()?this._boundValue():i},K.prototype._promiseAt=function(i){return this[4*i-4+2]},K.prototype._fulfillmentHandlerAt=function(i){return this[4*i-4+0]},K.prototype._rejectionHandlerAt=function(i){return this[4*i-4+1]},K.prototype._boundValue=function(){},K.prototype._migrateCallback0=function(o){var j=(o._bitField,o._fulfillmentHandler0),l=o._rejectionHandler0,m=o._promise0,k=o._receiverAt(0);void 0===k&&(k=J),this._addCallbacks(j,l,m,k,null)},K.prototype._migrateCallbackAt=function(s,j){var l=s._fulfillmentHandlerAt(j),p=s._rejectionHandlerAt(j),k=s._promiseAt(j),m=s._receiverAt(j);void 0===m&&(m=J),this._addCallbacks(l,p,k,m,null)},K.prototype._addCallbacks=function(v,j,l,p,k){var m=this._length();if(m>=65531&&(m=0,this._setLength(0)),0===m){this._promise0=l,this._receiver0=p,"function"==typeof v&&(this._fulfillmentHandler0=null===k?v:G.domainBind(k,v)),"function"==typeof j&&(this._rejectionHandler0=null===k?j:G.domainBind(k,j))}else{var u=4*m-4;this[u+2]=l,this[u+3]=p,"function"==typeof v&&(this[u+0]=null===k?v:G.domainBind(k,v)),"function"==typeof j&&(this[u+1]=null===k?j:G.domainBind(k,j))}return this._setLength(m+1),m},K.prototype._proxy=function(j,i){this._addCallbacks(void 0,void 0,i,j,null)},K.prototype._resolveCallback=function(v,k){if(0===(117506048&this._bitField)){if(v===this){return this._rejectCallback(N(),!1)}var l=L(v,this);if(!(l instanceof K)){return this._fulfill(v)}k&&this._propagateFrom(l,2);var p=l._target();if(p===this){return void this._reject(N())}var m=p._bitField;if(0===(50397184&m)){var u=this._length();u>0&&p._migrateCallback0(this);for(var i=1;u>i;++i){p._migrateCallbackAt(this,i)}this._setFollowing(),this._setLength(0),this._setFollowee(p)}else{if(0!==(33554432&m)){this._fulfill(p._value())}else{if(0!==(16777216&m)){this._reject(p._reason())}else{var j=new I("late cancellation observer");p._attachExtraTrace(j),this._reject(j)}}}}},K.prototype._rejectCallback=function(s,j,l){var p=G.ensureErrorObject(s),k=p===s;if(!k&&!l&&ah.warnings()){var m="a promise was rejected with a non-error: "+G.classString(s);this._warn(m,!0)}this._attachExtraTrace(p,j?k:!1),this._reject(s)},K.prototype._resolveFromExecutor=function(l){var i=this;this._captureStackTrace(),this._pushContext();var j=!0,k=this._execute(l,function(m){i._resolveCallback(m)},function(m){i._rejectCallback(m,j)});j=!1,this._popContext(),void 0!==k&&i._rejectCallback(k,!0)},K.prototype._settlePromiseFromHandler=function(v,j,l,p){var k=p._bitField;if(0===(65536&k)){p._pushContext();var m;j===ag?l&&"number"==typeof l.length?m=W(v).apply(this._boundValue(),l):(m=ac,m.e=new Q("cannot .spread() a non-array: "+G.classString(l))):m=W(v).call(j,l);var u=p._popContext();k=p._bitField,0===(65536&k)&&(m===A?p._reject(l):m===ac?p._rejectCallback(m.e,!1):(ah.checkForgottenReturns(m,u,"",p,this),p._resolveCallback(m)))}},K.prototype._target=function(){for(var i=this;i._isFollowing();){i=i._followee()}return i},K.prototype._followee=function(){return this._rejectionHandler0},K.prototype._setFollowee=function(i){this._rejectionHandler0=i},K.prototype._settlePromise=function(p,k,m,l){var n=p instanceof K,i=this._bitField,j=0!==(134217728&i);0!==(65536&i)?(n&&p._invokeInternalOnCancel(),m instanceof ad&&m.isFinallyHandler()?(m.cancelPromise=p,W(k).call(m,l)===ac&&p._reject(ac.e)):k===ae?p._fulfill(ae.call(m)):m instanceof U?m._promiseCancelled(p):n||p instanceof M?p._cancel():m.cancel()):"function"==typeof k?n?(j&&p._setAsyncGuaranteed(),this._settlePromiseFromHandler(k,m,l,p)):k.call(m,l,p):m instanceof U?m._isResolved()||(0!==(33554432&i)?m._promiseFulfilled(l,p):m._promiseRejected(l,p)):n&&(j&&p._setAsyncGuaranteed(),0!==(33554432&i)?p._fulfill(l):p._reject(l))},K.prototype._settlePromiseLateCancellationObserver=function(m){var i=m.handler,j=m.promise,l=m.receiver,k=m.value;"function"==typeof i?j instanceof K?this._settlePromiseFromHandler(i,l,k,j):i.call(l,k,j):j instanceof K&&j._reject(k)},K.prototype._settlePromiseCtx=function(i){this._settlePromise(i.promise,i.handler,i.receiver,i.value)},K.prototype._settlePromise0=function(o,j,l){var m=this._promise0,k=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(m,o,k,j)},K.prototype._clearCallbackDataAtIndex=function(j){var i=4*j-4;this[i+2]=this[i+3]=this[i+0]=this[i+1]=void 0},K.prototype._fulfill=function(k){var i=this._bitField;if(!((117506048&i)>>>16)){if(k===this){var j=N();return this._attachExtraTrace(j),this._reject(j)}this._setFulfilled(),this._rejectionHandler0=k,(65535&i)>0&&(0!==(134217728&i)?this._settlePromises():af.settlePromises(this))}},K.prototype._reject=function(j){var i=this._bitField;if(!((117506048&i)>>>16)){return this._setRejected(),this._fulfillmentHandler0=j,this._isFinal()?af.fatalError(j,G.isNode):void ((65535&i)>0?af.settlePromises(this):this._ensurePossibleRejectionHandled())}},K.prototype._fulfillPromises=function(s,j){for(var l=1;s>l;l++){var p=this._fulfillmentHandlerAt(l),k=this._promiseAt(l),m=this._receiverAt(l);this._clearCallbackDataAtIndex(l),this._settlePromise(k,p,m,j)}},K.prototype._rejectPromises=function(s,j){for(var l=1;s>l;l++){var p=this._rejectionHandlerAt(l),k=this._promiseAt(l),m=this._receiverAt(l);this._clearCallbackDataAtIndex(l),this._settlePromise(k,p,m,j)}},K.prototype._settlePromises=function(){var l=this._bitField,i=65535&l;if(i>0){if(0!==(16842752&l)){var j=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,j,l),this._rejectPromises(i,j)}else{var k=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,k,l),this._fulfillPromises(i,k)}this._setLength(0)}this._clearCancellationData()},K.prototype._settledValue=function(){var i=this._bitField;return 0!==(33554432&i)?this._rejectionHandler0:0!==(16777216&i)?this._fulfillmentHandler0:void 0},K.defer=K.pending=function(){ah.deprecated("Promise.defer","new Promise");var i=new K(t);return{promise:i,resolve:V,reject:ab}},G.notEnumerableProp(K,"_makeSelfResolutionError",N),h("./method")(K,t,L,X,ah),h("./bind")(K,t,L,ah),h("./cancel")(K,M,X,ah),h("./direct_resolve")(K),h("./synchronous_inspection")(K),h("./join")(K,M,L,t,af,z),K.Promise=K,K.version="3.4.5",h("./map.js")(K,M,X,L,t,ah),h("./call_get.js")(K),h("./using.js")(K,X,L,H,t,ah),h("./timers.js")(K,t,ah),h("./generators.js")(K,X,t,L,U,ah),h("./nodeify.js")(K),h("./promisify.js")(K,t),h("./props.js")(K,M,L,X),h("./race.js")(K,t,L,X),h("./reduce.js")(K,M,X,L,t,ah),h("./settle.js")(K,M,ah),h("./some.js")(K,M,X),h("./filter.js")(K,t),h("./each.js")(K,t),h("./any.js")(K),G.toFastProperties(K),G.toFastProperties(K.prototype),q({a:1}),q({b:2}),q({c:3}),q(1),q(function(){}),q(void 0),q(!1),q(new K(t)),ah.setBounds(B.firstLineError,G.lastLineError),K}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(h,f,g){f.exports=function(m,t,v,p,u){function w(e){switch(e){case -2:return[];case -3:return{}}}function j(i){var e=this._promise=new m(t);i instanceof m&&e._propagateFrom(i,3),e._setOnCancel(this),this._values=i,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var k=h("./util");k.isArray;return k.inherits(j,u),j.prototype.length=function(){return this._length},j.prototype.promise=function(){return this._promise},j.prototype._init=function q(r,i){var l=v(this._values,this._promise);if(l instanceof m){l=l._target();var e=l._bitField;if(this._values=l,0===(50397184&e)){return this._promise._setAsyncGuaranteed(),l._then(q,this._reject,void 0,this,i)}if(0===(33554432&e)){return 0!==(16777216&e)?this._reject(l._reason()):this._cancel()}l=l._value()}if(l=k.asArray(l),null===l){var s=p("expecting an array or an iterable object but got "+k.classString(l)).reason();return void this._promise._rejectCallback(s,!1)}return 0===l.length?void (-5===i?this._resolveEmptyArray():this._resolve(w(i))):void this._iterate(l)},j.prototype._iterate=function(A){var x=this.getActualLength(A.length);this._length=x,this._values=this.shouldCopyValues()?new Array(x):this._values;for(var r=this._promise,y=!1,z=null,e=0;x>e;++e){var l=v(A[e],r);l instanceof m?(l=l._target(),z=l._bitField):z=null,y?null!==z&&l.suppressUnhandledRejections():null!==z?0===(50397184&z)?(l._proxy(this,e),this._values[e]=l):y=0!==(33554432&z)?this._promiseFulfilled(l._value(),e):0!==(16777216&z)?this._promiseRejected(l._reason(),e):this._promiseCancelled(e):y=this._promiseFulfilled(l,e)}y||r._setAsyncGuaranteed()},j.prototype._isResolved=function(){return null===this._values},j.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},j.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},j.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},j.prototype._promiseFulfilled=function(o,i){this._values[i]=o;var l=++this._totalResolved;return l>=this._length?(this._resolve(this._values),!0):!1},j.prototype._promiseCancelled=function(){return this._cancel(),!0},j.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},j.prototype._resultCancelled=function(){if(!this._isResolved()){var i=this._values;if(this._cancel(),i instanceof m){i.cancel()}else{for(var e=0;e<i.length;++e){i[e] instanceof m&&i[e].cancel()}}}},j.prototype.shouldCopyValues=function(){return !0},j.prototype.getActualLength=function(e){return e},j}},{"./util":36}],24:[function(h,f,g){f.exports=function(D,O){function R(e){return !A.test(e)}function J(j){try{return j.__isPromisified__===!0}catch(i){return !1}}function P(l,i,j){var k=G.getDataPropertyOrDefault(l,i+j,x);return k?J(k):!1}function S(v,j,l){for(var p=0;p<v.length;p+=2){var k=v[p];if(l.test(k)){for(var m=k.replace(l,""),u=0;u<v.length;u+=2){if(v[u]===m){throw new N("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",j))}}}}}function t(y,k,s,w){for(var i=G.inheritedDataKeys(y),j=[],o=0;o<i.length;++o){var C=i[o],v=y[C],m=w===K?!0:K(C,v,y);"function"!=typeof v||J(v)||P(y,C,k)||!w(C,v,y,m)||j.push(C,v)}return S(j,k,s),j}function z(w,p,k,n,v,e){function j(){var r=p;p===I&&(r=this);var u=new D(O);u._captureStackTrace();var E="string"==typeof y&&this!==m?this[y]:w,l=q(u,e);try{E.apply(r,B(arguments,l))}catch(C){u._rejectCallback(U(C),!0,!0)}return u._isFateSealed()||u._setAsyncGuaranteed(),u}var m=function(){return this}(),y=w;return"string"==typeof y&&(w=n),G.notEnumerableProp(j,"__isPromisified__",!0),j}function M(aa,v,C,Y,w){for(var E=new RegExp(L(v)+"$"),Z=t(aa,v,E,C),k=0,y=Z.length;y>k;k+=2){var ab=Z[k],X=Z[k+1],j=ab+v;if(Y===F){aa[j]=F(ab,I,ab,X,v,w)}else{var m=Y(X,function(){return F(ab,I,ab,X,v,w)});G.notEnumerableProp(m,"__isPromisified__",!0),aa[j]=m}}return G.toFastProperties(aa),aa}function T(k,i,j){return F(k,i,void 0,k,null,j)}var Q,I={},G=h("./util"),q=h("./nodeback"),B=G.withAppended,U=G.maybeWrapAsError,W=G.canEvaluate,N=h("./errors").TypeError,H="Async",x={__isPromisified__:!0},V=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],A=new RegExp("^(?:"+V.join("|")+")$"),K=function(e){return G.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},L=function(e){return e.replace(/([$])/,"\\$")},F=W?Q:z;D.promisify=function(m,i){if("function"!=typeof m){throw new N("expecting a function but got "+G.classString(m))}if(J(m)){return m}i=Object(i);var j=void 0===i.context?I:i.context,k=!!i.multiArgs,l=T(m,j,k);return G.copyDescriptors(m,l,R),l},D.promisifyAll=function(y,l){if("function"!=typeof y&&"object"!=typeof y){throw new N("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n")}l=Object(l);var p=!!l.multiArgs,v=l.suffix;"string"!=typeof v&&(v=H);var m=l.filter;"function"!=typeof m&&(m=K);var u=l.promisifier;if("function"!=typeof u&&(u=F),!G.isIdentifier(v)){throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n")}for(var w=G.inheritedDataKeys(y),j=0;j<w.length;++j){var k=y[w[j]];"constructor"!==w[j]&&G.isClass(k)&&(M(k.prototype,v,m,u,p),M(k,v,m,u,p))}return M(y,v,m,u,p)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(h,f,g){f.exports=function(m,w,z,t){function x(F){var l,u=!1;if(void 0!==j&&F instanceof j){l=y(F),u=!0}else{var D=B.keys(F),p=D.length;l=new Array(2*p);for(var C=0;p>C;++C){var E=D[C];l[C]=F[E],l[C+p]=E}}this.constructor$(l),this._isMap=u,this._init$(void 0,-3)}function A(l){var e,i=z(l);return v(i)?(e=i instanceof m?i._then(m.props,void 0,void 0,void 0,void 0):new x(i).promise(),i instanceof m&&e._propagateFrom(i,2),e):t("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var j,k=h("./util"),v=k.isObject,B=h("./es5");"function"==typeof Map&&(j=Map);var y=function(){function o(n,e){this[i]=n,this[i+l]=e,i++}var i=0,l=0;return function(n){l=n.size,i=0;var e=new Array(2*n.size);return n.forEach(o,e),e}}(),q=function(D){for(var l=new j,s=D.length/2|0,C=0;s>C;++C){var p=D[s+C],u=D[C];l.set(p,u)}return l};k.inherits(x,w),x.prototype._init=function(){},x.prototype._promiseFulfilled=function(F,l){this._values[l]=F;var u=++this._totalResolved;if(u>=this._length){var D;if(this._isMap){D=q(this._values)}else{D={};for(var p=this.length(),C=0,E=this.length();E>C;++C){D[this._values[C+p]]=this._values[C]}}return this._resolve(D),!0}return !1},x.prototype.shouldCopyValues=function(){return !1},x.prototype.getActualLength=function(e){return e>>1},m.prototype.props=function(){return A(this)},m.props=function(e){return A(e)}}},{"./es5":13,"./util":36}],26:[function(k,f,h){function j(u,l,p,s,m){for(var q=0;m>q;++q){p[q+s]=u[q+l],u[q+l]=void 0}}function g(e){this._capacity=e,this._length=0,this._front=0}g.prototype._willBeOverCapacity=function(e){return this._capacity<e},g.prototype._pushOne=function(m){var i=this.length();this._checkCapacity(i+1);var l=this._front+i&this._capacity-1;this[l]=m,this._length=i+1},g.prototype._unshiftOne=function(o){var i=this._capacity;this._checkCapacity(this.length()+1);var l=this._front,m=(l-1&i-1^i)-i;this[m]=o,this._front=m,this._length=this.length()+1},g.prototype.unshift=function(m,i,l){this._unshiftOne(l),this._unshiftOne(i),this._unshiftOne(m)},g.prototype.push=function(u,l,p){var s=this.length()+3;if(this._willBeOverCapacity(s)){return this._pushOne(u),this._pushOne(l),void this._pushOne(p)}var m=this._front+s-3;this._checkCapacity(s);var q=this._capacity-1;this[m+0&q]=u,this[m+1&q]=l,this[m+2&q]=p,this._length=s},g.prototype.shift=function(){var l=this._front,i=this[l];return this[l]=void 0,this._front=l+1&this._capacity-1,this._length--,i},g.prototype.length=function(){return this._length},g.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},g.prototype._resizeTo=function(r){var l=this._capacity;this._capacity=r;var p=this._front,m=this._length,q=p+m&l-1;j(this,0,this,l,q)},f.exports=g},{}],27:[function(h,f,g){f.exports=function(k,m,q,l){function p(x,v){var i=q(x);if(i instanceof k){return j(i)}if(x=t.asArray(x),null===x){return l("expecting an array or an iterable object but got "+t.classString(x))}var s=new k(m);void 0!==v&&s._propagateFrom(v,3);for(var y=s._fulfill,w=s._reject,r=0,n=x.length;n>r;++r){var e=x[r];(void 0!==e||r in x)&&k.cast(e)._then(y,w,void 0,s,null)}return s}var t=h("./util"),j=function(e){return e.then(function(i){return p(i,e)})};k.race=function(e){return p(e,void 0)},k.prototype.race=function(){return p(this,void 0)}}},{"./util":36}],28:[function(h,f,g){f.exports=function(q,y,B,w,z,C){function k(u,l,o,e){this.constructor$(u);var p=v();this._fn=null===p?l:t.domainBind(p,l),void 0!==o&&(o=q.resolve(o),o._attachCancellationCallback(this)),this._initialValue=o,this._currentCancellable=null,e===z?this._eachValues=Array(this._length):0===e?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function m(l,i){this.isFulfilled()?i._resolve(l):i._reject(l)}function x(u,l,r,p){if("function"!=typeof l){return B("expecting a function but got "+t.classString(l))}var s=new k(u,l,r,p);return s.promise()}function D(i){this.accum=i,this.array._gotAccum(i);var e=w(this.value,this.array._promise);return e instanceof q?(this.array._currentCancellable=e,e._then(A,void 0,void 0,this,void 0)):A.call(this,e)}function A(E){var p=this.array,u=p._promise,l=j(p._fn);u._pushContext();var s;s=void 0!==p._eachValues?l.call(u._boundValue(),E,this.index,this.length):l.call(u._boundValue(),this.accum,E,this.index,this.length),s instanceof q&&(p._currentCancellable=s);var e=u._popContext();return C.checkForgottenReturns(s,e,void 0!==p._eachValues?"Promise.each":"Promise.reduce",u),s}var v=q._getDomain,t=h("./util"),j=t.tryCatch;t.inherits(k,y),k.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==z&&this._eachValues.push(e)},k.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},k.prototype._init=function(){},k.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},k.prototype.shouldCopyValues=function(){return !1},k.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},k.prototype._resultCancelled=function(e){return e===this._initialValue?this._cancel():void (this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof q&&this._currentCancellable.cancel(),this._initialValue instanceof q&&this._initialValue.cancel()))},k.prototype._iterate=function(u){this._values=u;var l,s,e=u.length;if(void 0!==this._initialValue?(l=this._initialValue,s=0):(l=q.resolve(u[0]),s=1),this._currentCancellable=l,!l.isRejected()){for(;e>s;++s){var p={accum:null,value:u[s],index:s,length:e,array:this};l=l._then(D,void 0,void 0,p,void 0)}}void 0!==this._eachValues&&(l=l._then(this._eachComplete,void 0,void 0,this,void 0)),l._then(m,m,void 0,l,this)},q.prototype.reduce=function(l,i){return x(this,l,i,null)},q.reduce=function(p,i,l,o){return x(p,i,l,o)}}},{"./util":36}],29:[function(v,h,m){var q,j=v("./util"),p=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},u=j.getNativePromise();if(j.isNode&&"undefined"==typeof MutationObserver){var f=global.setImmediate,g=process.nextTick;q=j.isRecentNode?function(e){f.call(global,e)}:function(e){g.call(process,e)}}else{if("function"==typeof u&&"function"==typeof u.resolve){var k=u.resolve();q=function(e){k.then(e)}}else{q="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:p:function(){var z=document.createElement("div"),l={attributes:!0},w=!1,y=document.createElement("div"),s=new MutationObserver(function(){z.classList.toggle("foo"),w=!1});s.observe(y,l);var x=function(){w||(w=!0,y.classList.toggle("foo"))};return function(e){var i=new MutationObserver(function(){i.disconnect(),e()});i.observe(z,l),x()}}()}}h.exports=q},{"./util":36}],30:[function(h,f,g){f.exports=function(j,l,p){function k(e){this.constructor$(e)}var m=j.PromiseInspection,q=h("./util");q.inherits(k,l),k.prototype._promiseResolved=function(r,i){this._values[r]=i;var o=++this._totalResolved;return o>=this._length?(this._resolve(this._values),!0):!1},k.prototype._promiseFulfilled=function(r,i){var o=new m;return o._bitField=33554432,o._settledValueField=r,this._promiseResolved(i,o)},k.prototype._promiseRejected=function(r,i){var o=new m;return o._bitField=16777216,o._settledValueField=r,this._promiseResolved(i,o)},j.settle=function(e){return p.deprecated(".settle()",".reflect()"),new k(e).promise()},j.prototype.settle=function(){return j.settle(this)}}},{"./util":36}],31:[function(h,f,g){f.exports=function(m,t,w){function p(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function v(s,i){if((0|i)!==i||0>i){return w("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n")}var l=new p(s),r=l.promise();return l.setHowMany(i),l.init(),r}var x=h("./util"),j=h("./errors").RangeError,k=h("./errors").AggregateError,q=x.isArray,y={};x.inherits(p,t),p.prototype._init=function(){if(this._initialized){if(0===this._howMany){return void this._resolve([])}this._init$(void 0,-5);var e=q(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},p.prototype.init=function(){this._initialized=!0,this._init()},p.prototype.setUnwrap=function(){this._unwrap=!0},p.prototype.howMany=function(){return this._howMany},p.prototype.setHowMany=function(e){this._howMany=e},p.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},p.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},p.prototype._promiseCancelled=function(){return this._values instanceof m||null==this._values?this._cancel():(this._addRejected(y),this._checkOutcome())},p.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var l=new k,i=this.length();i<this._values.length;++i){this._values[i]!==y&&l.push(this._values[i])}return l.length>0?this._reject(l):this._cancel(),!0}return !1},p.prototype._fulfilled=function(){return this._totalResolved},p.prototype._rejected=function(){return this._values.length-this.length()},p.prototype._addRejected=function(e){this._values.push(e)},p.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},p.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},p.prototype._getRangeError=function(l){var i="Input array must contain at least "+this._howMany+" items but contains only "+l+" items";return new j(i)},p.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},m.some=function(l,i){return v(l,i)},m.prototype.some=function(e){return v(this,e)},m._SomePromiseArray=p}},{"./errors":12,"./util":36}],32:[function(h,f,g){f.exports=function(v){function k(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}k.prototype._settledValue=function(){return this._settledValueField};var m=k.prototype.value=function(){if(!this.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n")}return this._settledValue()},q=k.prototype.error=k.prototype.reason=function(){if(!this.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n")}return this._settledValue()},l=k.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},p=k.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},u=k.prototype.isPending=function(){return 0===(50397184&this._bitField)},j=k.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};k.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},v.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},v.prototype._isCancelled=function(){return this._target().__isCancelled()},v.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},v.prototype.isPending=function(){return u.call(this._target())},v.prototype.isRejected=function(){return p.call(this._target())},v.prototype.isFulfilled=function(){return l.call(this._target())},v.prototype.isResolved=function(){return j.call(this._target())},v.prototype.value=function(){return m.call(this._target())},v.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),q.call(e)},v.prototype._value=function(){return this._settledValue()},v.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},v.PromiseInspection=k}},{}],33:[function(h,f,g){f.exports=function(m,v){function y(o,n){if(A(o)){if(o instanceof m){return o}var l=w(o);if(l===t){n&&n._pushContext();var e=m.reject(l.e);return n&&n._popContext(),e}if("function"==typeof l){if(z(o)){var e=new m(v);return o._then(e._fulfill,e._reject,void 0,e,null),e}return j(o,l,n)}}return o}function q(e){return e.then}function w(l){try{return q(l)}catch(i){return t.e=i,t}}function z(l){try{return x.call(l,"_promise0")}catch(i){return !1}}function j(F,D,n){function B(i){e&&(e._resolveCallback(i),e=null)}function E(i){e&&(e._rejectCallback(i,C,!0),e=null)}var e=new m(v),G=e;n&&n._pushContext(),e._captureStackTrace(),n&&n._popContext();var C=!0,l=k.tryCatch(D).call(F,B,E);return C=!1,e&&l===t&&(e._rejectCallback(l.e,!0,!0),e=null),G}var k=h("./util"),t=k.errorObj,A=k.isObject,x={}.hasOwnProperty;return y}},{"./util":36}],34:[function(h,f,g){f.exports=function(m,v,y){function q(e){this.handle=e}function w(e){return clearTimeout(this.handle),e}function z(e){throw clearTimeout(this.handle),e}var j=h("./util"),k=m.TimeoutError;q.prototype._resultCancelled=function(){clearTimeout(this.handle)};var t=function(e){return A(+this).thenReturn(e)},A=m.delay=function(n,i){var l,e;return void 0!==i?(l=m.resolve(i)._then(t,null,null,n,void 0),y.cancellation()&&i instanceof m&&l._setOnCancel(i)):(l=new m(v),e=setTimeout(function(){l._fulfill()},+n),y.cancellation()&&l._setOnCancel(new q(e)),l._captureStackTrace()),l._setAsyncGuaranteed(),l};m.prototype.delay=function(e){return A(e,this)};var x=function(p,i,l){var o;o="string"!=typeof i?i instanceof Error?i:new k("operation timed out"):new k(i),j.markAsOriginatingFromRejection(o),p._attachExtraTrace(o),p._reject(o),null!=l&&l.cancel()};m.prototype.timeout=function(r,o){r=+r;var p,i,l=new q(setTimeout(function(){p.isPending()&&x(p,o,i)},r));return y.cancellation()?(i=this.then(),p=i._then(w,z,void 0,l,void 0),p._setOnCancel(l)):p=this._then(w,z,void 0,l,void 0),p}}},{"./util":36}],35:[function(h,f,g){f.exports=function(w,E,H,B,F,I){function k(e){setTimeout(function(){throw e},0)}function q(l){var i=H(l);return i!==l&&"function"==typeof l._isDisposable&&"function"==typeof l._getDisposer&&l._isDisposable()&&i._setDisposable(l._getDisposer()),i}function C(r,o){function e(){if(p>=m){return v._fulfill()}var i=q(r[p++]);if(i instanceof w&&i._isDisposable()){try{i=H(i._getDisposer().tryDispose(o),r.promise)}catch(l){return k(l)}if(i instanceof w){return i._then(e,k,null,null,null)}}e()}var p=0,m=r.length,v=new w(F);return e(),v}function J(m,i,l){this._data=m,this._promise=i,this._context=l}function G(m,i,l){this.constructor$(m,i,l)}function A(e){return J.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function x(e){this.length=e,this.promise=null,this[e-1]=null}var j=h("./util"),t=h("./errors").TypeError,K=h("./util").inherits,L=j.errorObj,D=j.tryCatch,z={};J.prototype.data=function(){return this._data},J.prototype.promise=function(){return this._promise},J.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():z},J.prototype.tryDispose=function(o){var i=this.resource(),l=this._context;void 0!==l&&l._pushContext();var m=i!==z?this.doDispose(i,o):null;return void 0!==l&&l._popContext(),this._promise._unsetDisposable(),this._data=null,m},J.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},K(G,J),G.prototype.doDispose=function(m,i){var l=this.data();return l.call(m,m,i)},x.prototype._resultCancelled=function(){for(var l=this.length,e=0;l>e;++e){var i=this[e];i instanceof w&&i.cancel()}},w.using=function(){var N=arguments.length;if(2>N){return E("you must pass at least 2 arguments to Promise.using")}var u=arguments[N-1];if("function"!=typeof u){return E("expecting a function but got "+j.classString(u))}var y,e=!0;2===N&&Array.isArray(arguments[0])?(y=arguments[0],N=y.length,e=!1):(y=arguments,N--);for(var m=new x(N),M=0;N>M;++M){var r=y[M];if(J.isDisposer(r)){var O=r;r=r.promise(),r._setDisposable(O)}else{var s=H(r);s instanceof w&&(r=s._then(A,null,null,{resources:m,index:M},void 0))}m[M]=r}for(var l=new Array(m.length),M=0;M<l.length;++M){l[M]=w.resolve(m[M]).reflect()}var P=w.all(l).then(function(R){for(var i=0;i<R.length;++i){var p=R[i];if(p.isRejected()){return L.e=p.error(),L}if(!p.isFulfilled()){return void P.cancel()}R[i]=p.value()}n._pushContext(),u=D(u);var Q=e?u.apply(void 0,R):u(R),v=n._popContext();return I.checkForgottenReturns(Q,v,"Promise.using",n),Q}),n=P.lastly(function(){var i=new w.PromiseInspection(P);return C(m,i)});return m.promise=n,n._setOnCancel(m),n},w.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},w.prototype._isDisposable=function(){return(131072&this._bitField)>0},w.prototype._getDisposer=function(){return this._disposer},w.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},w.prototype.disposer=function(e){if("function"==typeof e){return new G(e,this,B())}throw new t}}},{"./errors":12,"./util":36}],36:[function(aw,X,al){function ar(){try{var g=aq;return aq=null,g.apply(this,arguments)}catch(f){return ax.e=f,ax}}function ae(e){return aq=e,ar}function an(e){return null==e||e===!0||e===!1||"string"==typeof e||"number"==typeof e}function au(e){return"function"==typeof e||"object"==typeof e&&null!==e}function z(e){return an(e)?new Error(az(e)):e}function M(k,f){var h,j=k.length,g=new Array(j+1);for(h=0;j>h;++h){g[h]=k[h]}return g[h]=f,g}function ai(i,f,g){if(!aa.isES5){return{}.hasOwnProperty.call(i,f)?i[f]:void 0}var h=Object.getOwnPropertyDescriptor(i,f);return null!=h?null==h.get&&null==h.set?h.value:g:void 0}function ay(i,f,g){if(an(i)){return i}var h={value:g,configurable:!0,enumerable:!1,writable:!0};return aa.defineProperty(i,f,h),i}function ap(e){throw e}function ac(l){try{if("function"==typeof l){var f=aa.names(l.prototype),h=aa.isES5&&f.length>1,k=f.length>0&&!(1===f.length&&"constructor"===f[0]),g=G.test(l+"")&&aa.names(l).length>0;if(h||k||g){return !0}}return !1}catch(j){return !1}}function Z(h){function f(){}f.prototype=h;for(var g=8;g--;){new f}return h}function q(e){return W.test(e)}function U(k,f,h){for(var j=new Array(k),g=0;k>g;++g){j[g]=f+g+h}return j}function az(g){try{return g+""}catch(f){return"[no string representation]"}}function aD(e){return null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function ak(g){try{ay(g,"isOperational",!0)}catch(f){}}function ab(e){return null==e?!1:e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0}function J(e){return aD(e)&&aa.propertyIsWritable(e,"stack")}function aB(e){return{}.toString.call(e)}function Q(m,f,h){for(var k=aa.names(m),g=0;g<k.length;++g){var j=k[g];if(h(j)){try{aa.defineProperty(f,j,aa.getDescriptor(m,j))}catch(l){}}}}function ag(g,f){return ad?process.env[g]:f}function ah(){if("function"==typeof Promise){try{var g=new Promise(function(){});if("[object Promise]"==={}.toString.call(g)){return Promise}}catch(f){}}}function Y(g,f){return g.bind(f)}var aa=aw("./es5"),aC="undefined"==typeof navigator,ax={e:{}},aq,at="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,av=function(i,f){function g(){this.constructor=i,this.constructor$=f;for(var e in f.prototype){h.call(f.prototype,e)&&"$"!==e.charAt(e.length-1)&&(this[e+"$"]=f.prototype[e])}}var h={}.hasOwnProperty;return g.prototype=f.prototype,i.prototype=new g,i.prototype},ao=function(){var i=[Array.prototype,Object.prototype,Function.prototype],f=function(j){for(var k=0;k<i.length;++k){if(i[k]===j){return !0}}return !1};if(aa.isES5){var g=Object.getOwnPropertyNames;return function(v){for(var p=[],k=Object.create(null);null!=v&&!f(v);){var n;try{n=g(v)}catch(u){return p}for(var e=0;e<n.length;++e){var j=n[e];if(!k[j]){k[j]=!0;var m=Object.getOwnPropertyDescriptor(v,j);null!=m&&null==m.get&&null==m.set&&p.push(j)}}v=aa.getPrototypeOf(v)}return p}}var h={}.hasOwnProperty;return function(j){if(f(j)){return[]}var e=[];i:for(var k in j){if(h.call(j,k)){e.push(k)}else{for(var l=0;l<i.length;++l){if(h.call(i[l],k)){continue i}}e.push(k)}}return e}}(),G=/this\s*\.\s*\S+\s*=/,W=/^[a-z$_][a-z$_0-9]*$/i,aA=function(){return"stack" in new Error?function(e){return J(e)?e:new Error(az(e))}:function(g){if(J(g)){return g}try{throw new Error(az(g))}catch(f){return f}}}(),aj=function(e){return aa.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var af="function"==typeof Array.from?function(e){return Array.from(e)}:function(i){for(var f,g=[],h=i[Symbol.iterator]();!(f=h.next()).done;){g.push(f.value)}return g};aj=function(e){return aa.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?af(e):null}}var ad="undefined"!=typeof process&&"[object process]"===aB(process).toLowerCase(),am={isClass:ac,isIdentifier:q,inheritedDataKeys:ao,getDataPropertyOrDefault:ai,thrower:ap,isArray:aa.isArray,asArray:aj,notEnumerableProp:ay,isPrimitive:an,isObject:au,isError:aD,canEvaluate:aC,errorObj:ax,tryCatch:ae,inherits:av,withAppended:M,maybeWrapAsError:z,toFastProperties:Z,filledRange:U,toString:az,canAttachTrace:J,ensureErrorObject:aA,originatesFromRejection:ab,markAsOriginatingFromRejection:ak,classString:aB,copyDescriptors:Q,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:ad,env:ag,global:at,getNativePromise:ah,domainBind:Y};am.isRecentNode=am.isNode&&function(){var e=process.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),am.isNode&&am.toFastProperties(process);try{throw new Error}catch(K){am.lastLineError=K}X.exports=am},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise);/* jQuery v1.7.1 jquery.com | jquery.org/license */
(function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cv(a){if(!ck[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){cl||(cl=c.createElement("iframe"),cl.frameBorder=cl.width=cl.height=0),b.appendChild(cl);if(!cm||!cl.createElement){cm=(cl.contentWindow||cl.contentDocument).document,cm.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),cm.close()}d=cm.createElement(a),cm.body.appendChild(d),e=f.css(d,"display"),b.removeChild(cl)}ck[a]=e}return ck[a]}function cu(a,b){var c={};f.each(cq.concat.apply([],cq.slice(0,b)),function(){c[this]=a});return c}function ct(){cr=b}function cs(){setTimeout(ct,0);return cr=f.now()}function cj(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ci(){try{return new a.XMLHttpRequest}catch(b){}}function cc(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1){for(h in a.converters){typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h])}}l=k,k=d[g];if(k==="*"){k=l}else{if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}}return c}function cb(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g){i in d&&(c[g[i]]=d[i])}while(f[0]==="*"){f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"))}if(h){for(i in e){if(e[i]&&e[i].test(h)){f.unshift(i);break}}}if(f[0] in d){j=f[0]}else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function ca(a,b,c,d){if(f.isArray(b)){f.each(b,function(b,e){c||bE.test(a)?d(a,e):ca(a+"["+(typeof e=="object"||f.isArray(e)?b:"")+"]",e,c,d)})}else{if(!c&&b!=null&&typeof b=="object"){for(var e in b){ca(a+"["+e+"]",b[e],c,d)}}else{d(a,b)}}}function b_(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c){c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d])}e&&f.extend(!0,a,e)}function b$(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bT,l;for(;i<j&&(k||!l);i++){l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=b$(a,c,d,e,l,g)))}(k||!l)&&!g["*"]&&(l=b$(a,c,d,e,"*",g));return l}function bZ(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bP),e=0,g=d.length,h,i,j;for(;e<g;e++){h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}}function bC(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?bx:by,g=0,h=e.length;if(d>0){if(c!=="border"){for(;g<h;g++){c||(d-=parseFloat(f.css(a,"padding"+e[g]))||0),c==="margin"?d+=parseFloat(f.css(a,c+e[g]))||0:d-=parseFloat(f.css(a,"border"+e[g]+"Width"))||0}}return d+"px"}d=bz(a,b,b);if(d<0||d==null){d=a.style[b]||0}d=parseFloat(d)||0;if(c){for(;g<h;g++){d+=parseFloat(f.css(a,"padding"+e[g]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+e[g]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+e[g]))||0)}}return d+"px"}function bp(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function bo(a){var b=c.createElement("div");bh.appendChild(b),b.innerHTML=a.outerHTML;return b.firstChild}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bm(a){if(a.type==="checkbox"||a.type==="radio"){a.defaultChecked=a.checked}}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bk(a,b){var c;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object"){b.outerHTML=a.outerHTML}else{if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option"){b.selected=a.defaultSelected}else{if(c==="input"||c==="textarea"){b.defaultValue=a.defaultValue}}}else{a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)}}b.removeAttribute(f.expando)}}function bj(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i){for(d=0,e=i[c].length;d<e;d++){f.event.add(b,c+(i[c][d].namespace?".":"")+i[c][d].namespace,i[c][d],i[c][d].data)}}}h.data&&(h.data=f.extend({},h.data))}}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement){while(b.length){c.createElement(b.pop())}}return c}function T(a,b,c){b=b||0;if(f.isFunction(b)){return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c})}if(b.nodeType){return f.grep(a,function(a,d){return a===b===c})}if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b)){return f.filter(b,d,!c)}b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function S(a){return !a||!a.parentNode||a.parentNode.nodeType===11}function K(){return !0}function J(){return !1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b])){continue}if(b!=="toJSON"){return !1}}return !0}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?parseFloat(d):j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else{d=b}}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++){b[a[c]]=!0}return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a){return this}if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2]){return f.find(a)}this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return !d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a)){return f.ready(a)}a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.add(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++){if((a=arguments[j])!=null){for(c in a){d=i[c],f=a[c];if(i===f){continue}l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}}}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body){return setTimeout(e.ready,1)}e.isReady=!0;if(a!==!0&&--e.readyWait>0){return}A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(!A){A=e.Callbacks("once memory");if(c.readyState==="complete"){return setTimeout(e.ready,1)}if(c.addEventListener){c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1)}else{if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval" in a},isNumeric:function(a){return !isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a)){return !1}try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf")){return !1}}catch(c){return !1}var d;for(d in a){}return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a){return !1}return !0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b){return null}b=e.trim(b);if(a.JSON&&a.JSON.parse){return a.JSON.parse(b)}if(n.test(b.replace(o,"@").replace(p,"]").replace(q,""))){return(new Function("return "+b))()}e.error("Invalid JSON: "+b)},parseXML:function(c){var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a){if(c.apply(a[f],d)===!1){break}}}else{for(;g<h;){if(c.apply(a[g++],d)===!1){break}}}}else{if(i){for(f in a){if(c.call(a[f],f,a[f])===!1){break}}}else{for(;g<h;){if(c.call(a[g],g,a[g++])===!1){break}}}}return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H){return H.call(b,a,c)}d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++){if(c in b&&b[c]===a){return c}}}return -1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number"){for(var f=c.length;e<f;e++){a[d++]=c[e]}}else{while(c[e]!==b){a[d++]=c[e++]}}a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++){e=!!b(a[f],f),c!==e&&d.push(a[f])}return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k){for(;i<j;i++){f=c(a[i],i,d),f!=null&&(h[h.length]=f)}}else{for(g in a){f=c(a[g],g,d),f!=null&&(h[h.length]=f)}}return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a)){return b}var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c){e.access(a,j,c[j],f,g,d)}return a}if(d!==b){f=!h&&f&&e.isFunction(d);for(var k=0;k<i;k++){g(a[k],c,f?d.call(a[k],k,g(a[k],c)):d,h)}return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test(" ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())});return e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++){g=b[d],h=f.type(g),h==="array"?m(g):h==="function"&&(!a.unique||!o.has(g))&&c.push(g)}},n=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,l=j||0,j=0,k=c.length;for(;c&&l<k;l++){if(c[l].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}}i=!1,c&&(a.once?e===!0?o.disable():c=[]:d&&d.length&&(e=d.shift(),o.fireWith(e[0],e[1])))},o={add:function(){if(c){var a=c.length;m(arguments),i?k=c.length:e&&e!==!0&&(j=a,n(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++){for(var f=0;f<c.length;f++){if(b[d]===c[f]){i&&f<=k&&(k--,f<=l&&l--),c.splice(f--,1);if(a.unique){break}}}}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++){if(a===c[b]){return !0}}}return !1},empty:function(){c=[];return this},disable:function(){c=d=e=b;return this},disabled:function(){return !c},lock:function(){d=b,(!e||e===!0)&&o.disable();return this},locked:function(){return !d},fireWith:function(b,c){d&&(i?a.once||d.push([b,c]):(!a.once||!e)&&n(b,c));return this},fire:function(){o.fireWith(this,arguments);return this},fired:function(){return !!e}};return o};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null){a=h}else{for(var b in h){a[b]=h[b]}}return a}},i=h.promise({}),j;for(j in g){i[j]=g[j].fire,i[j+"With"]=g[j].fireWith}i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i);return i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++){b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g}g||j.resolveWith(j,b)}else{j!==a&&j.resolveWith(j,d?[a]:[])}return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p,q=c.createElement("div"),r=c.documentElement;q.setAttribute("className","t"),q.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=q.getElementsByTagName("*"),e=q.getElementsByTagName("a")[0];if(!d||!d.length||!e){return{}}g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=q.getElementsByTagName("input")[0],b={leadingWhitespace:q.firstChild.nodeType===3,tbody:!q.getElementsByTagName("tbody").length,htmlSerialize:!!q.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:q.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete q.test}catch(s){b.deleteExpando=!1}!q.addEventListener&&q.attachEvent&&q.fireEvent&&(q.attachEvent("onclick",function(){b.noCloneEvent=!1}),q.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),q.appendChild(i),k=c.createDocumentFragment(),k.appendChild(q.lastChild),b.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,k.removeChild(i),k.appendChild(q),q.innerHTML="",a.getComputedStyle&&(j=c.createElement("div"),j.style.width="0",j.style.marginRight="0",q.style.width="2px",q.appendChild(j),b.reliableMarginRight=(parseInt((a.getComputedStyle(j,null)||{marginRight:0}).marginRight,10)||0)===0);if(q.attachEvent){for(o in {submit:1,change:1,focusin:1}){n="on"+o,p=n in q,p||(q.setAttribute(n,"return;"),p=typeof q[n]=="function"),b[o+"Bubbles"]=p}}k.removeChild(q),k=g=h=j=q=i=null,f(function(){var a,d,e,g,h,i,j,k,m,n,o,r=c.getElementsByTagName("body")[0];!r||(j=1,k="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",m="visibility:hidden;border:0;",n="style='"+k+"border:5px solid #000;padding:0;'",o="<div "+n+"><div></div></div><table "+n+" cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",a=c.createElement("div"),a.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+j+"px",r.insertBefore(a,r.firstChild),q=c.createElement("div"),a.appendChild(q),q.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",l=q.getElementsByTagName("td"),p=l[0].offsetHeight===0,l[0].style.display="",l[1].style.display="none",b.reliableHiddenOffsets=p&&l[0].offsetHeight===0,q.innerHTML="",q.style.width=q.style.paddingLeft="1px",f.boxModel=b.boxModel=q.offsetWidth===2,typeof q.style.zoom!="undefined"&&(q.style.display="inline",q.style.zoom=1,b.inlineBlockNeedsLayout=q.offsetWidth===2,q.style.display="",q.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=q.offsetWidth!==2),q.style.cssText=k+m,q.innerHTML=o,d=q.firstChild,e=d.firstChild,h=d.nextSibling.firstChild.firstChild,i={doesNotAddBorder:e.offsetTop!==5,doesAddBorderForTableAndCells:h.offsetTop===5},e.style.position="fixed",e.style.top="20px",i.fixedPosition=e.offsetTop===20||e.offsetTop===15,e.style.position=e.style.top="",d.style.overflow="hidden",d.style.position="relative",i.subtractsBorderForOverflowNotVisible=e.offsetTop===-5,i.doesNotIncludeMarginInBodyOffset=r.offsetTop!==j,r.removeChild(a),q=a=null,f.extend(b,i))});return b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return !!a&&!m(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b){return}n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function"){e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c)}g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d);if(o&&!h[c]){return g.events}k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h;return i}},removeData:function(a,b,c){if(!!f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k]){return}if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++){delete d[b[e]]}if(!(c?m:f.isEmptyObject)(d)){return}}}if(!c){delete j[k].data;if(!m(j[k])){return}}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b){return b!==!0&&a.getAttribute("classid")===b}}return !0}}),f.fn.extend({data:function(a,c){var d,e,g,h=null;if(typeof a=="undefined"){if(this.length){h=f.data(this[0]);if(this[0].nodeType===1&&!f._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var i=0,j=e.length;i<j;i++){g=e[i].name,g.indexOf("data-")===0&&(g=f.camelCase(g.substring(5)),l(this[0],g,h[g]))}f._data(this[0],"parsedAttrs",!0)}}return h}if(typeof a=="object"){return this.each(function(){f.data(this,a)})}d=a.split("."),d[1]=d[1]?"."+d[1]:"";if(c===b){h=this.triggerHandler("getData"+d[1]+"!",[d[0]]),h===b&&this.length&&(h=f.data(this[0],a),h=l(this[0],a,h));return h===b&&d[1]?this.data(d[0]):h}return this.each(function(){var b=f(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),f.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)})},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){typeof a!="string"&&(c=a,a="fx");if(c===b){return f.queue(this[0],a)}return this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--){if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0)){h++,l.add(m)}}m();return d.promise()}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a)){return this.each(function(b){f(this).addClass(a.call(this,b,this.className))})}if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1){if(!e.className&&b.length===1){e.className=a}else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++){~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ")}e.className=f.trim(g)}}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a)){return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))})}if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className){if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++){h=h.replace(" "+c[i]+" "," ")}g.className=f.trim(h)}else{g.className=""}}}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(f.isFunction(a)){return this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)})}return this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++]){i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}}else{if(c==="undefined"||c==="boolean"){this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""}}})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++){if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1){return !0}}return !1},val:function(a){var c,d,e,g=this[0];if(!!arguments.length){e=f.isFunction(a);return this.each(function(d){var g=f(this),h;if(this.nodeType===1){e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!("set" in c)||c.set(this,h,"value")===b){this.value=h}}})}if(g){c=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type];if(c&&"get" in c&&(d=c.get(g,"value"))!==b){return d}d=g.value;return typeof d=="string"?d.replace(q,""):d==null?"":d}}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return !b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0){return null}c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j){return b}h.push(b)}}if(j&&!h.length&&i.length){return f(i[g]).val()}return h},set:function(a,b){var c=f.makeArray(b);f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!!a&&j!==3&&j!==8&&j!==2){if(e&&c in f.attrFn){return f(a)[c](d)}if(typeof a.getAttribute=="undefined"){return f.prop(a,c,d)}i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}if(h&&"set" in h&&i&&(g=h.set(a,d,c))!==b){return g}a.setAttribute(c,""+d);return d}if(h&&"get" in h&&i&&(g=h.get(a,c))!==null){return g}g=a.getAttribute(c);return g===null?b:g}},removeAttr:function(a,b){var c,d,e,g,h=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;h<g;h++){e=d[h],e&&(c=f.propFix[e]||e,f.attr(a,e,""),a.removeAttribute(v?e:c),u.test(e)&&c in a&&(a[c]=!1))}}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode){f.error("type property can't be changed")}else{if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b),c&&(a.value=c);return b}}}},value:{get:function(a,b){if(w&&f.nodeName(a,"button")){return w.get(a,b)}return b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button")){return w.set(a,b,c)}a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]);return d!==b?g&&"set" in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get" in g&&(e=g.get(a,c))!==null?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},v||(y={name:!0,id:!0},w=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));return e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b)){return a.checked=f.inArray(f(a).val(),b)>=0}}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/\bhover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(a){var b=F.exec(a);b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)"));return b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))){d.handler&&(p=d,d=p.handler),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f!="undefined"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1){a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!!g&&!!(o=g.events)){b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o){f.event.remove(a,j+b[h],c,d,!0)}continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++){s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s))}r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered)){return}h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h]){return}c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j){j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0)}return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1){return}r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode){r.push([m,s]),n=m}n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++){m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault()}c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n));return c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=[],j,k,l,m,n,o,p,q,r,s,t;g[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){m=f(this),m.context=this.ownerDocument||this;for(l=c.target;l!=this;l=l.parentNode||this){o={},q=[],m[0]=l;for(j=0;j<e;j++){r=d[j],s=r.selector,o[s]===b&&(o[s]=r.quick?H(l,r.quick):m.is(s)),o[s]&&q.push(r)}q.length&&i.push({elem:l,matches:q})}}d.length>e&&i.push({elem:this,matches:d.slice(e)});for(j=0;j<i.length&&!c.isPropagationStopped();j++){p=i[j],c.currentTarget=p.elem;for(k=0;k<p.matches.length&&!c.isImmediatePropagationStopped();k++){r=p.matches[k];if(h||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace)){c.data=r.data,c.handleObj=r,n=((f.event.special[r.origType]||{}).handle||r.handler).apply(p.elem,g),n!==b&&(c.result=n,n===!1&&(c.preventDefault(),c.stopPropagation()))}}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando]){return a}var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;){e=i[--d],a[e]=g[e]}a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event)){return new f.Event(a,b)}a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d)){a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b}return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form")){return !1}f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,"form")){return !1}f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))})}return !1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox"){return a.handleObj.handler.apply(this,arguments)}},teardown:function(){f.event.remove(this,"._change");return z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(i in a){this.on(i,c,d,a[i],g)}return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1){e=J}else{if(!e){return this}}g===1&&(h=e,e=function(a){f().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++));return this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler);return this}if(typeof a=="object"){for(var g in a){this.off(g,c,a[g])}return this}if(c===!1||typeof c=="function"){d=c,c=b}d===!1&&(d=J);return this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){return f.event.trigger(a,b,this[0],!0)}},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length){b[d++].guid=c}return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else{if(m.filter(b,[j]).length>0){k=j;break}}}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9){return[]}if(!b||typeof b!="string"){return e}var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b)){if(w.length===2&&o.relative[w[0]]){j=y(w[0]+w[1],d,f)}else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length){b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}}}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length===1&&(w[0]==="~"||w[0]==="+")&&d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length){q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}}else{k=w=[]}}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]"){if(!u){e.push.apply(e,k)}else{if(d&&d.nodeType===1){for(t=0;k[t]!=null;t++){k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t])}}else{for(t=0;k[t]!=null;t++){k[t]&&k[t].nodeType===1&&e.push(j[t])}}}}else{s(k,e)}l&&(m(l,h,e,f),m.uniqueSort(e));return e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h){for(var b=1;b<a.length;b++){a[b]===a[b-1]&&a.splice(b--,1)}}}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a){return[]}for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter){if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\"){continue}s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f){g=i=!0}else{if(f===!0){continue}}}if(f){for(n=0;(j=s[n])!=null;n++){j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0))}}if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g){return[]}break}}}if(a===q){if(g==null){m.error(a)}else{break}}q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string"){return a.textContent}if(typeof a.innerText=="string"){return a.innerText.replace(k,"")}for(a=a.firstChild;a;a=a.nextSibling){e+=n(a)}}else{if(d===3||d===4){return a.nodeValue}}}else{for(b=0;c=a[b];b++){c.nodeType!==8&&(e+=n(c))}}return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++){if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1){}a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++){c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b)}d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++){d[e].getAttribute("name")===a[1]&&c.push(d[e])}return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined"){return b.getElementsByTagName(a[1])}}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f){return a}for(var g=0,h;(h=b[g])!=null;g++){h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1))}return !1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else{a[2]&&m.error(a[0])}a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not"){if((a.exec(b[3])||"").length>1||/^\w/.test(b[3])){b[3]=m(b[3],null,null,c)}else{var g=m.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return !1}}else{if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0])){return !0}}return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return !!a.firstChild},empty:function(a){return !a.firstChild},has:function(a,b,c){return !!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f){return f(a,c,b,d)}if(e==="contains"){return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0}if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++){if(g[h]===a){return !1}}return !0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling){if(l.nodeType===1){return !1}}if(k==="first"){return !0}l=a;case"last":while(l=l.nextSibling){if(l.nodeType===1){return !1}}return !0;case"nth":c=b[2],e=b[3];if(c===1&&e===0){return !0}f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling){l.nodeType===1&&(l.nodeIndex=++i)}g[d]=f}j=a.nodeIndex-e;return c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f){return f(a,c,b,d)}}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match){o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q))}var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]"){Array.prototype.push.apply(d,a)}else{if(typeof a.length=="number"){for(var e=a.length;c<e;c++){d.push(a[c])}}else{for(;a[c];c++){d.push(a[c])}}}return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){if(a===b){h=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition){return a.compareDocumentPosition?-1:1}return a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b){h=!0;return 0}if(a.sourceIndex&&b.sourceIndex){return a.sourceIndex-b.sourceIndex}var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i){return v(a,b)}if(!g){return -1}if(!i){return 1}while(j){e.unshift(j),j=j.parentNode}j=i;while(j){f.unshift(j),j=j.parentNode}c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++){if(e[k]!==f[k]){return v(e[k],f[k])}}return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b){return c}var d=a.nextSibling;while(d){if(d===b){return -1}d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++){c[e].nodeType===1&&d.push(c[e])}c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1]){return s(e.getElementsByTagName(b),f)}if(h[2]&&o.find.CLASS&&e.getElementsByClassName){return s(e.getElementsByClassName(h[2]),f)}}if(e.nodeType===9){if(b==="body"&&e.body){return s([e.body],f)}if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode){return s([],f)}if(i.id===h[3]){return s([i],f)}}try{return s(e.querySelectorAll(b),f)}catch(j){}}else{if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p){return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}}catch(r){}finally{l||k.removeAttribute("id")}}}}return a(b,e,f,g)};for(var e in a){m[e]=a[e]}b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a)){try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11){return f}}}catch(g){}}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1){return}o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c){return b.getElementsByClassName(a[1])}},a=null}}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return !!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return !1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a)){f+=d[0],a=a.replace(o.match.PSEUDO,"")}a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++){m(a,g[h],e,c)}return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.POS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string"){return f(a).filter(function(){for(c=0,d=b.length;c<d;c++){if(f.contains(b[c],this)){return !0}}})}var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0){for(h=g;h<e.length;h++){for(i=0;i<g;i++){if(e[i]===e[h]){e.splice(h--,1);break}}}}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++){if(f.contains(this,b[a])){return !0}}})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return !!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++){f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h})}g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11){break}}}c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a){return this[0]&&this[0].parentNode?this.prevAll().length:-1}if(typeof a=="string"){return f.inArray(this[0],f(a))}return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse());return this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d))){g.nodeType===1&&e.push(g),g=g[c]}return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c]){if(a.nodeType===1&&++e===b){break}}return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling){a.nodeType===1&&a!==b&&c.push(a)}return c}});var V="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){if(f.isFunction(a)){return this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))})}if(typeof a!="object"&&a!==b){return this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a))}return f.text(this)},wrapAll:function(a){if(f.isFunction(a)){return this.each(function(b){f(this).wrapAll(a.call(this,b))})}if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1){a=a.firstChild}return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a)){return this.each(function(b){f(this).wrapInner(a.call(this,b))})}return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)})}if(arguments.length){var a=f.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)})}if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++){if(!a||f.filter(a,[d]).length){!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d)}}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild){b.removeChild(b.firstChild)}}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(W,""):null}if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++){this[c].nodeType===1&&(f.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}}catch(e){this.empty().append(a)}}else{f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a)}return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a)){return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))})}typeof a!="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j)){return this.each(function(){f(this).domManip(a,c,d,!0)})}if(f.isFunction(j)){return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)})}if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++){d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}}k.length&&f.each(k,bp)}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||!bc.test("<"+a.nodeName)?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g){e[g]&&bk(d[g],e[g])}}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g){bj(d[g],e[g])}}}d=e=null;return h},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var h=[],i;for(var j=0,k;(k=a[j])!=null;j++){typeof k=="number"&&(k+="");if(!k){continue}if(typeof k=="string"){if(!_.test(k)){k=b.createTextNode(k)}else{k=k.replace(Y,"<$1></$2>");var l=(Z.exec(k)||["",""])[1].toLowerCase(),m=bg[l]||bg._default,n=m[0],o=b.createElement("div");b===c?bh.appendChild(o):U(b).appendChild(o),o.innerHTML=m[1]+k+m[2];while(n--){o=o.lastChild}if(!f.support.tbody){var p=$.test(k),q=l==="table"&&!p?o.firstChild&&o.firstChild.childNodes:m[1]==="<table>"&&!p?o.childNodes:[];for(i=q.length-1;i>=0;--i){f.nodeName(q[i],"tbody")&&!q[i].childNodes.length&&q[i].parentNode.removeChild(q[i])}}!f.support.leadingWhitespace&&X.test(k)&&o.insertBefore(b.createTextNode(X.exec(k)[0]),o.firstChild),k=o.childNodes}}var r;if(!f.support.appendChecked){if(k[0]&&typeof(r=k.length)=="number"){for(i=0;i<r;i++){bn(k[i])}}else{bn(k)}}k.nodeType?h.push(k):h=f.merge(h,k)}if(d){g=function(a){return !a.type||be.test(a.type)};for(j=0;h[j];j++){if(e&&f.nodeName(h[j],"script")&&(!h[j].type||h[j].type.toLowerCase()==="text/javascript")){e.push(h[j].parentNode?h[j].parentNode.removeChild(h[j]):h[j])}else{if(h[j].nodeType===1){var s=f.grep(h[j].getElementsByTagName("script"),g);h.splice.apply(h,[j+1,0].concat(s))}d.appendChild(h[j])}}}return h},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()]){continue}c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events){e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle)}b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bq=/alpha\([^)]*\)/i,br=/opacity=([^)]*)/,bs=/([A-Z]|^ms)/g,bt=/^-?\d+(?:px)?$/i,bu=/^-?\d/,bv=/^([\-+])=([\-+.\de]+)/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Left","Right"],by=["Top","Bottom"],bz,bA,bB;f.fn.css=function(a,c){if(arguments.length===2&&c===b){return this}return f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bz(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&"get" in k&&(g=k.get(a,!1,e))!==b){return g}return j[c]}h=typeof d,h==="string"&&(g=bv.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d)){return}h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set" in k)||(d=k.set(a,d))!==b){try{j[c]=d}catch(l){}}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get" in g&&(e=g.get(a,!0,d))!==b){return e}if(bz){return bz(a,c)}},swap:function(a,b,c){var d={};for(var e in b){d[e]=a.style[e],a.style[e]=b[e]}c.call(a);for(e in b){a.style[e]=d[e]}}}),f.curCSS=f.css,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c){if(a.offsetWidth!==0){return bC(a,b,d)}f.swap(a,bw,function(){e=bC(a,b,d)});return e}},set:function(a,b){if(!bt.test(b)){return b}b=parseFloat(b);if(b>=0){return b+"px"}}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return br.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bq,""))===""){c.removeAttribute("filter");if(d&&!d.filter){return}}c.filter=bq.test(g)?g.replace(bq,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;f.swap(a,{display:"inline-block"},function(){b?c=bz(a,"margin-right","marginRight"):c=a.style.marginRight});return c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(bA=function(a,b){var c,d,e;b=b.replace(bs,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b)));return c}),c.documentElement.currentStyle&&(bB=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;f===null&&g&&(e=g[b])&&(f=e),!bt.test(f)&&bu.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d));return f===""?"auto":f}),bz=bA||bB,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return !f.expr.filters.hidden(a)});var bD=/%20/g,bE=/\[\]$/,bF=/\r?\n/g,bG=/#.*$/,bH=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bI=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bJ=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bK=/^(?:GET|HEAD)$/,bL=/^\/\//,bM=/\?/,bN=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bO=/^(?:select|textarea)/i,bP=/\s+/,bQ=/([?&])_=[^&]*/,bR=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bS=f.fn.load,bT={},bU={},bV,bW,bX=["*/"]+["*"];try{bV=e.href}catch(bY){bV=c.createElement("a"),bV.href="",bV=bV.href}bW=bR.exec(bV.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bS){return bS.apply(this,arguments)}if(!this.length){return this}var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bN,"")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bO.test(this.nodeName)||bI.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bF,"\r\n")}}):{name:b.name,value:c.replace(bF,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?b_(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b_(a,b);return a},ajaxSettings:{url:bV,isLocal:bJ.test(bW[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bX},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bZ(bT),ajaxTransport:bZ(bU),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?cb(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified")){f.lastModified[k]=y}if(z=v.getResponseHeader("Etag")){f.etag[k]=z}}if(a===304){w="notmodified",o=!0}else{try{r=cc(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}}else{u=w;if(!w||a){w="error",a<0&&(a=0)}}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bH.exec(n)){o[c[1].toLowerCase()]=c[2]}}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||"abort",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2){for(b in a){j[b]=[j[b],a[b]]}}else{b=a[v.status],v.then(b,b)}}return this},d.url=((a||d.url)+"").replace(bG,"").replace(bL,bW[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bP),d.crossDomain==null&&(r=bR.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bW[1]&&r[2]==bW[2]&&(r[3]||(r[1]==="http:"?80:443))==(bW[3]||(bW[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),b$(bT,d,c,v);if(s===2){return !1}t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bK.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bM.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bQ,"$1_="+x);d.url=y+(y===d.url?(bM.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bX+"; q=0.01":""):d.accepts["*"]);for(u in d.headers){v.setRequestHeader(u,d.headers[u])}if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return !1}for(u in {success:1,error:1,complete:1}){v[u](d[u])}p=b$(bU,d,c,v);if(!p){w(-1,"No Transport")}else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2){w(-1,z)}else{throw z}}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a)){f.each(a,function(){e(this.name,this.value)})}else{for(var g in a){ca(g,a[g],c,e)}}return d.join("&").replace(bD,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cd=f.now(),ce=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cd++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(ce.test(b.url)||e&&ce.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";b.jsonp!==!1&&(j=j.replace(ce,l),b.url===j&&(e&&(k=k.replace(ce,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){g||f.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState)){d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")}},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var cf=a.ActiveXObject?function(){for(var a in ch){ch[a](0,1)}}:!1,cg=0,ch;f.ajaxSettings.xhr=a.ActiveXObject?function(){return !this.isLocal&&ci()||cj()}:ci,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials" in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields){for(j in c.xhrFields){h[j]=c.xhrFields[j]}}c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e){h.setRequestHeader(j,e[j])}}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,cf&&delete ch[i]);if(e){h.readyState!==4&&h.abort()}else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n),m.text=h.responseText;try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cg,cf&&(ch||(ch={},f(a).unload(cf)),ch[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var ck={},cl,cm,cn=/^(?:toggle|show|hide)$/,co=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cp,cq=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cr;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0){return this.animate(cu("show",3),a,b,c)}for(var g=0,h=this.length;g<h;g++){d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&f.css(d,"display")==="none"&&f._data(d,"olddisplay",cv(d.nodeName)))}for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none"){d.style.display=f._data(d,"olddisplay")||""}}}return this},hide:function(a,b,c){if(a||a===0){return this.animate(cu("hide",3),a,b,c)}var d,e,g=0,h=this.length;for(;g<h;g++){d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e))}for(g=0;g<h;g++){this[g].style&&(this[g].style.display="none")}return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(cu("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d){return b.complete.call(this)}c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cv(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a){j=new f.fx(this,b,i),h=a[i],cn.test(h)?(o=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),o?(f._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[h]()):(k=co.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(f.cssNumber[i]?"":"px"),n!=="px"&&(f.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,f.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,""))}return !0}var e=f.speed(b,c,d);if(f.isEmptyObject(a)){return this.each(e.complete,[!1])}a=f.extend({},a);return e.queue===!1?this.each(g):this.queue(e.queue,g)},stop:function(a,c,d){typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]);return this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null){for(b in g){g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b)}}else{g[b=a+".run"]&&g[b].stop&&h(this,g,b)}for(b=e.length;b--;){e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1))}(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:cu("show",1),slideUp:cu("hide",1),slideToggle:cu("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0){d.queue="fx"}d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+0.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cr||cs(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){e.options.hide&&f._data(e.elem,"fxshow"+e.prop)===b&&f._data(e.elem,"fxshow"+e.prop,e.start)},h()&&f.timers.push(h)&&!cp&&(cp=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cr||cs(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties){i.animatedProperties[b]!==!0&&(g=!1)}if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show){for(b in i.animatedProperties){f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0)}}d=i.complete,d&&(i.complete=!1,d.call(h))}return !1}i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return !0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++){a=b[c],!a()&&b[c]===a&&b.splice(c--,1)}b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(cp),cp=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(["width","height"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect" in c.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a){return this.each(function(b){f.offset.setOffset(this,a,b)})}if(!b||!b.ownerDocument){return null}if(b===b.ownerDocument.body){return f.offset.bodyOffset(b)}try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b)){return c?{top:c.top,left:c.left}:{top:0,left:0}}var h=e.body,i=cy(e),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||f.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||f.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:f.fn.offset=function(a){var b=this[0];if(a){return this.each(function(b){f.offset.setOffset(this,a,b)})}if(!b||!b.ownerDocument){return null}if(b===b.ownerDocument.body){return f.offset.bodyOffset(b)}var c,d=b.offsetParent,e=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(f.support.fixedPosition&&k.position==="fixed"){break}c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&&(l+=b.offsetTop,m+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static"){l+=i.offsetTop,m+=i.offsetLeft}f.support.fixedPosition&&k.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft));return{top:l,left:m}},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using" in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0]){return null}var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static"){a=a.offsetParent}return a})}}),f.each(["Left","Top"],function(a,c){var d="scroll"+c;f.fn[d]=function(c){var e,g;if(c===b){e=this[0];if(!e){return null}g=cy(e);return g?"pageXOffset" in g?g[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]}return this.each(function(){g=cy(this),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):this[d]=c})}}),f.each(["Height","Width"],function(a,c){var d=c.toLowerCase();f.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,d,"padding")):this[d]():null},f.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,d,a?"margin":"border")):this[d]():null},f.fn[d]=function(a){var e=this[0];if(!e){return a==null?null:this}if(f.isFunction(a)){return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))})}if(f.isWindow(e)){var g=e.document.documentElement["client"+c],h=e.document.body;return e.document.compatMode==="CSS1Compat"&&g||h&&h["client"+c]||g}if(e.nodeType===9){return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c])}if(a===b){var i=f.css(e,d),j=parseFloat(i);return f.isNumeric(j)?j:i}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);/* jQuery UI - v1.9.2 - 2013-01-11
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright (c) 2013 jQuery Foundation and other contributors Licensed MIT */
(function(a,g){function b(l,h){var k,e,j,m=l.nodeName.toLowerCase();return"area"===m?(k=l.parentNode,e=k.name,!l.href||!e||k.nodeName.toLowerCase()!=="map"?!1:(j=a("img[usemap=#"+e+"]")[0],!!j&&f(j))):(/input|select|textarea|button|object/.test(m)?!l.disabled:"a"===m?l.href||h:h)&&f(l)}function f(e){return a.expr.filters.visible(e)&&!a(e).parents().andSelf().filter(function(){return a.css(this,"visibility")==="hidden"}).length}var c=0,d=/^ui-id-\d+$/;a.ui=a.ui||{};if(a.ui.version){return}a.extend(a.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({_focus:a.fn.focus,focus:function(h,e){return typeof h=="number"?this.each(function(){var i=this;setTimeout(function(){a(i).focus(),e&&e.call(i)},h)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?e=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):e=this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?a(document):e},zIndex:function(h){if(h!==g){return this.css("zIndex",h)}if(this.length){var j=a(this[0]),e,k;while(j.length&&j[0]!==document){e=j.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){k=parseInt(j.css("zIndex"),10);if(!isNaN(k)&&k!==0){return k}}j=j.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++c)})},removeUniqueId:function(){return this.each(function(){d.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(e){return function(h){return !!a.data(h,e)}}):function(i,e,h){return !!a.data(i,h[3])},focusable:function(e){return b(e,!isNaN(a.attr(e,"tabindex")))},tabbable:function(i){var e=a.attr(i,"tabindex"),h=isNaN(e);return(h||e>=0)&&b(i,!h)}}),a(function(){var h=document.body,e=h.appendChild(e=document.createElement("div"));e.offsetHeight,a.extend(e.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=e.offsetHeight===100,a.support.selectstart="onselectstart" in e,h.removeChild(e).style.display="none"}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(h,k){function m(q,i,o,p){return a.each(e,function(){i-=parseFloat(a.css(q,"padding"+this))||0,o&&(i-=parseFloat(a.css(q,"border"+this+"Width"))||0),p&&(i-=parseFloat(a.css(q,"margin"+this))||0)}),i}var e=k==="Width"?["Left","Right"]:["Top","Bottom"],l=k.toLowerCase(),j={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+k]=function(i){return i===g?j["inner"+k].call(this):this.each(function(){a(this).css(l,m(this,i)+"px")})},a.fn["outer"+k]=function(o,i){return typeof o!="number"?j["outer"+k].call(this,o):this.each(function(){a(this).css(l,m(this,o,!0,i)+"px")})}}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(e){return function(h){return arguments.length?e.call(this,a.camelCase(h)):e.call(this)}}(a.fn.removeData)),function(){var e=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];a.ui.ie=e.length?!0:!1,a.ui.ie6=parseFloat(e[1],10)===6}(),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(h){h.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(l,h,j){var e,k=a.ui[l].prototype;for(e in j){k.plugins[e]=k.plugins[e]||[],k.plugins[e].push([h,j[e]])}},call:function(h,m,k){var l,j=h.plugins[m];if(!j||!h.element[0].parentNode||h.element[0].parentNode.nodeType===11){return}for(l=0;l<j.length;l++){h.options[j[l][0]]&&j[l][1].apply(h.element,k)}}},contains:a.contains,hasScroll:function(k,h){if(a(k).css("overflow")==="hidden"){return !1}var j=h&&h==="left"?"scrollLeft":"scrollTop",e=!1;return k[j]>0?!0:(k[j]=1,e=k[j]>0,k[j]=0,e)},isOverAxis:function(h,j,i){return h>j&&h<j+i},isOver:function(m,h,k,e,l,j){return a.ui.isOverAxis(m,k,l)&&a.ui.isOverAxis(h,e,j)}})})(jQuery);(function(a,f){var c=0,d=Array.prototype.slice,b=a.cleanData;a.cleanData=function(i){for(var e=0,g;(g=i[e])!=null;e++){try{a(g).triggerHandler("remove")}catch(h){}}b(i)},a.widget=function(m,h,k){var g,l,j,p,e=m.split(".")[0];m=m.split(".")[1],g=e+"-"+m,k||(k=h,h=a.Widget),a.expr[":"][g.toLowerCase()]=function(i){return !!a.data(i,g)},a[e]=a[e]||{},l=a[e][m],j=a[e][m]=function(i,n){if(!this._createWidget){return new j(i,n)}arguments.length&&this._createWidget(i,n)},a.extend(j,l,{version:k.version,_proto:a.extend({},k),_childConstructors:[]}),p=new h,p.options=a.widget.extend({},p.options),a.each(k,function(o,n){a.isFunction(n)&&(k[o]=function(){var i=function(){return h.prototype[o].apply(this,arguments)},q=function(r){return h.prototype[o].apply(this,r)};return function(){var v=this._super,r=this._superApply,u;return this._super=i,this._superApply=q,u=n.apply(this,arguments),this._super=v,this._superApply=r,u}}())}),j.prototype=a.widget.extend(p,{widgetEventPrefix:l?p.widgetEventPrefix:m},k,{constructor:j,namespace:e,widgetName:m,widgetBaseClass:g,widgetFullName:g}),l?(a.each(l._childConstructors,function(q,i){var o=i.prototype;a.widget(o.namespace+"."+o.widgetName,j,i._proto)}),delete l._childConstructors):h._childConstructors.push(j),a.widget.bridge(m,j)},a.widget.extend=function(h){var g=d.call(arguments,1),k=0,j=g.length,l,e;for(;k<j;k++){for(l in g[k]){e=g[k][l],g[k].hasOwnProperty(l)&&e!==f&&(a.isPlainObject(e)?h[l]=a.isPlainObject(h[l])?a.widget.extend({},h[l],e):a.widget.extend({},e):h[l]=e)}}return h},a.widget.bridge=function(g,e){var h=e.prototype.widgetFullName||g;a.fn[g]=function(k){var l=typeof k=="string",i=d.call(arguments,1),j=this;return k=!l&&i.length?a.widget.extend.apply(null,[k].concat(i)):k,l?this.each(function(){var n,m=a.data(this,h);if(!m){return a.error("cannot call methods on "+g+" prior to initialization; attempted to call method '"+k+"'")}if(!a.isFunction(m[k])||k.charAt(0)==="_"){return a.error("no such method '"+k+"' for "+g+" widget instance")}n=m[k].apply(m,i);if(n!==m&&n!==f){return j=n&&n.jquery?j.pushStack(n.get()):n,!1}}):this.each(function(){var m=a.data(this,h);m?m.option(k||{})._init():a.data(this,h,new e(k,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(g,e){e=a(e||this.defaultElement||this)[0],this.element=a(e),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),g),this.bindings=a(),this.hoverable=a(),this.focusable=a(),e!==this&&(a.data(e,this.widgetName,this),a.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(h){h.target===e&&this.destroy()}}),this.document=a(e.style?e.ownerDocument:e.document||e),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(g,j){var e=g,k,h,l;if(arguments.length===0){return a.widget.extend({},this.options)}if(typeof g=="string"){e={},k=g.split("."),g=k.shift();if(k.length){h=e[g]=a.widget.extend({},this.options[g]);for(l=0;l<k.length-1;l++){h[k[l]]=h[k[l]]||{},h=h[k[l]]}g=k.pop();if(j===f){return h[g]===f?null:h[g]}h[g]=j}else{if(j===f){return this.options[g]===f?null:this.options[g]}e[g]=j}}return this._setOptions(e),this},_setOptions:function(g){var h;for(h in g){this._setOption(h,g[h])}return this},_setOption:function(g,h){return this.options[g]=h,g==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!h).attr("aria-disabled",h),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(k,g,h){var e,j=this;typeof k!="boolean"&&(h=g,g=k,k=!1),h?(g=e=a(g),this.bindings=this.bindings.add(g)):(h=g,g=this.element,e=this.widget()),a.each(h,function(q,p){function s(){if(!k&&(j.options.disabled===!0||a(this).hasClass("ui-state-disabled"))){return}return(typeof p=="string"?j[p]:p).apply(j,arguments)}typeof p!="string"&&(s.guid=p.guid=p.guid||s.guid||a.guid++);var i=q.match(/^(\w+)\s*(.*)$/),m=i[1]+j.eventNamespace,n=i[2];n?e.delegate(n,m,s):g.bind(m,s)})},_off:function(g,h){h=(h||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,g.unbind(h).undelegate(h)},_delay:function(g,j){function h(){return(typeof g=="string"?i[g]:g).apply(i,arguments)}var i=this;return setTimeout(h,j||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(g){a(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){a(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(g){a(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){a(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(l,g,j){var e,k,h=this.options[l];j=j||{},g=a.Event(g),g.type=(l===this.widgetEventPrefix?l:this.widgetEventPrefix+l).toLowerCase(),g.target=this.element[0],k=g.originalEvent;if(k){for(e in k){e in g||(g[e]=k[e])}}return this.element.trigger(g,j),!(a.isFunction(h)&&h.apply(this.element[0],[g].concat(j))===!1||g.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(g,e){a.Widget.prototype["_"+g]=function(k,h,l){typeof h=="string"&&(h={effect:h});var j,m=h?h===!0||typeof h=="number"?e:h.effect||e:g;h=h||{},typeof h=="number"&&(h={duration:h}),j=!a.isEmptyObject(h),h.complete=l,h.delay&&k.delay(h.delay),j&&a.effects&&(a.effects.effect[m]||a.uiBackCompat!==!1&&a.effects[m])?k[g](h):m!==g&&k[m]?k[m](h.duration,h.easing,l):k.queue(function(i){a(this)[g](),l&&l.call(k[0]),i()})}}),a.uiBackCompat!==!1&&(a.Widget.prototype._getCreateOptions=function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]})})(jQuery);(function(a,c){var b=!1;a(document).mouseup(function(d){b=!1}),a.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(f){return d._mouseDown(f)}).bind("click."+this.widgetName,function(e){if(!0===a.data(e.target,d.widgetName+".preventClickEvent")){return a.removeData(e.target,d.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(g){if(b){return}this._mouseStarted&&this._mouseUp(g),this._mouseDownEvent=g;var e=this,d=g.which===1,f=typeof this.options.cancel=="string"&&g.target.nodeName?a(g.target).closest(this.options.cancel).length:!1;if(!d||f||!this._mouseCapture(g)){return !0}this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(g)&&this._mouseDelayMet(g)){this._mouseStarted=this._mouseStart(g)!==!1;if(!this._mouseStarted){return g.preventDefault(),!0}}return !0===a.data(g.target,this.widgetName+".preventClickEvent")&&a.removeData(g.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(h){return e._mouseMove(h)},this._mouseUpDelegate=function(h){return e._mouseUp(h)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),g.preventDefault(),b=!0,!0},_mouseMove:function(d){return !a.ui.ie||document.documentMode>=9||!!d.button?this._mouseStarted?(this._mouseDrag(d),d.preventDefault()):(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,d)!==!1,this._mouseStarted?this._mouseDrag(d):this._mouseUp(d)),!this._mouseStarted):this._mouseUp(d)},_mouseUp:function(d){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,d.target===this._mouseDownEvent.target&&a.data(d.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(d)),!1},_mouseDistanceMet:function(d){return Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance},_mouseDelayMet:function(d){return this.mouseDelayMet},_mouseStart:function(d){},_mouseDrag:function(d){},_mouseStop:function(d){},_mouseCapture:function(d){return !0}})})(jQuery);(function(g,A){function k(a,f,c){return[parseInt(a[0],10)*(q.test(a[0])?f/100:1),parseInt(a[1],10)*(q.test(a[1])?c/100:1)]}function x(c,a){return parseInt(g.css(c,a),10)||0}g.ui=g.ui||{};var v,y=Math.max,m=Math.abs,z=Math.round,w=/left|center|right/,B=/top|center|bottom/,b=/[\+\-]\d+%?/,j=/^\w+/,q=/%$/,d=g.fn.position;g.position={scrollbarWidth:function(){if(v!==A){return v}var e,a,f=g("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),c=f.children()[0];return g("body").append(f),e=c.offsetWidth,f.css("overflow","scroll"),a=c.offsetWidth,e===a&&(a=f[0].clientWidth),f.remove(),v=e-a},getScrollInfo:function(h){var c=h.isWindow?"":h.element.css("overflow-x"),e=h.isWindow?"":h.element.css("overflow-y"),a=c==="scroll"||c==="auto"&&h.width<h.element[0].scrollWidth,f=e==="scroll"||e==="auto"&&h.height<h.element[0].scrollHeight;return{width:a?g.position.scrollbarWidth():0,height:f?g.position.scrollbarWidth():0}},getWithinInfo:function(e){var a=g(e||window),c=g.isWindow(a[0]);return{element:a,isWindow:c,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:c?a.width():a.outerWidth(),height:c?a.height():a.outerHeight()}}},g.fn.position=function(r){if(!r||!r.of){return d.apply(this,arguments)}r=g.extend({},r);var o,h,c,s,i,f=g(r.of),C=g.position.getWithinInfo(r.within),a=g.position.getScrollInfo(C),u=f[0],e=(r.collision||"flip").split(" "),p={};return u.nodeType===9?(h=f.width(),c=f.height(),s={top:0,left:0}):g.isWindow(u)?(h=f.width(),c=f.height(),s={top:f.scrollTop(),left:f.scrollLeft()}):u.preventDefault?(r.at="left top",h=c=0,s={top:u.pageY,left:u.pageX}):(h=f.outerWidth(),c=f.outerHeight(),s=f.offset()),i=g.extend({},s),g.each(["my","at"],function(){var l=(r[this]||"").split(" "),t,D;l.length===1&&(l=w.test(l[0])?l.concat(["center"]):B.test(l[0])?["center"].concat(l):["center","center"]),l[0]=w.test(l[0])?l[0]:"center",l[1]=B.test(l[1])?l[1]:"center",t=b.exec(l[0]),D=b.exec(l[1]),p[this]=[t?t[0]:0,D?D[0]:0],r[this]=[j.exec(l[0])[0],j.exec(l[1])[0]]}),e.length===1&&(e[1]=e[0]),r.at[0]==="right"?i.left+=h:r.at[0]==="center"&&(i.left+=h/2),r.at[1]==="bottom"?i.top+=c:r.at[1]==="center"&&(i.top+=c/2),o=k(p.at,h,c),i.left+=o[0],i.top+=o[1],this.each(function(){var G,I,l=g(this),D=l.outerWidth(),n=l.outerHeight(),J=x(this,"marginLeft"),K=x(this,"marginTop"),H=D+J+x(this,"marginRight")+a.width,F=n+K+x(this,"marginBottom")+a.height,t=g.extend({},i),E=k(p.my,l.outerWidth(),l.outerHeight());r.my[0]==="right"?t.left-=D:r.my[0]==="center"&&(t.left-=D/2),r.my[1]==="bottom"?t.top-=n:r.my[1]==="center"&&(t.top-=n/2),t.left+=E[0],t.top+=E[1],g.support.offsetFractions||(t.left=z(t.left),t.top=z(t.top)),G={marginLeft:J,marginTop:K},g.each(["left","top"],function(M,L){g.ui.position[e[M]]&&g.ui.position[e[M]][L](t,{targetWidth:h,targetHeight:c,elemWidth:D,elemHeight:n,collisionPosition:G,collisionWidth:H,collisionHeight:F,offset:[o[0]+E[0],o[1]+E[1]],my:r.my,at:r.at,within:C,elem:l})}),g.fn.bgiframe&&l.bgiframe(),r.using&&(I=function(L){var N=s.left-t.left,P=N+h-D,O=s.top-t.top,Q=O+c-n,M={target:{element:f,left:s.left,top:s.top,width:h,height:c},element:{element:l,left:t.left,top:t.top,width:D,height:n},horizontal:P<0?"left":N>0?"right":"center",vertical:Q<0?"top":O>0?"bottom":"middle"};h<D&&m(N+P)<h&&(M.horizontal="center"),c<n&&m(O+Q)<c&&(M.vertical="middle"),y(m(N),m(P))>y(m(O),m(Q))?M.important="horizontal":M.important="vertical",r.using.call(this,L,M)}),l.offset(g.extend(t,{using:I}))})},g.ui.position={fit:{left:function(h,E){var r=E.within,p=r.isWindow?r.scrollLeft:r.offset.left,D=r.width,C=h.left-E.collisionPosition.marginLeft,F=p-C,c=C+E.collisionWidth-D-p,l;E.collisionWidth>D?F>0&&c<=0?(l=h.left+F+E.collisionWidth-D-p,h.left+=F-l):c>0&&F<=0?h.left=p:F>c?h.left=p+D-E.collisionWidth:h.left=p:F>0?h.left+=F:c>0?h.left-=c:h.left=y(h.left-C,h.left)},top:function(h,E){var r=E.within,p=r.isWindow?r.scrollTop:r.offset.top,D=E.within.height,C=h.top-E.collisionPosition.marginTop,F=p-C,c=C+E.collisionHeight-D-p,l;E.collisionHeight>D?F>0&&c<=0?(l=h.top+F+E.collisionHeight-D-p,h.top+=F-l):c>0&&F<=0?h.top=p:F>c?h.top=p+D-E.collisionHeight:h.top=p:F>0?h.top+=F:c>0?h.top-=c:h.top=y(h.top-C,h.top)}},flip:{left:function(E,N){var I=N.within,L=I.offset.left+I.scrollLeft,M=I.width,J=I.isWindow?I.scrollLeft:I.offset.left,O=E.left-N.collisionPosition.marginLeft,i=O-J,F=O+N.collisionWidth-M-J,H=N.my[0]==="left"?-N.elemWidth:N.my[0]==="right"?N.elemWidth:0,C=N.at[0]==="left"?N.targetWidth:N.at[0]==="right"?-N.targetWidth:0,G=-2*N.offset[0],K,D;if(i<0){K=E.left+H+C+G+N.collisionWidth-M-L;if(K<0||K<m(i)){E.left+=H+C+G}}else{if(F>0){D=E.left-N.collisionPosition.marginLeft+H+C+G-J;if(D>0||m(D)<F){E.left+=H+C+G}}}},top:function(E,N){var I=N.within,L=I.offset.top+I.scrollTop,M=I.height,J=I.isWindow?I.scrollTop:I.offset.top,O=E.top-N.collisionPosition.marginTop,i=O-J,F=O+N.collisionHeight-M-J,H=N.my[1]==="top",C=H?-N.elemHeight:N.my[1]==="bottom"?N.elemHeight:0,G=N.at[1]==="top"?N.targetHeight:N.at[1]==="bottom"?-N.targetHeight:0,K=-2*N.offset[1],D,P;i<0?(P=E.top+C+G+K+N.collisionHeight-M-L,E.top+C+G+K>i&&(P<0||P<m(i))&&(E.top+=C+G+K)):F>0&&(D=E.top-N.collisionPosition.marginTop+C+G+K-J,E.top+C+G+K>F&&(D>0||m(D)<F)&&(E.top+=C+G+K))}},flipfit:{left:function(){g.ui.position.flip.left.apply(this,arguments),g.ui.position.fit.left.apply(this,arguments)},top:function(){g.ui.position.flip.top.apply(this,arguments),g.ui.position.fit.top.apply(this,arguments)}}},function(){var l,c,f,a,h,e=document.getElementsByTagName("body")[0],p=document.createElement("div");l=document.createElement(e?"div":"body"),f={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},e&&g.extend(f,{position:"absolute",left:"-1000px",top:"-1000px"});for(h in f){l.style[h]=f[h]}l.appendChild(p),c=e||document.documentElement,c.insertBefore(l,c.firstChild),p.style.cssText="position: absolute; left: 10.7432222px;",a=g(p).offset().left,g.support.offsetFractions=a>10&&a<11,l.innerHTML="",c.removeChild(l)}(),g.uiBackCompat!==!1&&function(a){var c=a.fn.position;a.fn.position=function(f){if(!f||!f.offset){return c.call(this,f)}var e=f.offset.split(" "),h=f.at.split(" ");return e.length===1&&(e[1]=e[0]),/^\d/.test(e[0])&&(e[0]="+"+e[0]),/^\d/.test(e[1])&&(e[1]="+"+e[1]),h.length===1&&(/left|center|right/.test(h[0])?h[1]="center":(h[1]=h[0],h[0]="center")),c.call(this,a.extend(f,{at:h[0]+e[0]+" "+h[1]+e[1],offset:A}))}}(jQuery)})(jQuery);(function(a,b){a.widget("ui.draggable",a.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(d){var c=this.options;return this.helper||c.disabled||a(d.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(d),this.handle?(a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(d){var c=this.options;return this.helper=this._createHelper(d),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(d),this.originalPageX=d.pageX,this.originalPageY=d.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",d)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,d),this._mouseDrag(d,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,d),!0)},_mouseDrag:function(e,c){this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute");if(!c){var d=this._uiHash();if(this._trigger("drag",e,d)===!1){return this._mouseUp({}),!1}this.position=d.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}return a.ui.ddmanager&&a.ui.ddmanager.drag(this,e),!1},_mouseStop:function(g){var d=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,g)),this.dropped&&(d=this.dropped,this.dropped=!1);var e=this.element[0],c=!1;while(e&&(e=e.parentNode)){e==document&&(c=!0)}if(!c&&this.options.helper==="original"){return !1}if(this.options.revert=="invalid"&&!d||this.options.revert=="valid"&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)){var f=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",g)!==!1&&f._clear()})}else{this._trigger("stop",g)!==!1&&this._clear()}return !1},_mouseUp:function(c){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,c),a.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(d){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==d.target&&(c=!0)}),c},_createHelper:function(e){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[e])):c.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute"),d},_adjustOffsetFromHelper:function(c){typeof c=="string"&&(c=c.split(" ")),a.isArray(c)&&(c={left:+c[0],top:+c[1]||0}),"left" in c&&(this.offset.click.left=c.left+this.margins.left),"right" in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left),"top" in c&&(this.offset.click.top=c.top+this.margins.top),"bottom" in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.ui.ie){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var g=this.options;g.containment=="parent"&&(g.containment=this.helper[0].parentNode);if(g.containment=="document"||g.containment=="window"){this.containment=[g.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,g.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(g.containment=="document"?0:a(window).scrollLeft())+a(g.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(g.containment=="document"?0:a(window).scrollTop())+(a(g.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(g.containment)&&g.containment.constructor!=Array){var d=a(g.containment),e=d[0];if(!e){return}var c=d.offset(),f=a(e).css("overflow")!="hidden";this.containment=[(parseInt(a(e).css("borderLeftWidth"),10)||0)+(parseInt(a(e).css("paddingLeft"),10)||0),(parseInt(a(e).css("borderTopWidth"),10)||0)+(parseInt(a(e).css("paddingTop"),10)||0),(f?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a(e).css("borderLeftWidth"),10)||0)-(parseInt(a(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a(e).css("borderTopWidth"),10)||0)-(parseInt(a(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=d}else{g.containment.constructor==Array&&(this.containment=g.containment)}},_convertPositionTo:function(h,d){d||(d=this.position);var f=h=="absolute"?1:-1,c=this.options,g=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(g[0].tagName);return{top:d.top+this.offset.relative.top*f+this.offset.parent.top*f-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:g.scrollTop())*f,left:d.left+this.offset.relative.left*f+this.offset.parent.left*f-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:g.scrollLeft())*f}},_generatePosition:function(p){var h=this.options,k=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(k[0].tagName),m=p.pageX,j=p.pageY;if(this.originalPosition){var q;if(this.containment){if(this.relative_container){var c=this.relative_container.offset();q=[this.containment[0]+c.left,this.containment[1]+c.top,this.containment[2]+c.left,this.containment[3]+c.top]}else{q=this.containment}p.pageX-this.offset.click.left<q[0]&&(m=q[0]+this.offset.click.left),p.pageY-this.offset.click.top<q[1]&&(j=q[1]+this.offset.click.top),p.pageX-this.offset.click.left>q[2]&&(m=q[2]+this.offset.click.left),p.pageY-this.offset.click.top>q[3]&&(j=q[3]+this.offset.click.top)}if(h.grid){var d=h.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/h.grid[1])*h.grid[1]:this.originalPageY;j=q?d-this.offset.click.top<q[1]||d-this.offset.click.top>q[3]?d-this.offset.click.top<q[1]?d+h.grid[1]:d-h.grid[1]:d:d;var g=h.grid[0]?this.originalPageX+Math.round((m-this.originalPageX)/h.grid[0])*h.grid[0]:this.originalPageX;m=q?g-this.offset.click.left<q[0]||g-this.offset.click.left>q[2]?g-this.offset.click.left<q[0]?g+h.grid[0]:g-h.grid[0]:g:g}}return{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:k.scrollTop()),left:m-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:k.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,e,[c,d]),e=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,e,c,d)},plugins:{},_uiHash:function(c){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(g,d){var e=a(this).data("draggable"),c=e.options,f=a.extend({},d,{item:e.element});e.sortables=[],a(c.connectToSortable).each(function(){var h=a.data(this,"sortable");h&&!h.options.disabled&&(e.sortables.push({instance:h,shouldRevert:h.options.revert}),h.refreshPositions(),h._trigger("activate",g,f))})},stop:function(f,d){var e=a(this).data("draggable"),c=a.extend({},d,{item:e.element});a.each(e.sortables,function(){this.instance.isOver?(this.instance.isOver=0,e.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(f),this.instance.options.helper=this.instance.options._helper,e.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",f,c))})},drag:function(g,d){var e=a(this).data("draggable"),c=this,f=function(v){var l=this.offset.click.top,p=this.offset.click.left,k=this.positionAbs.top,q=this.positionAbs.left,m=v.height,w=v.width,h=v.top,j=v.left;return a.ui.isOver(k+l,q+p,h,j,m,w)};a.each(e.sortables,function(i){var h=!1,j=this;this.instance.positionAbs=e.positionAbs,this.instance.helperProportions=e.helperProportions,this.instance.offset.click=e.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(h=!0,a.each(e.sortables,function(){return this.instance.positionAbs=e.positionAbs,this.instance.helperProportions=e.helperProportions,this.instance.offset.click=e.offset.click,this!=j&&this.instance._intersectsWith(this.instance.containerCache)&&a.ui.contains(j.instance.element[0],this.instance.element[0])&&(h=!1),h})),h?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(c).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return d.helper[0]},g.target=this.instance.currentItem[0],this.instance._mouseCapture(g,!0),this.instance._mouseStart(g,!0,!0),this.instance.offset.click.top=e.offset.click.top,this.instance.offset.click.left=e.offset.click.left,this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top,e._trigger("toSortable",g),e.dropped=this.instance.element,e.currentItem=e.element,this.instance.fromOutside=e),this.instance.currentItem&&this.instance._mouseDrag(g)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",g,this.instance._uiHash(this.instance)),this.instance._mouseStop(g,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),e._trigger("fromSortable",g),e.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(f,d){var e=a("body"),c=a(this).data("draggable").options;e.css("cursor")&&(c._cursor=e.css("cursor")),e.css("cursor",c.cursor)},stop:function(e,c){var d=a(this).data("draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(f,d){var e=a(d.helper),c=a(this).data("draggable").options;e.css("opacity")&&(c._opacity=e.css("opacity")),e.css("opacity",c.opacity)},stop:function(e,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(e,c){var d=a(this).data("draggable");d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"&&(d.overflowOffset=d.scrollParent.offset())},drag:function(g,d){var e=a(this).data("draggable"),c=e.options,f=!1;if(e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"){if(!c.axis||c.axis!="x"){e.overflowOffset.top+e.scrollParent[0].offsetHeight-g.pageY<c.scrollSensitivity?e.scrollParent[0].scrollTop=f=e.scrollParent[0].scrollTop+c.scrollSpeed:g.pageY-e.overflowOffset.top<c.scrollSensitivity&&(e.scrollParent[0].scrollTop=f=e.scrollParent[0].scrollTop-c.scrollSpeed)}if(!c.axis||c.axis!="y"){e.overflowOffset.left+e.scrollParent[0].offsetWidth-g.pageX<c.scrollSensitivity?e.scrollParent[0].scrollLeft=f=e.scrollParent[0].scrollLeft+c.scrollSpeed:g.pageX-e.overflowOffset.left<c.scrollSensitivity&&(e.scrollParent[0].scrollLeft=f=e.scrollParent[0].scrollLeft-c.scrollSpeed)}}else{if(!c.axis||c.axis!="x"){g.pageY-a(document).scrollTop()<c.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(g.pageY-a(document).scrollTop())<c.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed))}if(!c.axis||c.axis!="y"){g.pageX-a(document).scrollLeft()<c.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(g.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))}}f!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(e,g)}}),a.ui.plugin.add("draggable","snap",{start:function(f,d){var e=a(this).data("draggable"),c=e.options;e.snapElements=[],a(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var h=a(this),g=h.offset();this!=e.element[0]&&e.snapElements.push({item:this,width:h.outerWidth(),height:h.outerHeight(),top:g.top,left:g.left})})},drag:function(I,D){var G=a(this).data("draggable"),A=G.options,H=A.snapTolerance,E=D.offset.left,J=E+G.helperProportions.width,e=D.offset.top,w=e+G.helperProportions.height;for(var B=G.snapElements.length-1;B>=0;B--){var k=G.snapElements[B].left,z=k+G.snapElements[B].width,F=G.snapElements[B].top,q=F+G.snapElements[B].height;if(!(k-H<E&&E<z+H&&F-H<e&&e<q+H||k-H<E&&E<z+H&&F-H<w&&w<q+H||k-H<J&&J<z+H&&F-H<e&&e<q+H||k-H<J&&J<z+H&&F-H<w&&w<q+H)){G.snapElements[B].snapping&&G.options.snap.release&&G.options.snap.release.call(G.element,I,a.extend(G._uiHash(),{snapItem:G.snapElements[B].item})),G.snapElements[B].snapping=!1;continue}if(A.snapMode!="inner"){var K=Math.abs(F-w)<=H,C=Math.abs(q-e)<=H,x=Math.abs(k-J)<=H,L=Math.abs(z-E)<=H;K&&(D.position.top=G._convertPositionTo("relative",{top:F-G.helperProportions.height,left:0}).top-G.margins.top),C&&(D.position.top=G._convertPositionTo("relative",{top:q,left:0}).top-G.margins.top),x&&(D.position.left=G._convertPositionTo("relative",{top:0,left:k-G.helperProportions.width}).left-G.margins.left),L&&(D.position.left=G._convertPositionTo("relative",{top:0,left:z}).left-G.margins.left)}var j=K||C||x||L;if(A.snapMode!="outer"){var K=Math.abs(F-e)<=H,C=Math.abs(q-w)<=H,x=Math.abs(k-E)<=H,L=Math.abs(z-J)<=H;K&&(D.position.top=G._convertPositionTo("relative",{top:F,left:0}).top-G.margins.top),C&&(D.position.top=G._convertPositionTo("relative",{top:q-G.helperProportions.height,left:0}).top-G.margins.top),x&&(D.position.left=G._convertPositionTo("relative",{top:0,left:k}).left-G.margins.left),L&&(D.position.left=G._convertPositionTo("relative",{top:0,left:z-G.helperProportions.width}).left-G.margins.left)}!G.snapElements[B].snapping&&(K||C||x||L||j)&&G.options.snap.snap&&G.options.snap.snap.call(G.element,I,a.extend(G._uiHash(),{snapItem:G.snapElements[B].item})),G.snapElements[B].snapping=K||C||x||L||j}}}),a.ui.plugin.add("draggable","stack",{start:function(g,d){var e=a(this).data("draggable").options,c=a.makeArray(a(e.stack)).sort(function(i,h){return(parseInt(a(i).css("zIndex"),10)||0)-(parseInt(a(h).css("zIndex"),10)||0)});if(!c.length){return}var f=parseInt(c[0].style.zIndex)||0;a(c).each(function(h){this.style.zIndex=f+h}),this[0].style.zIndex=f+c.length}}),a.ui.plugin.add("draggable","zIndex",{start:function(f,d){var e=a(d.helper),c=a(this).data("draggable").options;e.css("zIndex")&&(c._zIndex=e.css("zIndex")),e.css("zIndex",c.zIndex)},stop:function(e,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})})(jQuery);(function(a,b){a.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var d=this.options,c=d.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(f){return f.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[d.scope]=a.ui.ddmanager.droppables[d.scope]||[],a.ui.ddmanager.droppables[d.scope].push(this),d.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var d=a.ui.ddmanager.droppables[this.options.scope];for(var c=0;c<d.length;c++){d[c]==this&&d.splice(c,1)}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(d,c){d=="accept"&&(this.accept=a.isFunction(c)?c:function(f){return f.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",d,this.ui(c))},_deactivate:function(d){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",d,this.ui(c))},_over:function(d){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0]){return}this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",d,this.ui(c)))},_out:function(d){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0]){return}this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",d,this.ui(c)))},_drop:function(f,d){var e=d||a.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]==this.element[0]){return !1}var c=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var g=a.data(this,"droppable");if(g.options.greedy&&!g.options.disabled&&g.options.scope==e.options.scope&&g.accept.call(g.element[0],e.currentItem||e.element)&&a.ui.intersect(e,a.extend(g,{offset:g.element.offset()}),g.options.tolerance)){return c=!0,!1}}),c?!1:this.accept.call(this.element[0],e.currentItem||e.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",f,this.ui(e)),this.element):!1},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}}}),a.ui.intersect=function(B,w,z){if(!w.offset){return !1}var q=(B.positionAbs||B.position.absolute).left,A=q+B.helperProportions.width,x=(B.positionAbs||B.position.absolute).top,C=x+B.helperProportions.height,e=w.offset.left,k=e+w.proportions.width,v=w.offset.top,g=v+w.proportions.height;switch(z){case"fit":return e<=q&&A<=k&&v<=x&&C<=g;case"intersect":return e<q+B.helperProportions.width/2&&A-B.helperProportions.width/2<k&&v<x+B.helperProportions.height/2&&C-B.helperProportions.height/2<g;case"pointer":var m=(B.positionAbs||B.position.absolute).left+(B.clickOffset||B.offset.click).left,y=(B.positionAbs||B.position.absolute).top+(B.clickOffset||B.offset.click).top,j=a.ui.isOver(y,m,v,e,w.proportions.height,w.proportions.width);return j;case"touch":return(x>=v&&x<=g||C>=v&&C<=g||x<v&&C>g)&&(q>=e&&q<=k||A>=e&&A<=k||q<e&&A>k);default:return !1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(h,d){var f=a.ui.ddmanager.droppables[h.options.scope]||[],c=d?d.type:null,g=(h.currentItem||h.element).find(":data(droppable)").andSelf();a:for(var e=0;e<f.length;e++){if(f[e].options.disabled||h&&!f[e].accept.call(f[e].element[0],h.currentItem||h.element)){continue}for(var j=0;j<g.length;j++){if(g[j]==f[e].element[0]){f[e].proportions.height=0;continue a}}f[e].visible=f[e].element.css("display")!="none";if(!f[e].visible){continue}c=="mousedown"&&f[e]._activate.call(f[e],d),f[e].offset=f[e].element.offset(),f[e].proportions={width:f[e].element[0].offsetWidth,height:f[e].element[0].offsetHeight}}},drop:function(e,c){var d=!1;return a.each(a.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options){return}!this.options.disabled&&this.visible&&a.ui.intersect(e,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c))}),d},dragStart:function(d,c){d.element.parentsUntil("body").bind("scroll.droppable",function(){d.options.refreshPositions||a.ui.ddmanager.prepareOffsets(d,c)})},drag:function(d,c){d.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(d,c),a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var g=a.ui.intersect(d,this,this.options.tolerance),e=!g&&this.isover==1?"isout":g&&this.isover==0?"isover":null;if(!e){return}var h;if(this.options.greedy){var f=this.options.scope,j=this.element.parents(":data(droppable)").filter(function(){return a.data(this,"droppable").options.scope===f});j.length&&(h=a.data(j[0],"droppable"),h.greedyChild=e=="isover"?1:0)}h&&e=="isover"&&(h.isover=0,h.isout=1,h._out.call(h,c)),this[e]=1,this[e=="isout"?"isover":"isout"]=0,this[e=="isover"?"_over":"_out"].call(this,c),h&&e=="isout"&&(h.isout=0,h.isover=1,h._over.call(h,c))})},dragStop:function(d,c){d.element.parentsUntil("body").unbind("scroll.droppable"),d.options.refreshPositions||a.ui.ddmanager.prepareOffsets(d,c)}}})(jQuery);(function(a,d){a.widget("ui.resizable",a.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var k=this,f=this.options;this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!f.aspectRatio,aspectRatio:f.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:f.helper||f.ghost||f.animate?f.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=f.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var h=this.handles.split(",");this.handles={};for(var e=0;e<h.length;e++){var j=a.trim(h[e]),g="ui-resizable-"+j,l=a('<div class="ui-resizable-handle '+g+'"></div>');l.css({zIndex:f.zIndex}),"se"==j&&l.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[j]=".ui-resizable-"+j,this.element.append(l)}}this._renderAxis=function(u){u=u||this.element;for(var o in this.handles){this.handles[o].constructor==String&&(this.handles[o]=a(this.handles[o],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var p=a(this.handles[o],this.element),m=0;m=/sw|ne|nw|se|n|s/.test(o)?p.outerHeight():p.outerWidth();var q=["padding",/ne|nw|n/.test(o)?"Top":/se|sw|s/.test(o)?"Bottom":/^e$/.test(o)?"Right":"Left"].join("");u.css(q,m),this._proportionallyResize()}if(!a(this.handles[o]).length){continue}}},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!k.resizing){if(this.className){var i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}k.axis=i&&i[1]?i[1]:"se"}}),f.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(f.disabled){return}a(this).removeClass("ui-resizable-autohide"),k._handles.show()}).mouseleave(function(){if(f.disabled){return}k.resizing||(a(this).addClass("ui-resizable-autohide"),k._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var f=function(g){a(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){f(this.element);var e=this.element;this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()}return this.originalElement.css("resize",this.originalResizeStyle),f(this.originalElement),this},_mouseCapture:function(g){var e=!1;for(var f in this.handles){a(this.handles[f])[0]==g.target&&(e=!0)}return !this.options.disabled&&e},_mouseStart:function(k){var h=this.options,f=this.element.position(),j=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(j.is(".ui-draggable")||/absolute/.test(j.css("position")))&&j.css({position:"absolute",top:f.top,left:f.left}),this._renderProxy();var g=b(this.helper.css("left")),l=b(this.helper.css("top"));h.containment&&(g+=a(h.containment).scrollLeft()||0,l+=a(h.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:l},this.size=this._helper?{width:j.outerWidth(),height:j.outerHeight()}:{width:j.width(),height:j.height()},this.originalSize=this._helper?{width:j.outerWidth(),height:j.outerHeight()}:{width:j.width(),height:j.height()},this.originalPosition={left:g,top:l},this.sizeDiff={width:j.outerWidth()-j.width(),height:j.outerHeight()-j.height()},this.originalMousePosition={left:k.pageX,top:k.pageY},this.aspectRatio=typeof h.aspectRatio=="number"?h.aspectRatio:this.originalSize.width/this.originalSize.height||1;var e=a(".ui-resizable-"+this.axis).css("cursor");return a("body").css("cursor",e=="auto"?this.axis+"-resize":e),j.addClass("ui-resizable-resizing"),this._propagate("start",k),!0},_mouseDrag:function(h){var x=this.helper,p=this.options,v={},k=this,w=this.originalMousePosition,q=this.axis,y=h.pageX-w.left||0,g=h.pageY-w.top||0,j=this._change[q];if(!j){return !1}var m=j.apply(this,[h,y,g]);this._updateVirtualBoundaries(h.shiftKey);if(this._aspectRatio||h.shiftKey){m=this._updateRatio(m,h)}return m=this._respectSize(m,h),this._propagate("resize",h),x.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(m),this._trigger("resize",h,this.ui()),!1},_mouseStop:function(v){this.resizing=!1;var k=this.options,p=this;if(this._helper){var h=this._proportionallyResizeElements,q=h.length&&/textarea/i.test(h[0].nodeName),m=q&&a.ui.hasScroll(h[0],"left")?0:p.sizeDiff.height,w=q?0:p.sizeDiff.width,e={width:p.helper.width()-w,height:p.helper.height()-m},g=parseInt(p.element.css("left"),10)+(p.position.left-p.originalPosition.left)||null,j=parseInt(p.element.css("top"),10)+(p.position.top-p.originalPosition.top)||null;k.animate||this.element.css(a.extend(e,{top:j,left:g})),p.helper.height(p.size.height),p.helper.width(p.size.width),this._helper&&!k.animate&&this._proportionallyResize()}return a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",v),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(f){var l=this.options,h,g,k,j,m;m={minWidth:c(l.minWidth)?l.minWidth:0,maxWidth:c(l.maxWidth)?l.maxWidth:Infinity,minHeight:c(l.minHeight)?l.minHeight:0,maxHeight:c(l.maxHeight)?l.maxHeight:Infinity};if(this._aspectRatio||f){h=m.minHeight*this.aspectRatio,k=m.minWidth/this.aspectRatio,g=m.maxHeight*this.aspectRatio,j=m.maxWidth/this.aspectRatio,h>m.minWidth&&(m.minWidth=h),k>m.minHeight&&(m.minHeight=k),g<m.maxWidth&&(m.maxWidth=g),j<m.maxHeight&&(m.maxHeight=j)}this._vBoundaries=m},_updateCache:function(f){var g=this.options;this.offset=this.helper.offset(),c(f.left)&&(this.position.left=f.left),c(f.top)&&(this.position.top=f.top),c(f.height)&&(this.size.height=f.height),c(f.width)&&(this.size.width=f.width)},_updateRatio:function(f,l){var h=this.options,g=this.position,k=this.size,j=this.axis;return c(f.height)?f.width=f.height*this.aspectRatio:c(f.width)&&(f.height=f.width/this.aspectRatio),j=="sw"&&(f.left=g.left+(k.width-f.width),f.top=null),j=="nw"&&(f.top=g.top+(k.height-f.height),f.left=g.left+(k.width-f.width)),f},_respectSize:function(m,C){var y=this.helper,w=this._vBoundaries,B=this._aspectRatio||C.shiftKey,z=this.axis,D=c(m.width)&&w.maxWidth&&w.maxWidth<m.width,g=c(m.height)&&w.maxHeight&&w.maxHeight<m.height,q=c(m.width)&&w.minWidth&&w.minWidth>m.width,x=c(m.height)&&w.minHeight&&w.minHeight>m.height;q&&(m.width=w.minWidth),x&&(m.height=w.minHeight),D&&(m.width=w.maxWidth),g&&(m.height=w.maxHeight);var j=this.originalPosition.left+this.originalSize.width,r=this.position.top+this.size.height,A=/sw|nw|w/.test(z),k=/nw|ne|n/.test(z);q&&A&&(m.left=j-w.minWidth),D&&A&&(m.left=j-w.maxWidth),x&&k&&(m.top=r-w.minHeight),g&&k&&(m.top=r-w.maxHeight);var E=!m.width&&!m.height;return E&&!m.left&&m.top?m.top=null:E&&!m.top&&m.left&&(m.left=null),m},_proportionallyResize:function(){var k=this.options;if(!this._proportionallyResizeElements.length){return}var f=this.helper||this.element;for(var h=0;h<this._proportionallyResizeElements.length;h++){var e=this._proportionallyResizeElements[h];if(!this.borderDif){var j=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],g=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];this.borderDif=a.map(j,function(i,o){var l=parseInt(i,10)||0,m=parseInt(g[o],10)||0;return l+m})}e.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var h=this.element,f=this.options;this.elementOffset=h.offset();if(this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var g=a.ui.ie6?1:0,e=a.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+e,height:this.element.outerHeight()+e,position:"absolute",left:this.elementOffset.left-g+"px",top:this.elementOffset.top-g+"px",zIndex:++f.zIndex}),this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(f,h,g){return{width:this.originalSize.width+h}},w:function(f,l,h){var j=this.options,g=this.originalSize,k=this.originalPosition;return{left:k.left+l,width:g.width-l}},n:function(f,l,h){var j=this.options,g=this.originalSize,k=this.originalPosition;return{top:k.top+h,height:g.height-h}},s:function(f,h,g){return{height:this.originalSize.height+g}},se:function(g,e,f){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,e,f]))},sw:function(g,e,f){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,e,f]))},ne:function(g,e,f){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,e,f]))},nw:function(g,e,f){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,e,f]))}},_propagate:function(f,e){a.ui.plugin.call(this,f,[e,this.ui()]),f!="resize"&&this._trigger(f,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add("resizable","alsoResize",{start:function(j,f){var g=a(this).data("resizable"),e=g.options,h=function(i){a(i).each(function(){var k=a(this);k.data("resizable-alsoresize",{width:parseInt(k.width(),10),height:parseInt(k.height(),10),left:parseInt(k.css("left"),10),top:parseInt(k.css("top"),10)})})};typeof e.alsoResize=="object"&&!e.alsoResize.parentNode?e.alsoResize.length?(e.alsoResize=e.alsoResize[0],h(e.alsoResize)):a.each(e.alsoResize,function(i){h(i)}):h(e.alsoResize)},resize:function(l,g){var j=a(this).data("resizable"),f=j.options,k=j.originalSize,h=j.originalPosition,m={height:j.size.height-k.height||0,width:j.size.width-k.width||0,top:j.position.top-h.top||0,left:j.position.left-h.left||0},e=function(n,i){a(n).each(function(){var u=a(this),p=a(this).data("resizable-alsoresize"),r={},q=i&&i.length?i:u.parents(g.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(q,function(o,v){var s=(p[v]||0)+(m[v]||0);s&&s>=0&&(r[v]=s||null)}),u.css(r)})};typeof f.alsoResize=="object"&&!f.alsoResize.nodeType?a.each(f.alsoResize,function(i,n){e(i,n)}):e(f.alsoResize)},stop:function(f,e){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","animate",{stop:function(w,m){var q=a(this).data("resizable"),j=q.options,v=q._proportionallyResizeElements,p=v.length&&/textarea/i.test(v[0].nodeName),x=p&&a.ui.hasScroll(v[0],"left")?0:q.sizeDiff.height,e=p?0:q.sizeDiff.width,h={width:q.size.width-e,height:q.size.height-x},k=parseInt(q.element.css("left"),10)+(q.position.left-q.originalPosition.left)||null,g=parseInt(q.element.css("top"),10)+(q.position.top-q.originalPosition.top)||null;q.element.animate(a.extend(h,g&&k?{top:g,left:k}:{}),{duration:j.animateDuration,easing:j.animateEasing,step:function(){var f={width:parseInt(q.element.css("width"),10),height:parseInt(q.element.css("height"),10),top:parseInt(q.element.css("top"),10),left:parseInt(q.element.css("left"),10)};v&&v.length&&a(v[0]).css({width:f.width,height:f.height}),q._updateCache(f),q._propagate("resize",w)}})}}),a.ui.plugin.add("resizable","containment",{start:function(A,y){var n=a(this).data("resizable"),z=n.options,w=n.element,B=z.containment,e=B instanceof a?B.get(0):/parent/.test(B)?w.parent().get(0):B;if(!e){return}n.containerElement=a(e);if(/document/.test(B)||B==document){n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}}else{var k=a(e),q=[];a(["Top","Right","Left","Bottom"]).each(function(f,h){q[f]=b(k.css("padding"+h))}),n.containerOffset=k.offset(),n.containerPosition=k.position(),n.containerSize={height:k.innerHeight()-q[3],width:k.innerWidth()-q[1]};var g=n.containerOffset,m=n.containerSize.height,x=n.containerSize.width,j=a.ui.hasScroll(e,"left")?e.scrollWidth:x,C=a.ui.hasScroll(e)?e.scrollHeight:m;n.parentData={element:e,left:g.left,top:g.top,width:j,height:C}}},resize:function(C,x){var A=a(this).data("resizable"),q=A.options,B=A.containerSize,y=A.containerOffset,D=A.size,e=A.position,k=A._aspectRatio||C.shiftKey,w={top:0,left:0},g=A.containerElement;g[0]!=document&&/static/.test(g.css("position"))&&(w=y),e.left<(A._helper?y.left:0)&&(A.size.width=A.size.width+(A._helper?A.position.left-y.left:A.position.left-w.left),k&&(A.size.height=A.size.width/A.aspectRatio),A.position.left=q.helper?y.left:0),e.top<(A._helper?y.top:0)&&(A.size.height=A.size.height+(A._helper?A.position.top-y.top:A.position.top),k&&(A.size.width=A.size.height*A.aspectRatio),A.position.top=A._helper?y.top:0),A.offset.left=A.parentData.left+A.position.left,A.offset.top=A.parentData.top+A.position.top;var m=Math.abs((A._helper?A.offset.left-w.left:A.offset.left-w.left)+A.sizeDiff.width),z=Math.abs((A._helper?A.offset.top-w.top:A.offset.top-y.top)+A.sizeDiff.height),j=A.containerElement.get(0)==A.element.parent().get(0),E=/relative|absolute/.test(A.containerElement.css("position"));j&&E&&(m-=A.parentData.left),m+A.size.width>=A.parentData.width&&(A.size.width=A.parentData.width-m,k&&(A.size.height=A.size.width/A.aspectRatio)),z+A.size.height>=A.parentData.height&&(A.size.height=A.parentData.height-z,k&&(A.size.width=A.size.height*A.aspectRatio))},stop:function(y,q){var w=a(this).data("resizable"),m=w.options,x=w.position,v=w.containerOffset,z=w.containerPosition,e=w.containerElement,j=a(w.helper),p=j.offset(),g=j.outerWidth()-w.sizeDiff.width,k=j.outerHeight()-w.sizeDiff.height;w._helper&&!m.animate&&/relative/.test(e.css("position"))&&a(this).css({left:p.left-z.left-v.left,width:g,height:k}),w._helper&&!m.animate&&/static/.test(e.css("position"))&&a(this).css({left:p.left-z.left-v.left,width:g,height:k})}}),a.ui.plugin.add("resizable","ghost",{start:function(j,f){var g=a(this).data("resizable"),e=g.options,h=g.size;g.ghost=g.originalElement.clone(),g.ghost.css({opacity:0.25,display:"block",position:"relative",height:h.height,width:h.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof e.ghost=="string"?e.ghost:""),g.ghost.appendTo(g.helper)},resize:function(h,f){var g=a(this).data("resizable"),e=g.options;g.ghost&&g.ghost.css({position:"relative",height:g.size.height,width:g.size.width})},stop:function(h,f){var g=a(this).data("resizable"),e=g.options;g.ghost&&g.helper&&g.helper.get(0).removeChild(g.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(w,m){var q=a(this).data("resizable"),j=q.options,v=q.size,p=q.originalSize,x=q.originalPosition,e=q.axis,h=j._aspectRatio||w.shiftKey;j.grid=typeof j.grid=="number"?[j.grid,j.grid]:j.grid;var k=Math.round((v.width-p.width)/(j.grid[0]||1))*(j.grid[0]||1),g=Math.round((v.height-p.height)/(j.grid[1]||1))*(j.grid[1]||1);/^(se|s|e)$/.test(e)?(q.size.width=p.width+k,q.size.height=p.height+g):/^(ne)$/.test(e)?(q.size.width=p.width+k,q.size.height=p.height+g,q.position.top=x.top-g):/^(sw)$/.test(e)?(q.size.width=p.width+k,q.size.height=p.height+g,q.position.left=x.left-k):(q.size.width=p.width+k,q.size.height=p.height+g,q.position.top=x.top-g,q.position.left=x.left-k)}});var b=function(f){return parseInt(f,10)||0},c=function(f){return !isNaN(parseInt(f,10))}})(jQuery);(function(a,b){a.widget("ui.selectable",a.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var d=this;this.element.addClass("ui-selectable"),this.dragged=!1;var c;this.refresh=function(){c=a(d.options.filter,d.element[0]),c.addClass("ui-selectee"),c.each(function(){var f=a(this),e=f.offset();a.data(this,"selectable-item",{element:this,$element:f,left:e.left,top:e.top,right:e.left+f.outerWidth(),bottom:e.top+f.outerHeight(),startselected:!1,selected:f.hasClass("ui-selected"),selecting:f.hasClass("ui-selecting"),unselecting:f.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var c=this;this.opos=[e.pageX,e.pageY];if(this.options.disabled){return}var d=this.options;this.selectees=a(d.filter,this.element[0]),this._trigger("start",e),a(d.appendTo).append(this.helper),this.helper.css({left:e.clientX,top:e.clientY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var f=a.data(this,"selectable-item");f.startselected=!0,!e.metaKey&&!e.ctrlKey&&(f.$element.removeClass("ui-selected"),f.selected=!1,f.$element.addClass("ui-unselecting"),f.unselecting=!0,c._trigger("unselecting",e,{unselecting:f.element}))}),a(e.target).parents().andSelf().each(function(){var g=a.data(this,"selectable-item");if(g){var f=!e.metaKey&&!e.ctrlKey||!g.$element.hasClass("ui-selected");return g.$element.removeClass(f?"ui-unselecting":"ui-selected").addClass(f?"ui-selecting":"ui-unselecting"),g.unselecting=!f,g.selecting=f,g.selected=f,f?c._trigger("selecting",e,{selecting:g.element}):c._trigger("unselecting",e,{unselecting:g.element}),!1}})},_mouseDrag:function(j){var e=this;this.dragged=!0;if(this.options.disabled){return}var g=this.options,d=this.opos[0],h=this.opos[1],f=j.pageX,k=j.pageY;if(d>f){var c=f;f=d,d=c}if(h>k){var c=k;k=h,h=c}return this.helper.css({left:d,top:h,width:f-d,height:k-h}),this.selectees.each(function(){var i=a.data(this,"selectable-item");if(!i||i.element==e.element[0]){return}var l=!1;g.tolerance=="touch"?l=!(i.left>f||i.right<d||i.top>k||i.bottom<h):g.tolerance=="fit"&&(l=i.left>d&&i.right<f&&i.top>h&&i.bottom<k),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,e._trigger("selecting",j,{selecting:i.element}))):(i.selecting&&((j.metaKey||j.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),e._trigger("unselecting",j,{unselecting:i.element}))),i.selected&&!j.metaKey&&!j.ctrlKey&&!i.startselected&&(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,e._trigger("unselecting",j,{unselecting:i.element})))}),!1},_mouseStop:function(e){var c=this;this.dragged=!1;var d=this.options;return a(".ui-unselecting",this.element[0]).each(function(){var f=a.data(this,"selectable-item");f.$element.removeClass("ui-unselecting"),f.unselecting=!1,f.startselected=!1,c._trigger("unselected",e,{unselected:f.element})}),a(".ui-selecting",this.element[0]).each(function(){var f=a.data(this,"selectable-item");f.$element.removeClass("ui-selecting").addClass("ui-selected"),f.selecting=!1,f.selected=!0,f.startselected=!0,c._trigger("selected",e,{selected:f.element})}),this._trigger("stop",e),this.helper.remove(),!1}})})(jQuery);(function(a,b){a.widget("ui.sortable",a.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var c=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?c.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var c=this.items.length-1;c>=0;c--){this.items[c].item.removeData(this.widgetName+"-item")}return this},_setOption:function(d,c){d==="disabled"?(this.options[d]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(h,d){var f=this;if(this.reverting){return !1}if(this.options.disabled||this.options.type=="static"){return !1}this._refreshItems(h);var c=null,g=a(h.target).parents().each(function(){if(a.data(this,f.widgetName+"-item")==f){return c=a(this),!1}});a.data(h.target,f.widgetName+"-item")==f&&(c=a(h.target));if(!c){return !1}if(this.options.handle&&!d){var e=!1;a(this.options.handle,c).find("*").andSelf().each(function(){this==h.target&&(e=!0)});if(!e){return !1}}return this.currentItem=c,this._removeCurrentsFromItems(),!0},_mouseStart:function(g,d,e){var c=this.options;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(g),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:g.pageX-this.offset.left,top:g.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(g),this.originalPageX=g.pageX,this.originalPageY=g.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),c.containment&&this._setContainment(),c.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",c.cursor)),c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",c.opacity)),c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",g,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!e){for(var f=this.containers.length-1;f>=0;f--){this.containers[f]._trigger("activate",g,this._uiHash(this))}}return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,g),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(g),!0},_mouseDrag:function(h){this.position=this._generatePosition(h),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var d=this.options,f=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-h.pageY<d.scrollSensitivity?this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop+d.scrollSpeed:h.pageY-this.overflowOffset.top<d.scrollSensitivity&&(this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop-d.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-h.pageX<d.scrollSensitivity?this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft+d.scrollSpeed:h.pageX-this.overflowOffset.left<d.scrollSensitivity&&(this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft-d.scrollSpeed)):(h.pageY-a(document).scrollTop()<d.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(h.pageY-a(document).scrollTop())<d.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed)),h.pageX-a(document).scrollLeft()<d.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(h.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed))),f!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,h)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(var c=this.items.length-1;c>=0;c--){var g=this.items[c],e=g.item[0],j=this._intersectsWithPointer(g);if(!j){continue}if(g.instance!==this.currentContainer){continue}if(e!=this.currentItem[0]&&this.placeholder[j==1?"next":"prev"]()[0]!=e&&!a.contains(this.placeholder[0],e)&&(this.options.type=="semi-dynamic"?!a.contains(this.element[0],e):!0)){this.direction=j==1?"down":"up";if(this.options.tolerance!="pointer"&&!this._intersectsWithSides(g)){break}this._rearrange(h,g),this._trigger("change",h,this._uiHash());break}}return this._contactContainers(h),a.ui.ddmanager&&a.ui.ddmanager.drag(this,h),this._trigger("sort",h,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(f,d){if(!f){return}a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,f);if(this.options.revert){var e=this,c=this.placeholder.offset();this.reverting=!0,a(this.helper).animate({left:c.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:c.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){e._clear(f)})}else{this._clear(f,d)}return !1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--){this.containers[c]._trigger("deactivate",null,this._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,this._uiHash(this)),this.containers[c].containerCache.over=0)}}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var c=this._getItemsAsjQuery(e&&e.connected),d=[];return e=e||{},a(c).each(function(){var f=(a(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[-=_](.+)/);f&&d.push((e.key||f[1]+"[]")+"="+(e.key&&e.expression?f[1]:f[2]))}),!d.length&&e.key&&d.push(e.key+"="),d.join("&")},toArray:function(e){var c=this._getItemsAsjQuery(e&&e.connected),d=[];return e=e||{},c.each(function(){d.push(a(e.item||this).attr(e.attribute||"id")||"")}),d},_intersectsWith:function(h){var x=this.positionAbs.left,p=x+this.helperProportions.width,v=this.positionAbs.top,k=v+this.helperProportions.height,w=h.left,q=w+h.width,y=h.top,d=y+h.height,j=this.offset.click.top,m=this.offset.click.left,g=v+j>y&&v+j<d&&x+m>w&&x+m<q;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>h[this.floating?"width":"height"]?g:w<x+this.helperProportions.width/2&&p-this.helperProportions.width/2<q&&y<v+this.helperProportions.height/2&&k-this.helperProportions.height/2<d},_intersectsWithPointer:function(h){var d=this.options.axis==="x"||a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,h.top,h.height),f=this.options.axis==="y"||a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,h.left,h.width),c=d&&f,g=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return c?this.floating?e&&e=="right"||g=="down"?2:1:g&&(g=="down"?2:1):!1},_intersectsWithSides:function(g){var d=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,g.top+g.height/2,g.height),e=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,g.left+g.width/2,g.width),c=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?f=="right"&&e||f=="left"&&!e:c&&(c=="down"&&d||c=="up"&&!d)},_getDragVerticalDirection:function(){var c=this.positionAbs.top-this.lastPositionAbs.top;return c!=0&&(c>0?"down":"up")},_getDragHorizontalDirection:function(){var c=this.positionAbs.left-this.lastPositionAbs.left;return c!=0&&(c>0?"right":"left")},refresh:function(c){return this._refreshItems(c),this.refreshPositions(),this},_connectWith:function(){var c=this.options;return c.connectWith.constructor==String?[c.connectWith]:c.connectWith},_getItemsAsjQuery:function(j){var e=[],g=[],d=this._connectWith();if(d&&j){for(var h=d.length-1;h>=0;h--){var f=a(d[h]);for(var k=f.length-1;k>=0;k--){var c=a.data(f[k],this.widgetName);c&&c!=this&&!c.options.disabled&&g.push([a.isFunction(c.options.items)?c.options.items.call(c.element):a(c.options.items,c.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),c])}}}g.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var h=g.length-1;h>=0;h--){g[h][0].each(function(){e.push(this)})}return a(e)},_removeCurrentsFromItems:function(){var c=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(d){for(var f=0;f<c.length;f++){if(c[f]==d.item[0]){return !1}}return !0})},_refreshItems:function(x){this.items=[],this.containers=[this];var p=this.items,v=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],x,{item:this.currentItem}):a(this.options.items,this.element),this]],k=this._connectWith();if(k&&this.ready){for(var w=k.length-1;w>=0;w--){var q=a(k[w]);for(var y=q.length-1;y>=0;y--){var d=a.data(q[y],this.widgetName);d&&d!=this&&!d.options.disabled&&(v.push([a.isFunction(d.options.items)?d.options.items.call(d.element[0],x,{item:this.currentItem}):a(d.options.items,d.element),d]),this.containers.push(d))}}}for(var w=v.length-1;w>=0;w--){var g=v[w][1],m=v[w][0];for(var y=0,e=m.length;y<e;y++){var j=a(m[y]);j.data(this.widgetName+"-item",g),p.push({item:j,instance:g,width:0,height:0,left:0,top:0})}}},refreshPositions:function(g){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var d=this.items.length-1;d>=0;d--){var e=this.items[d];if(e.instance!=this.currentContainer&&this.currentContainer&&e.item[0]!=this.currentItem[0]){continue}var c=this.options.toleranceElement?a(this.options.toleranceElement,e.item):e.item;g||(e.width=c.outerWidth(),e.height=c.outerHeight());var f=c.offset();e.left=f.left,e.top=f.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var d=this.containers.length-1;d>=0;d--){var f=this.containers[d].element.offset();this.containers[d].containerCache.left=f.left,this.containers[d].containerCache.top=f.top,this.containers[d].containerCache.width=this.containers[d].element.outerWidth(),this.containers[d].containerCache.height=this.containers[d].element.outerHeight()}}return this},_createPlaceholder:function(e){e=e||this;var c=e.options;if(!c.placeholder||c.placeholder.constructor==String){var d=c.placeholder;c.placeholder={element:function(){var f=a(document.createElement(e.currentItem[0].nodeName)).addClass(d||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return d||(f.style.visibility="hidden"),f},update:function(f,g){if(d&&!c.forcePlaceholderSize){return}g.height()||g.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),g.width()||g.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}}}e.placeholder=a(c.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),c.placeholder.update(e,e.placeholder)},_contactContainers:function(x){var p=null,v=null;for(var k=this.containers.length-1;k>=0;k--){if(a.contains(this.currentItem[0],this.containers[k].element[0])){continue}if(this._intersectsWith(this.containers[k].containerCache)){if(p&&a.contains(this.containers[k].element[0],p.element[0])){continue}p=this.containers[k],v=k}else{this.containers[k].containerCache.over&&(this.containers[k]._trigger("out",x,this._uiHash(this)),this.containers[k].containerCache.over=0)}}if(!p){return}if(this.containers.length===1){this.containers[v]._trigger("over",x,this._uiHash(this)),this.containers[v].containerCache.over=1}else{var w=10000,q=null,y=this.containers[v].floating?"left":"top",d=this.containers[v].floating?"width":"height",g=this.positionAbs[y]+this.offset.click[y];for(var m=this.items.length-1;m>=0;m--){if(!a.contains(this.containers[v].element[0],this.items[m].item[0])){continue}if(this.items[m].item[0]==this.currentItem[0]){continue}var e=this.items[m].item.offset()[y],j=!1;Math.abs(e-g)>Math.abs(e+this.items[m][d]-g)&&(j=!0,e+=this.items[m][d]),Math.abs(e-g)<w&&(w=Math.abs(e-g),q=this.items[m],this.direction=j?"up":"down")}if(!q&&!this.options.dropOnEmpty){return}this.currentContainer=this.containers[v],q?this._rearrange(x,q,null,!0):this._rearrange(x,null,this.containers[v].element,!0),this._trigger("change",x,this._uiHash()),this.containers[v]._trigger("change",x,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[v]._trigger("over",x,this._uiHash(this)),this.containers[v].containerCache.over=1}},_createHelper:function(e){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[e,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem;return d.parents("body").length||a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(d[0].style.width==""||c.forceHelperSize)&&d.width(this.currentItem.width()),(d[0].style.height==""||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(c){typeof c=="string"&&(c=c.split(" ")),a.isArray(c)&&(c={left:+c[0],top:+c[1]||0}),"left" in c&&(this.offset.click.left=c.left+this.margins.left),"right" in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left),"top" in c&&(this.offset.click.top=c.top+this.margins.top),"bottom" in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.ui.ie){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f=this.options;f.containment=="parent"&&(f.containment=this.helper[0].parentNode);if(f.containment=="document"||f.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(f.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(f.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(f.containment)){var d=a(f.containment)[0],e=a(f.containment).offset(),c=a(d).css("overflow")!="hidden";this.containment=[e.left+(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0)-this.margins.top,e.left+(c?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(c?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(h,d){d||(d=this.position);var f=h=="absolute"?1:-1,c=this.options,g=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(g[0].tagName);return{top:d.top+this.offset.relative.top*f+this.offset.parent.top*f-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:g.scrollTop())*f,left:d.left+this.offset.relative.left*f+this.offset.parent.left*f-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:g.scrollLeft())*f}},_generatePosition:function(j){var e=this.options,g=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,d=/(html|body)/i.test(g[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var h=j.pageX,f=j.pageY;if(this.originalPosition){this.containment&&(j.pageX-this.offset.click.left<this.containment[0]&&(h=this.containment[0]+this.offset.click.left),j.pageY-this.offset.click.top<this.containment[1]&&(f=this.containment[1]+this.offset.click.top),j.pageX-this.offset.click.left>this.containment[2]&&(h=this.containment[2]+this.offset.click.left),j.pageY-this.offset.click.top>this.containment[3]&&(f=this.containment[3]+this.offset.click.top));if(e.grid){var k=this.originalPageY+Math.round((f-this.originalPageY)/e.grid[1])*e.grid[1];f=this.containment?k-this.offset.click.top<this.containment[1]||k-this.offset.click.top>this.containment[3]?k-this.offset.click.top<this.containment[1]?k+e.grid[1]:k-e.grid[1]:k:k;var c=this.originalPageX+Math.round((h-this.originalPageX)/e.grid[0])*e.grid[0];h=this.containment?c-this.offset.click.left<this.containment[0]||c-this.offset.click.left>this.containment[2]?c-this.offset.click.left<this.containment[0]?c+e.grid[0]:c-e.grid[0]:c:c}}return{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():d?0:g.scrollTop()),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():d?0:g.scrollLeft())}},_rearrange:function(c,h,f,g){f?f[0].appendChild(this.placeholder[0]):h.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?h.item[0]:h.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var d=this.counter;this._delay(function(){d==this.counter&&this.refreshPositions(!g)})},_clear:function(f,d){this.reverting=!1;var e=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var c in this._storedCSS){if(this._storedCSS[c]=="auto"||this._storedCSS[c]=="static"){this._storedCSS[c]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}this.fromOutside&&!d&&e.push(function(g){this._trigger("receive",g,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!d&&e.push(function(g){this._trigger("update",g,this._uiHash())}),this!==this.currentContainer&&(d||(e.push(function(g){this._trigger("remove",g,this._uiHash())}),e.push(function(g){return function(h){g._trigger("receive",h,this._uiHash(this))}}.call(this,this.currentContainer)),e.push(function(g){return function(h){g._trigger("update",h,this._uiHash(this))}}.call(this,this.currentContainer))));for(var c=this.containers.length-1;c>=0;c--){d||e.push(function(g){return function(h){g._trigger("deactivate",h,this._uiHash(this))}}.call(this,this.containers[c])),this.containers[c].containerCache.over&&(e.push(function(g){return function(h){g._trigger("out",h,this._uiHash(this))}}.call(this,this.containers[c])),this.containers[c].containerCache.over=0)}this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!d){this._trigger("beforeStop",f,this._uiHash());for(var c=0;c<e.length;c++){e[c].call(this,f)}this._trigger("stop",f,this._uiHash())}return this.fromOutside=!1,!1}d||this._trigger("beforeStop",f,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!d){for(var c=0;c<e.length;c++){e[c].call(this,f)}this._trigger("stop",f,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(d){var c=d||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:d?d.element:null}}})})(jQuery);(function(a,f){var c=0,d={},b={};d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="hide",b.height=b.paddingTop=b.paddingBottom=b.borderTopWidth=b.borderBottomWidth="show",a.widget("ui.accordion",{version:"1.9.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var g=this.accordionId="ui-accordion-"+(this.element.attr("id")||++c),e=this.options;this.prevShow=this.prevHide=a(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(e.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),!e.collapsible&&(e.active===!1||e.active==null)&&(e.active=0),e.active<0&&(e.active+=this.headers.length),this.active=this._findActive(e.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(j){var l=a(this),h=l.attr("id"),m=l.next(),k=m.attr("id");h||(h=g+"-header-"+j,l.attr("id",h)),k||(k=g+"-panel-"+j,m.attr("id",k)),l.attr("aria-controls",k),m.attr("aria-labelledby",h)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(e.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():a()}},_createIcons:function(){var e=this.options.icons;e&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var g;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),g=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this.options.heightStyle!=="content"&&g.css("height","")},_setOption:function(g,h){if(g==="active"){this._activate(h);return}g==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(h)),this._super(g,h),g==="collapsible"&&!h&&this.options.active===!1&&this._activate(0),g==="icons"&&(this._destroyIcons(),h&&this._createIcons()),g==="disabled"&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!h)},_keydown:function(k){if(k.altKey||k.ctrlKey){return}var g=a.ui.keyCode,h=this.headers.length,e=this.headers.index(k.target),j=!1;switch(k.keyCode){case g.RIGHT:case g.DOWN:j=this.headers[(e+1)%h];break;case g.LEFT:case g.UP:j=this.headers[(e-1+h)%h];break;case g.SPACE:case g.ENTER:this._eventHandler(k);break;case g.HOME:j=this.headers[0];break;case g.END:j=this.headers[h-1]}j&&(a(k.target).attr("tabIndex",-1),a(j).attr("tabIndex",0),j.focus(),k.preventDefault())},_panelKeyDown:function(e){e.keyCode===a.ui.keyCode.UP&&e.ctrlKey&&a(e.currentTarget).prev().focus()},refresh:function(){var j,g,h=this.options.heightStyle,e=this.element.parent();h==="fill"?(a.support.minHeight||(g=e.css("overflow"),e.css("overflow","hidden")),j=e.height(),this.element.siblings(":visible").each(function(){var i=a(this),k=i.css("position");if(k==="absolute"||k==="fixed"){return}j-=i.outerHeight(!0)}),g&&e.css("overflow",g),this.headers.each(function(){j-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,j-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):h==="auto"&&(j=0,this.headers.next().each(function(){j=Math.max(j,a(this).css("height","").height())}).height(j))},_activate:function(g){var e=this._findActive(g)[0];if(e===this.active[0]){return}e=e||this.active[0],this._eventHandler({target:e,currentTarget:e,preventDefault:a.noop})},_findActive:function(e){return typeof e=="number"?this.headers.eq(e):a()},_setupEvents:function(g){var e={};if(!g){return}a.each(g.split(" "),function(h,i){e[i]="_eventHandler"}),this._on(this.headers,e)},_eventHandler:function(p){var j=this.options,l=this.active,h=a(p.currentTarget),m=h[0]===l[0],k=m&&j.collapsible,q=k?a():h.next(),e=l.next(),g={oldHeader:l,oldPanel:e,newHeader:k?a():h,newPanel:q};p.preventDefault();if(m&&!j.collapsible||this._trigger("beforeActivate",p,g)===!1){return}j.active=k?!1:this.headers.index(h),this.active=m?a():h,this._toggle(g),l.removeClass("ui-accordion-header-active ui-state-active"),j.icons&&l.children(".ui-accordion-header-icon").removeClass(j.icons.activeHeader).addClass(j.icons.header),m||(h.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),j.icons&&h.children(".ui-accordion-header-icon").removeClass(j.icons.header).addClass(j.icons.activeHeader),h.next().addClass("ui-accordion-content-active"))},_toggle:function(h){var e=h.newPanel,g=this.prevShow.length?this.prevShow:h.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=e,this.prevHide=g,this.options.animate?this._animate(e,g,h):(g.hide(),e.show(),this._toggleComplete(h)),g.attr({"aria-expanded":"false","aria-hidden":"true"}),g.prev().attr("aria-selected","false"),e.length&&g.length?g.prev().attr("tabIndex",-1):e.length&&this.headers.filter(function(){return a(this).attr("tabIndex")===0}).attr("tabIndex",-1),e.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(j,y,r){var x,v,z,g=this,k=0,q=j.length&&(!y.length||j.index()<y.index()),i=this.options.animate||{},m=q&&i.down||i,w=function(){g._toggleComplete(r)};typeof m=="number"&&(z=m),typeof m=="string"&&(v=m),v=v||m.easing||i.easing,z=z||m.duration||i.duration;if(!y.length){return j.animate(b,z,v,w)}if(!j.length){return y.animate(d,z,v,w)}x=j.show().outerHeight(),y.animate(d,{duration:z,easing:v,step:function(h,l){l.now=Math.round(h)}}),j.hide().animate(b,{duration:z,easing:v,complete:w,step:function(h,l){l.now=Math.round(h),l.prop!=="height"?k+=l.now:g.options.heightStyle!=="content"&&(l.now=Math.round(x-y.outerHeight()-k),k=0)}})},_toggleComplete:function(g){var h=g.oldPanel;h.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),h.length&&(h.parent()[0].className=h.parent()[0].className),this._trigger("activate",null,g)}}),a.uiBackCompat!==!1&&(function(g,i){g.extend(i.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var h=i._create;i._create=function(){if(this.options.navigation){var l=this,j=this.element.find(this.options.header),e=j.next(),k=j.add(e).find("a").filter(this.options.navigationFilter)[0];k&&j.add(e).each(function(m){if(g.contains(this,k)){return l.options.active=Math.floor(m/2),!1}})}h.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(g,j){g.extend(j.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var h=j._create,i=j._setOption;g.extend(j,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),h.call(this)},_setOption:function(k){if(k==="autoHeight"||k==="clearStyle"||k==="fillSpace"){this.options.heightStyle=this._mergeHeightStyle()}i.apply(this,arguments)},_mergeHeightStyle:function(){var k=this.options;if(k.fillSpace){return"fill"}if(k.clearStyle){return"content"}if(k.autoHeight){return"auto"}}})}(jQuery,jQuery.ui.accordion.prototype),function(g,i){g.extend(i.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var h=i._createIcons;i._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),h.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(g,i){i.activate=i._activate;var h=i._findActive;i._findActive=function(j){return j===-1&&(j=!1),j&&typeof j!="number"&&(j=this.headers.index(this.headers.filter(j)),j===-1&&(j=!1)),h.call(this,j)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(g,i){g.extend(i.options,{change:null,changestart:null});var h=i._trigger;i._trigger=function(j,m,l){var k=h.apply(this,arguments);return k?(j==="beforeActivate"?k=h.call(this,"changestart",m,{oldHeader:l.oldHeader,oldContent:l.oldPanel,newHeader:l.newHeader,newContent:l.newPanel}):j==="activate"&&(k=h.call(this,"change",m,{oldHeader:l.oldHeader,oldContent:l.oldPanel,newHeader:l.newHeader,newContent:l.newPanel})),k):!1}}(jQuery,jQuery.ui.accordion.prototype),function(g,i){g.extend(i.options,{animate:null,animated:"slide"});var h=i._create;i._create=function(){var j=this.options;j.animate===null&&(j.animated?j.animated==="slide"?j.animate=300:j.animated==="bounceslide"?j.animate={duration:200,down:{easing:"easeOutBounce",duration:1000}}:j.animate=j.animated:j.animate=!1),h.call(this)}}(jQuery,jQuery.ui.accordion.prototype))})(jQuery);(function(a,c){var b=0;a.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var f,d,e;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(g){if(this.element.prop("readOnly")){f=!0,e=!0,d=!0;return}f=!1,e=!1,d=!1;var h=a.ui.keyCode;switch(g.keyCode){case h.PAGE_UP:f=!0,this._move("previousPage",g);break;case h.PAGE_DOWN:f=!0,this._move("nextPage",g);break;case h.UP:f=!0,this._keyEvent("previous",g);break;case h.DOWN:f=!0,this._keyEvent("next",g);break;case h.ENTER:case h.NUMPAD_ENTER:this.menu.active&&(f=!0,g.preventDefault(),this.menu.select(g));break;case h.TAB:this.menu.active&&this.menu.select(g);break;case h.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(g),g.preventDefault());break;default:d=!0,this._searchTimeout(g)}},keypress:function(h){if(f){f=!1,h.preventDefault();return}if(d){return}var g=a.ui.keyCode;switch(h.keyCode){case g.PAGE_UP:this._move("previousPage",h);break;case g.PAGE_DOWN:this._move("nextPage",h);break;case g.UP:this._keyEvent("previous",h);break;case g.DOWN:this._keyEvent("next",h)}},input:function(g){if(e){e=!1,g.preventDefault();return}this._searchTimeout(g)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(g){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching),this.close(g),this._change(g)}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:a(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(h){h.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var g=this.menu.element[0];a(h.target).closest(".ui-menu-item").length||this._delay(function(){var i=this;this.document.one("mousedown",function(j){j.target!==i.element[0]&&j.target!==g&&!a.contains(g,j.target)&&i.close()})})},menufocus:function(i,g){if(this.isNewMenu){this.isNewMenu=!1;if(i.originalEvent&&/^mouse/.test(i.originalEvent.type)){this.menu.blur(),this.document.one("mousemove",function(){a(i.target).trigger(i.originalEvent)});return}}var h=g.item.data("ui-autocomplete-item")||g.item.data("item.autocomplete");!1!==this._trigger("focus",i,{item:h})?i.originalEvent&&/^key/.test(i.originalEvent.type)&&this._value(h.value):this.liveRegion.text(h.value)},menuselect:function(g,j){var h=j.item.data("ui-autocomplete-item")||j.item.data("item.autocomplete"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=h})),!1!==this._trigger("select",g,{item:h})&&this._value(h.value),this.term=this._value(),this.close(g),this.selectedItem=h}}),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),a.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(d,f){this._super(d,f),d==="source"&&this._initSource(),d==="appendTo"&&this.menu.element.appendTo(this.document.find(f||"body")[0]),d==="disabled"&&f&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var f,d,e=this;a.isArray(this.options.source)?(f=this.options.source,this.source=function(g,h){h(a.ui.autocomplete.filter(f,g.term))}):typeof this.options.source=="string"?(d=this.options.source,this.source=function(h,g){e.xhr&&e.xhr.abort(),e.xhr=a.ajax({url:d,data:h,dataType:"json",success:function(i){g(i)},error:function(){g([])}})}):this.source=this.options.source},_searchTimeout:function(d){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,d))},this.options.delay)},search:function(d,f){d=d!=null?d:this._value(),this.term=this._value();if(d.length<this.options.minLength){return this.close(f)}if(this._trigger("search",f)===!1){return}return this._search(d)},_search:function(d){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:d},this._response())},_response:function(){var d=this,f=++b;return function(e){f===b&&d.__response(e),d.pending--,d.pending||d.element.removeClass("ui-autocomplete-loading")}},__response:function(d){d&&(d=this._normalize(d)),this._trigger("response",null,{content:d}),!this.options.disabled&&d&&d.length&&!this.cancelSearch?(this._suggest(d),this._trigger("open")):this._close()},close:function(d){this.cancelSearch=!0,this._close(d)},_close:function(d){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",d))},_change:function(d){this.previous!==this._value()&&this._trigger("change",d,{item:this.selectedItem})},_normalize:function(d){return d.length&&d[0].label&&d[0].value?d:a.map(d,function(e){return typeof e=="string"?{label:e,value:e}:a.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var d=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(d,e),this.menu.refresh(),d.show(),this._resizeMenu(),d.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var d=this.menu.element;d.outerWidth(Math.max(d.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(f,d){var e=this;a.each(d,function(g,h){e._renderItemData(f,h)})},_renderItemData:function(d,f){return this._renderItem(d,f).data("ui-autocomplete-item",f)},_renderItem:function(e,d){return a("<li>").append(a("<a>").text(d.label)).appendTo(e)},_move:function(d,f){if(!this.menu.element.is(":visible")){this.search(null,f);return}if(this.menu.isFirstItem()&&/^previous/.test(d)||this.menu.isLastItem()&&/^next/.test(d)){this._value(this.term),this.menu.blur();return}this.menu[d](f)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(d,f){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(d,f),f.preventDefault()}}}),a.extend(a.ui.autocomplete,{escapeRegex:function(d){return d.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(f,d){var e=new RegExp(a.ui.autocomplete.escapeRegex(d),"i");return a.grep(f,function(g){return e.test(g.label||g.value||g)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(d){return d+(d>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(d){var f;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}d&&d.length?f=this.options.messages.results(d.length):f=this.options.messages.noResults,this.liveRegion.text(f)}})})(jQuery);(function(c,q){var j,m,g,p,k="ui-button ui-widget ui-state-default ui-corner-all",v="ui-state-hover ui-state-active ",b="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",d=function(){var a=c(this).find(":ui-button");setTimeout(function(){a.button("refresh")},1)},h=function(l){var e=l.name,f=l.form,a=c([]);return e&&(f?a=c(f).find("[name='"+e+"']"):a=c("[name='"+e+"']",l.ownerDocument).filter(function(){return !this.form})),a};c.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,d),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var l=this,n=this.options,e=this.type==="checkbox"||this.type==="radio",f=e?"":"ui-state-active",i="ui-state-focus";n.label===null&&(n.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(k).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(n.disabled){return}this===j&&c(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){if(n.disabled){return}c(this).removeClass(f)}).bind("click"+this.eventNamespace,function(a){n.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){l.buttonElement.addClass(i)}).bind("blur"+this.eventNamespace,function(){l.buttonElement.removeClass(i)}),e&&(this.element.bind("change"+this.eventNamespace,function(){if(p){return}l.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(a){if(n.disabled){return}p=!1,m=a.pageX,g=a.pageY}).bind("mouseup"+this.eventNamespace,function(a){if(n.disabled){return}if(m!==a.pageX||g!==a.pageY){p=!0}})),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled||p){return !1}c(this).toggleClass("ui-state-active"),l.buttonElement.attr("aria-pressed",l.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled||p){return !1}c(this).addClass("ui-state-active"),l.buttonElement.attr("aria-pressed","true");var a=l.element[0];h(a).not(a).map(function(){return c(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(n.disabled){return !1}c(this).addClass("ui-state-active"),j=this,l.document.one("mouseup",function(){j=null})}).bind("mouseup"+this.eventNamespace,function(){if(n.disabled){return !1}c(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(a){if(n.disabled){return !1}(a.keyCode===c.ui.keyCode.SPACE||a.keyCode===c.ui.keyCode.ENTER)&&c(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace,function(){c(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(a){a.keyCode===c.ui.keyCode.SPACE&&c(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var a,i,f;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button",this.type==="checkbox"||this.type==="radio"?(a=this.element.parents().last(),i="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(i),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(i),this.buttonElement.length||(this.buttonElement=a.find(i))),this.element.addClass("ui-helper-hidden-accessible"),f=this.element.is(":checked"),f&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",f)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(k+" "+v+" "+b).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,f){this._super(a,f);if(a==="disabled"){f?this.element.prop("disabled",!0):this.element.prop("disabled",!1);return}this._resetButton()},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOption("disabled",a),this.type==="radio"?h(this.element[0]).each(function(){c(this).is(":checked")?c(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):c(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var o=this.buttonElement.removeClass(b),e=c("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(o.empty()).text(),f=this.options.icons,a=f.primary&&f.secondary,l=[];f.primary||f.secondary?(this.options.text&&l.push("ui-button-text-icon"+(a?"s":f.primary?"-primary":"-secondary")),f.primary&&o.prepend("<span class='ui-button-icon-primary ui-icon "+f.primary+"'></span>"),f.secondary&&o.append("<span class='ui-button-icon-secondary ui-icon "+f.secondary+"'></span>"),this.options.text||(l.push(a?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||o.attr("title",c.trim(e)))):l.push("ui-button-text-only"),o.addClass(l.join(" "))}}),c.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,f){a==="disabled"&&this.buttons.button("option",a,f),this._super(a,f)},refresh:function(){var a=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return c(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return c(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);(function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){$(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&$(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&$(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){$.extend(e,t);for(var n in t){if(t[n]==null||t[n]==undefined){e[n]=t[n]}}return e}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){var n=e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var n=$(e);t.append=$([]),t.trigger=$([]);if(n.hasClass(this.markerClassName)){return}this._attachments(n,t),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,n,r){t.settings[n]=r}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e)},_attachments:function(e,t){var n=this._get(t,"appendText"),r=this._get(t,"isRTL");t.append&&t.append.remove(),n&&(t.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),e[r?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var i=this._get(t,"showOn");(i=="focus"||i=="both")&&e.focus(this._showDatepicker);if(i=="button"||i=="both"){var s=this._get(t,"buttonText"),o=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:o,alt:s,title:s}):$('<button type="button"></button>').addClass(this._triggerClass).html(o==""?s:$("<img/>").attr({src:o,alt:s,title:s}))),e[r?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),n=this._get(e,"dateFormat");if(n.match(/[DM]/)){var r=function(e){var t=0,n=0;for(var r=0;r<e.length;r++){e[r].length>t&&(t=e[r].length,n=r)}return n};t.setMonth(r(this._get(e,n.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(r(this._get(e,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var n=$(e);if(n.hasClass(this.markerClassName)){return}n.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,n,r){t.settings[n]=r}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block")},_dialogDatepicker:function(e,t,n,r,i){var s=this._dialogInst;if(!s){this.uuid+=1;var o="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+o+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),s=this._dialogInst=this._newInst(this._dialogInput,!1),s.settings={},$.data(this._dialogInput[0],PROP_NAME,s)}extendRemove(s.settings,r||{}),t=t&&t.constructor==Date?this._formatDate(s,t):t,this._dialogInput.val(t),this._pos=i?i.length?i:[i.pageX,i.pageY]:null;if(!this._pos){var u=document.documentElement.clientWidth,a=document.documentElement.clientHeight,f=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[u/2-100+f,a/2-150+l]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,s),this},_destroyDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!t.hasClass(this.markerClassName)){return}var r=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),r=="input"?(n.append.remove(),n.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(r=="div"||r=="span")&&t.removeClass(this.markerClassName).empty()},_enableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!t.hasClass(this.markerClassName)){return}var r=e.nodeName.toLowerCase();if(r=="input"){e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(r=="div"||r=="span"){var i=t.children("."+this._inlineClass);i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})},_disableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!t.hasClass(this.markerClassName)){return}var r=e.nodeName.toLowerCase();if(r=="input"){e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(r=="div"||r=="span"){var i=t.children("."+this._inlineClass);i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e},_isDisabledDatepicker:function(e){if(!e){return !1}for(var t=0;t<this._disabledInputs.length;t++){if(this._disabledInputs[t]==e){return !0}}return !1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var r=this._getInst(e);if(arguments.length==2&&typeof t=="string"){return t=="defaults"?$.extend({},$.datepicker._defaults):r?t=="all"?$.extend({},r.settings):this._get(r,t):null}var i=t||{};typeof t=="string"&&(i={},i[t]=n);if(r){this._curInst==r&&this._hideDatepicker();var s=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(r,"min"),u=this._getMinMaxDate(r,"max");extendRemove(r.settings,i),o!==null&&i.dateFormat!==undefined&&i.minDate===undefined&&(r.settings.minDate=this._formatDate(r,o)),u!==null&&i.dateFormat!==undefined&&i.maxDate===undefined&&(r.settings.maxDate=this._formatDate(r,u)),this._attachments($(e),r),this._autoSize(r),this._setDate(r,s),this._updateAlternate(r),this._updateDatepicker(r)}},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),n=!0,r=t.dpDiv.is(".ui-datepicker-rtl");t._keyEvent=!0;if($.datepicker._datepickerShowing){switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),n=!1;break;case 13:var i=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);i[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,i[0]);var s=$.datepicker._get(t,"onSelect");if(s){var o=$.datepicker._formatDate(t);s.apply(t.input?t.input[0]:null,[o,t])}else{$.datepicker._hideDatepicker()}return !1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),n=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),n=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,r?1:-1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),n=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,r?-1:1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),n=e.ctrlKey||e.metaKey;break;default:n=!1}}else{e.keyCode==36&&e.ctrlKey?$.datepicker._showDatepicker(this):n=!1}n&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var n=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),r=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||r<" "||!n||n.indexOf(r)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal){try{var n=$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t));n&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(r){$.datepicker.log(r)}}return !0},_showDatepicker:function(e){e=e.target||e,e.nodeName.toLowerCase()!="input"&&(e=$("input",e.parentNode)[0]);if($.datepicker._isDisabledDatepicker(e)||$.datepicker._lastInput==e){return}var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var n=$.datepicker._get(t,"beforeShow"),r=n?n.apply(e,[e,t]):{};if(r===!1){return}extendRemove(t.settings,r),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var i=!1;$(e).parents().each(function(){return i|=$(this).css("position")=="fixed",!i});var s={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),s=$.datepicker._checkOffset(t,s,i),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":i?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"});if(!t.inline){var o=$.datepicker._get(t,"showAnim"),u=$.datepicker._get(t,"duration"),a=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(!!e.length){var n=$.datepicker._getBorders(t.dpDiv);e.css({left:-n[0],top:-n[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[o]||$.effects[o])?t.dpDiv.show(o,$.datepicker._get(t,"showOptions"),u,a):t.dpDiv[o||"show"](o?u:null,a),(!o||!u)&&a(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}},_updateDatepicker:function(e){this.maxRows=4;var t=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n=e.dpDiv.find("iframe.ui-datepicker-cover");!n.length||n.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var r=this._getNumberOfMonths(e),i=r[1],s=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&e.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",s*i+"em"),e.dpDiv[(r[0]!=1||r[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus();if(e.yearshtml){var o=e.yearshtml;setTimeout(function(){o===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),o=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,n){var r=e.dpDiv.outerWidth(),i=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,u=document.documentElement.clientWidth+(n?0:$(document).scrollLeft()),a=document.documentElement.clientHeight+(n?0:$(document).scrollTop());return t.left-=this._get(e,"isRTL")?r-s:0,t.left-=n&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=n&&t.top==e.input.offset().top+o?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+r>u&&u>r?Math.abs(t.left+r-u):0),t.top-=Math.min(t.top,t.top+i>a&&a>i?Math.abs(i+o):0),t},_findPos:function(e){var t=this._getInst(e),n=this._get(t,"isRTL");while(e&&(e.type=="hidden"||e.nodeType!=1||$.expr.filters.hidden(e))){e=e[n?"previousSibling":"nextSibling"]}var r=$(e).offset();return[r.left,r.top]},_hideDatepicker:function(e){var t=this._curInst;if(!t||e&&t!=$.data(e,PROP_NAME)){return}if(this._datepickerShowing){var n=this._get(t,"showAnim"),r=this._get(t,"duration"),i=function(){$.datepicker._tidyDialog(t)};$.effects&&($.effects.effect[n]||$.effects[n])?t.dpDiv.hide(n,$.datepicker._get(t,"showOptions"),r,i):t.dpDiv[n=="slideDown"?"slideUp":n=="fadeIn"?"fadeOut":"hide"](n?r:null,i),n||i(),this._datepickerShowing=!1;var s=this._get(t,"onClose");s&&s.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(!$.datepicker._curInst){return}var t=$(e.target),n=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&t.parents("#"+$.datepicker._mainDivId).length==0&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=n)&&$.datepicker._hideDatepicker()},_adjustDate:function(e,t,n){var r=$(e),i=this._getInst(r[0]);if(this._isDisabledDatepicker(r[0])){return}this._adjustInstDate(i,t+(n=="M"?this._get(i,"showCurrentAtPos"):0),n),this._updateDatepicker(i)},_gotoToday:function(e){var t=$(e),n=this._getInst(t[0]);if(this._get(n,"gotoCurrent")&&n.currentDay){n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear}else{var r=new Date;n.selectedDay=r.getDate(),n.drawMonth=n.selectedMonth=r.getMonth(),n.drawYear=n.selectedYear=r.getFullYear()}this._notifyChange(n),this._adjustDate(t)},_selectMonthYear:function(e,t,n){var r=$(e),i=this._getInst(r[0]);i["selected"+(n=="M"?"Month":"Year")]=i["draw"+(n=="M"?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(i),this._adjustDate(r)},_selectDay:function(e,t,n,r){var i=$(e);if($(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(i[0])){return}var s=this._getInst(i[0]);s.selectedDay=s.currentDay=$("a",r).html(),s.selectedMonth=s.currentMonth=t,s.selectedYear=s.currentYear=n,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear))},_clearDate:function(e){var t=$(e),n=this._getInst(t[0]);this._selectDate(t,"")},_selectDate:function(e,t){var n=$(e),r=this._getInst(n[0]);t=t!=null?t:this._formatDate(r),r.input&&r.input.val(t),this._updateAlternate(r);var i=this._get(r,"onSelect");i?i.apply(r.input?r.input[0]:null,[t,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],typeof r.input[0]!="object"&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var n=this._get(e,"altFormat")||this._get(e,"dateFormat"),r=this._getDate(e),i=this.formatDate(n,r,this._getFormatConfig(e));$(t).each(function(){$(this).val(i)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/86400000)/7)+1},parseDate:function(e,t,n){if(e==null||t==null){throw"Invalid arguments"}t=typeof t=="object"?t.toString():t+"";if(t==""){return null}var r=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff;r=typeof r!="string"?r:(new Date).getFullYear()%100+parseInt(r,10);var i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,a=-1,f=-1,l=-1,c=-1,h=!1,p=function(t){var n=y+1<e.length&&e.charAt(y+1)==t;return n&&y++,n},d=function(e){var n=p(e),r=e=="@"?14:e=="!"?20:e=="y"&&n?4:e=="o"?3:2,i=new RegExp("^\\d{1,"+r+"}"),s=t.substring(g).match(i);if(!s){throw"Missing number at position "+g}return g+=s[0].length,parseInt(s[0],10)},v=function(e,n,r){var i=$.map(p(e)?r:n,function(e,t){return[[t,e]]}).sort(function(e,t){return -(e[1].length-t[1].length)}),s=-1;$.each(i,function(e,n){var r=n[1];if(t.substr(g,r.length).toLowerCase()==r.toLowerCase()){return s=n[0],g+=r.length,!1}});if(s!=-1){return s+1}throw"Unknown name at position "+g},m=function(){if(t.charAt(g)!=e.charAt(y)){throw"Unexpected literal at position "+g}g++},g=0;for(var y=0;y<e.length;y++){if(h){e.charAt(y)=="'"&&!p("'")?h=!1:m()}else{switch(e.charAt(y)){case"d":l=d("d");break;case"D":v("D",i,s);break;case"o":c=d("o");break;case"m":f=d("m");break;case"M":f=v("M",o,u);break;case"y":a=d("y");break;case"@":var b=new Date(d("@"));a=b.getFullYear(),f=b.getMonth()+1,l=b.getDate();break;case"!":var b=new Date((d("!")-this._ticksTo1970)/10000);a=b.getFullYear(),f=b.getMonth()+1,l=b.getDate();break;case"'":p("'")?m():h=!0;break;default:m()}}}if(g<t.length){var w=t.substr(g);if(!/^\s+/.test(w)){throw"Extra/unparsed characters found in date: "+w}}a==-1?a=(new Date).getFullYear():a<100&&(a+=(new Date).getFullYear()-(new Date).getFullYear()%100+(a<=r?0:-100));if(c>-1){f=1,l=c;do{var E=this._getDaysInMonth(a,f-1);if(l<=E){break}f++,l-=E}while(!0)}var b=this._daylightSavingAdjust(new Date(a,f-1,l));if(b.getFullYear()!=a||b.getMonth()+1!=f||b.getDate()!=l){throw"Invalid date"}return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*10000000,formatDate:function(e,t,n){if(!t){return""}var r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,i=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,o=(n?n.monthNames:null)||this._defaults.monthNames,u=function(t){var n=h+1<e.length&&e.charAt(h+1)==t;return n&&h++,n},a=function(e,t,n){var r=""+t;if(u(e)){while(r.length<n){r="0"+r}}return r},f=function(e,t,n,r){return u(e)?r[t]:n[t]},l="",c=!1;if(t){for(var h=0;h<e.length;h++){if(c){e.charAt(h)=="'"&&!u("'")?c=!1:l+=e.charAt(h)}else{switch(e.charAt(h)){case"d":l+=a("d",t.getDate(),2);break;case"D":l+=f("D",t.getDay(),r,i);break;case"o":l+=a("o",Math.round(((new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()-(new Date(t.getFullYear(),0,0)).getTime())/86400000),3);break;case"m":l+=a("m",t.getMonth()+1,2);break;case"M":l+=f("M",t.getMonth(),s,o);break;case"y":l+=u("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":l+=t.getTime();break;case"!":l+=t.getTime()*10000+this._ticksTo1970;break;case"'":u("'")?l+="'":c=!0;break;default:l+=e.charAt(h)}}}}return l},_possibleChars:function(e){var t="",n=!1,r=function(t){var n=i+1<e.length&&e.charAt(i+1)==t;return n&&i++,n};for(var i=0;i<e.length;i++){if(n){e.charAt(i)=="'"&&!r("'")?n=!1:t+=e.charAt(i)}else{switch(e.charAt(i)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":r("'")?t+="'":n=!0;break;default:t+=e.charAt(i)}}}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()==e.lastVal){return}var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i,s;i=s=this._getDefaultDate(e);var o=this._getFormatConfig(e);try{i=this.parseDate(n,r,o)||s}catch(u){this.log(u),r=t?"":r}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=r?i.getDate():0,e.currentMonth=r?i.getMonth():0,e.currentYear=r?i.getFullYear():0,this._adjustInstDate(e)},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,n){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},i=function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(n){}var r=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,i=r.getFullYear(),s=r.getMonth(),o=r.getDate(),u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=u.exec(t);while(a){switch(a[2]||"d"){case"d":case"D":o+=parseInt(a[1],10);break;case"w":case"W":o+=parseInt(a[1],10)*7;break;case"m":case"M":s+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,s));break;case"y":case"Y":i+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,s))}a=u.exec(t)}return new Date(i,s,o)},s=t==null||t===""?n:typeof t=="string"?i(t):typeof t=="number"?isNaN(t)?n:r(t):new Date(t.getTime());return s=s&&s.toString()=="Invalid Date"?n:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),(i!=e.selectedMonth||s!=e.selectedYear)&&!n&&this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&e.input.val()==""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,-t,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,+t,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var n=this._get(e,"isRTL"),r=this._get(e,"showButtonPanel"),i=this._get(e,"hideIfNoPrevNext"),s=this._get(e,"navigationAsDateFormat"),o=this._getNumberOfMonths(e),u=this._get(e,"showCurrentAtPos"),a=this._get(e,"stepMonths"),f=o[0]!=1||o[1]!=1,l=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),c=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),p=e.drawMonth-u,d=e.drawYear;p<0&&(p+=12,d--);if(h){var v=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth()-o[0]*o[1]+1,h.getDate()));v=c&&v<c?c:v;while(this._daylightSavingAdjust(new Date(d,p,1))>v){p--,p<0&&(p=11,d--)}}e.drawMonth=p,e.drawYear=d;var m=this._get(e,"prevText");m=s?this.formatDate(m,this._daylightSavingAdjust(new Date(d,p-a,1)),this._getFormatConfig(e)):m;var g=this._canAdjustMonth(e,-1,d,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>":i?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>",y=this._get(e,"nextText");y=s?this.formatDate(y,this._daylightSavingAdjust(new Date(d,p+a,1)),this._getFormatConfig(e)):y;var b=this._canAdjustMonth(e,1,d,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>":i?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>",w=this._get(e,"currentText"),E=this._get(e,"gotoCurrent")&&e.currentDay?l:t;w=s?this.formatDate(w,E,this._getFormatConfig(e)):w;var S=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(e,"closeText")+"</button>",x=r?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(n?S:"")+(this._isInRange(e,E)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+w+"</button>":"")+(n?"":S)+"</div>":"",T=parseInt(this._get(e,"firstDay"),10);T=isNaN(T)?0:T;var N=this._get(e,"showWeek"),C=this._get(e,"dayNames"),k=this._get(e,"dayNamesShort"),L=this._get(e,"dayNamesMin"),A=this._get(e,"monthNames"),O=this._get(e,"monthNamesShort"),M=this._get(e,"beforeShowDay"),_=this._get(e,"showOtherMonths"),D=this._get(e,"selectOtherMonths"),P=this._get(e,"calculateWeek")||this.iso8601Week,H=this._getDefaultDate(e),B="";for(var j=0;j<o[0];j++){var F="";this.maxRows=4;for(var I=0;I<o[1];I++){var q=this._daylightSavingAdjust(new Date(d,p,e.selectedDay)),R=" ui-corner-all",U="";if(f){U+='<div class="ui-datepicker-group';if(o[1]>1){switch(I){case 0:U+=" ui-datepicker-group-first",R=" ui-corner-"+(n?"right":"left");break;case o[1]-1:U+=" ui-datepicker-group-last",R=" ui-corner-"+(n?"left":"right");break;default:U+=" ui-datepicker-group-middle",R=""}}U+='">'}U+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+R+'">'+(/all|left/.test(R)&&j==0?n?b:g:"")+(/all|right/.test(R)&&j==0?n?g:b:"")+this._generateMonthYearHeader(e,p,d,c,h,j>0||I>0,A,O)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var z=N?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"";for(var W=0;W<7;W++){var X=(W+T)%7;z+="<th"+((W+T+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+C[X]+'">'+L[X]+"</span></th>"}U+=z+"</tr></thead><tbody>";var V=this._getDaysInMonth(d,p);d==e.selectedYear&&p==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,V));var J=(this._getFirstDayOfMonth(d,p)-T+7)%7,K=Math.ceil((J+V)/7),Q=f?this.maxRows>K?this.maxRows:K:K;this.maxRows=Q;var G=this._daylightSavingAdjust(new Date(d,p,1-J));for(var Y=0;Y<Q;Y++){U+="<tr>";var Z=N?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(G)+"</td>":"";for(var W=0;W<7;W++){var et=M?M.apply(e.input?e.input[0]:null,[G]):[!0,""],tt=G.getMonth()!=p,nt=tt&&!D||!et[0]||c&&G<c||h&&G>h;Z+='<td class="'+((W+T+6)%7>=5?" ui-datepicker-week-end":"")+(tt?" ui-datepicker-other-month":"")+(G.getTime()==q.getTime()&&p==e.selectedMonth&&e._keyEvent||H.getTime()==G.getTime()&&H.getTime()==q.getTime()?" "+this._dayOverClass:"")+(nt?" "+this._unselectableClass+" ui-state-disabled":"")+(tt&&!_?"":" "+et[1]+(G.getTime()==l.getTime()?" "+this._currentClass:"")+(G.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+((!tt||_)&&et[2]?' title="'+et[2]+'"':"")+(nt?"":' data-handler="selectDay" data-event="click" data-month="'+G.getMonth()+'" data-year="'+G.getFullYear()+'"')+">"+(tt&&!_?"&#xa0;":nt?'<span class="ui-state-default">'+G.getDate()+"</span>":'<a class="ui-state-default'+(G.getTime()==t.getTime()?" ui-state-highlight":"")+(G.getTime()==l.getTime()?" ui-state-active":"")+(tt?" ui-priority-secondary":"")+'" href="#">'+G.getDate()+"</a>")+"</td>",G.setDate(G.getDate()+1),G=this._daylightSavingAdjust(G)}U+=Z+"</tr>"}p++,p>11&&(p=0,d++),U+="</tbody></table>"+(f?"</div>"+(o[0]>0&&I==o[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),F+=U}B+=F}return B+=x+($.ui.ie6&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,B},_generateMonthYearHeader:function(e,t,n,r,i,s,o,u){var a=this._get(e,"changeMonth"),f=this._get(e,"changeYear"),l=this._get(e,"showMonthAfterYear"),c='<div class="ui-datepicker-title">',h="";if(s||!a){h+='<span class="ui-datepicker-month">'+o[t]+"</span>"}else{var p=r&&r.getFullYear()==n,d=i&&i.getFullYear()==n;h+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var v=0;v<12;v++){(!p||v>=r.getMonth())&&(!d||v<=i.getMonth())&&(h+='<option value="'+v+'"'+(v==t?' selected="selected"':"")+">"+u[v]+"</option>")}h+="</select>"}l||(c+=h+(s||!a||!f?"&#xa0;":""));if(!e.yearshtml){e.yearshtml="";if(s||!f){c+='<span class="ui-datepicker-year">'+n+"</span>"}else{var m=this._get(e,"yearRange").split(":"),g=(new Date).getFullYear(),y=function(e){var t=e.match(/c[+-].*/)?n+parseInt(e.substring(1),10):e.match(/[+-].*/)?g+parseInt(e,10):parseInt(e,10);return isNaN(t)?g:t},b=y(m[0]),w=Math.max(b,y(m[1]||""));b=r?Math.max(b,r.getFullYear()):b,w=i?Math.min(w,i.getFullYear()):w,e.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';for(;b<=w;b++){e.yearshtml+='<option value="'+b+'"'+(b==n?' selected="selected"':"")+">"+b+"</option>"}e.yearshtml+="</select>",c+=e.yearshtml,e.yearshtml=null}}return c+=this._get(e,"yearSuffix"),l&&(c+=(s||!a||!f?"&#xa0;":"")+h),c+="</div>",c},_adjustInstDate:function(e,t,n){var r=e.drawYear+(n=="Y"?t:0),i=e.drawMonth+(n=="M"?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+(n=="D"?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),(n=="M"||n=="Y")&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&t<n?n:t;return i=r&&i>r?r:i,i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return t==null?[1,1]:typeof t=="number"?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return(new Date(e,t,1)).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,r+(t<0?t:i[0]*i[1]),1));return t<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max");return(!n||t.getTime()>=n.getTime())&&(!r||t.getTime()<=r.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length){return this}$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return typeof e!="string"||e!="isDisabled"&&e!="getDate"&&e!="widget"?e=="option"&&arguments.length==2&&typeof arguments[1]=="string"?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){typeof e=="string"?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$})(jQuery);(function(a,f){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},b={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(g){var e=a(this).css(g).offset().top;e<0&&a(this).css("top",g.top-e)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var m=this,k=this.options,h=k.title||"&#160;",l,j,n,e,g;l=(this.uiDialog=a("<div>")).addClass(c+k.dialogClass).css({display:"none",outline:0,zIndex:k.zIndex}).attr("tabIndex",-1).keydown(function(i){k.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===a.ui.keyCode.ESCAPE&&(m.close(i),i.preventDefault())}).mousedown(function(i){m.moveToTop(!1,i)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(l),j=(this.uiDialogTitlebar=a("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){l.focus()}).prependTo(l),n=a("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(i){i.preventDefault(),m.close(i)}).appendTo(j),(this.uiDialogTitlebarCloseText=a("<span>")).addClass("ui-icon ui-icon-closethick").text(k.closeText).appendTo(n),e=a("<span>").uniqueId().addClass("ui-dialog-title").html(h).prependTo(j),g=(this.uiDialogButtonPane=a("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=a("<div>")).addClass("ui-dialog-buttonset").appendTo(g),l.attr({role:"dialog","aria-labelledby":e.attr("id")}),j.find("*").add(j).disableSelection(),this._hoverable(n),this._focusable(n),k.draggable&&a.fn.draggable&&this._makeDraggable(),k.resizable&&a.fn.resizable&&this._makeResizable(),this._createButtons(k.buttons),this._isOpen=!1,a.fn.bgiframe&&l.bgiframe(),this._on(l,{keydown:function(s){if(!k.modal||s.keyCode!==a.ui.keyCode.TAB){return}var q=a(":tabbable",l),p=q.filter(":first"),r=q.filter(":last");if(s.target===r[0]&&!s.shiftKey){return p.focus(1),!1}if(s.target===p[0]&&s.shiftKey){return r.focus(1),!1}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var g,h=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),g=h.parent.children().eq(h.index),g.length&&g[0]!==this.element[0]?g.before(this.element):h.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(j){var g=this,h,e;if(!this._isOpen){return}if(!1===this._trigger("beforeClose",j)){return}return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){g._trigger("close",j)}):(this.uiDialog.hide(),this._trigger("close",j)),a.ui.dialog.overlay.resize(),this.options.modal&&(h=0,a(".ui-dialog").each(function(){this!==g.uiDialog[0]&&(e=a(this).css("z-index"),isNaN(e)||(h=Math.max(h,e)))}),a.ui.dialog.maxZ=h),this},isOpen:function(){return this._isOpen},moveToTop:function(j,g){var h=this.options,e;return h.modal&&!j||!h.stack&&!h.modal?this._trigger("focus",g):(h.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=h.zIndex),this.overlay&&(a.ui.dialog.maxZ+=1,a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ,this.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ)),e={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},a.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",a.ui.dialog.maxZ),this.element.attr(e),this._trigger("focus",g),this)},open:function(){if(this._isOpen){return}var h,e=this.options,g=this.uiDialog;return this._size(),this._position(e.position),g.show(e.show),this.overlay=e.modal?new a.ui.dialog.overlay(this):null,this.moveToTop(!0),h=this.element.find(":tabbable"),h.length||(h=this.uiDialogButtonPane.find(":tabbable"),h.length||(h=g)),h.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this},_createButtons:function(h){var e=this,g=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),typeof h=="object"&&h!==null&&a.each(h,function(){return !(g=!0)}),g?(a.each(h,function(m,k){var j,l;k=a.isFunction(k)?{click:k,text:m}:k,k=a.extend({type:"button"},k),l=k.click,k.click=function(){l.apply(e.element[0],arguments)},j=a("<button></button>",k).appendTo(e.uiButtonSet),a.fn.button&&j.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function g(i){return{position:i.position,offset:i.offset}}var h=this,e=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(k,j){a(this).addClass("ui-dialog-dragging"),h._trigger("dragStart",k,g(j))},drag:function(i,j){h._trigger("drag",i,g(j))},stop:function(j,k){e.position=[k.position.left-h.document.scrollLeft(),k.position.top-h.document.scrollTop()],a(this).removeClass("ui-dialog-dragging"),h._trigger("dragStop",j,g(k)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(g){function l(i){return{originalPosition:i.originalPosition,originalSize:i.originalSize,position:i.position,size:i.size}}g=g===f?this.options.resizable:g;var j=this,e=this.options,k=this.uiDialog.css("position"),h=typeof g=="string"?g:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:this._minHeight(),handles:h,start:function(m,i){a(this).addClass("ui-dialog-resizing"),j._trigger("resizeStart",m,l(i))},resize:function(i,m){j._trigger("resize",i,l(m))},stop:function(m,i){a(this).removeClass("ui-dialog-resizing"),e.height=a(this).height(),e.width=a(this).width(),j._trigger("resizeStop",m,l(i)),a.ui.dialog.overlay.resize()}}).css("position",k).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var g=this.options;return g.height==="auto"?g.minHeight:Math.min(g.minHeight,g.height)},_position:function(j){var g=[],h=[0,0],e;if(j){if(typeof j=="string"||typeof j=="object"&&"0" in j){g=j.split?j.split(" "):[j[0],j[1]],g.length===1&&(g[1]=g[0]),a.each(["left","top"],function(i,k){+g[i]===g[i]&&(h[i]=g[i],g[i]=k)}),j={my:g[0]+(h[0]<0?h[0]:"+"+h[0])+" "+g[1]+(h[1]<0?h[1]:"+"+h[1]),at:g.join(" ")}}j=a.extend({},a.ui.dialog.prototype.options.position,j)}else{j=a.ui.dialog.prototype.options.position}e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(j),e||this.uiDialog.hide()},_setOptions:function(i){var e=this,h={},g=!1;a.each(i,function(j,k){e._setOption(j,k),j in d&&(g=!0),j in b&&(h[j]=k)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",h)},_setOption:function(k,h){var e,j,g=this.uiDialog;switch(k){case"buttons":this._createButtons(h);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+h);break;case"dialogClass":g.removeClass(this.options.dialogClass).addClass(c+h);break;case"disabled":h?g.addClass("ui-dialog-disabled"):g.removeClass("ui-dialog-disabled");break;case"draggable":e=g.is(":data(draggable)"),e&&!h&&g.draggable("destroy"),!e&&h&&this._makeDraggable();break;case"position":this._position(h);break;case"resizable":j=g.is(":data(resizable)"),j&&!h&&g.resizable("destroy"),j&&typeof h=="string"&&g.resizable("option","handles",h),!j&&h!==!1&&this._makeResizable(h);break;case"title":a(".ui-dialog-title",this.uiDialogTitlebar).html(""+(h||"&#160;"))}this._super(k,h)},_size:function(){var k,g,h,e=this.options,j=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),e.minWidth>e.width&&(e.width=e.minWidth),k=this.uiDialog.css({height:"auto",width:e.width}).outerHeight(),g=Math.max(0,e.minHeight-k),e.height==="auto"?a.support.minHeight?this.element.css({minHeight:g,height:"auto"}):(this.uiDialog.show(),h=this.element.css("height","auto").height(),j||this.uiDialog.hide(),this.element.height(Math.max(h,g))):this.element.height(Math.max(e.height-k,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(g){var h=g.attr("id");return h||(this.uuid+=1,h=this.uuid),"ui-dialog-title-"+h},overlay:function(e){this.$el=a.ui.dialog.overlay.create(e)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(g){return g+".dialog-overlay"}).join(" "),create:function(g){this.instances.length===0&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(h){if(a(h.target).zIndex()<a.ui.dialog.overlay.maxZ){return !1}})},1),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var e=this.oldInstances.pop()||a("<div>").addClass("ui-widget-overlay");return a(document).bind("keydown.dialog-overlay",function(j){var h=a.ui.dialog.overlay.instances;h.length!==0&&h[h.length-1]===e&&g.options.closeOnEscape&&!j.isDefaultPrevented()&&j.keyCode&&j.keyCode===a.ui.keyCode.ESCAPE&&(g.close(j),j.preventDefault())}),e.appendTo(document.body).css({width:this.width(),height:this.height()}),a.fn.bgiframe&&e.bgiframe(),this.instances.push(e),e},destroy:function(h){var e=a.inArray(h,this.instances),g=0;e!==-1&&this.oldInstances.push(this.instances.splice(e,1)[0]),this.instances.length===0&&a([document,window]).unbind(".dialog-overlay"),h.height(0).width(0).remove(),a.each(this.instances,function(){g=Math.max(g,this.css("z-index"))}),this.maxZ=g},height:function(){var g,e;return a.ui.ie?(g=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),e=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),g<e?a(window).height()+"px":g+"px"):a(document).height()+"px"},width:function(){var g,e;return a.ui.ie?(g=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),e=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),g<e?a(window).width()+"px":g+"px"):a(document).width()+"px"},resize:function(){var e=a([]);a.each(a.ui.dialog.overlay.instances,function(){e=e.add(this)}),e.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);(function(a,c){var b=!1;a.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(d){this.options.disabled&&d.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(d){d.preventDefault()},"click .ui-state-disabled > a":function(d){d.preventDefault()},"click .ui-menu-item:has(a)":function(e){var d=a(e.target).closest(".ui-menu-item");!b&&d.not(".ui-state-disabled").length&&(b=!0,this.select(e),d.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var d=a(e.currentTarget);d.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,d)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(d,g){var f=this.active||this.element.children(".ui-menu-item").eq(0);g||this.focus(d,f)},blur:function(d){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(d)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(d){a(d.target).closest(".ui-menu").length||this.collapseAll(d),b=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var d=a(this);d.data("ui-menu-submenu-carat")&&d.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(k){function d(i){return i.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var f,h,e,j,g,l=!0;switch(k.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(k);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(k);break;case a.ui.keyCode.HOME:this._move("first","first",k);break;case a.ui.keyCode.END:this._move("last","last",k);break;case a.ui.keyCode.UP:this.previous(k);break;case a.ui.keyCode.DOWN:this.next(k);break;case a.ui.keyCode.LEFT:this.collapse(k);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(k);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(k);break;case a.ui.keyCode.ESCAPE:this.collapse(k);break;default:l=!1,h=this.previousFilter||"",e=String.fromCharCode(k.keyCode),j=!1,clearTimeout(this.filterTimer),e===h?j=!0:e=h+e,g=new RegExp("^"+d(e),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text())}),f=j&&f.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):f,f.length||(e=String.fromCharCode(k.keyCode),g=new RegExp("^"+d(e),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text())})),f.length?(this.focus(k,f),f.length>1?(this.previousFilter=e,this.filterTimer=this._delay(function(){delete this.previousFilter},1000)):delete this.previousFilter):delete this.previousFilter}l&&k.preventDefault()},_activate:function(d){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(d):this.select(d))},refresh:function(){var f,d=this.options.icons.submenu,e=this.element.find(this.options.menus);e.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var j=a(this),h=j.prev("a"),g=a("<span>").addClass("ui-menu-icon ui-icon "+d).data("ui-menu-submenu-carat",!0);h.attr("aria-haspopup","true").prepend(g),j.attr("aria-labelledby",h.attr("id"))}),f=e.add(this.element),f.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),f.children(":not(.ui-menu-item)").each(function(){var g=a(this);/[^\-—–\s]/.test(g.text())||g.addClass("ui-widget-content ui-menu-divider")}),f.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(d,h){var f,g;this.blur(d,d&&d.type==="focus"),this._scrollIntoView(h),this.active=h.first(),g=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",g.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),d&&d.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),f=h.children(".ui-menu"),f.length&&/^mouse/.test(d.type)&&this._startOpening(f),this.activeMenu=h.parent(),this._trigger("focus",d,{item:h})},_scrollIntoView:function(j){var e,g,d,h,f,k;this._hasScroll()&&(e=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,g=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,d=j.offset().top-this.activeMenu.offset().top-e-g,h=this.activeMenu.scrollTop(),f=this.activeMenu.height(),k=j.height(),d<0?this.activeMenu.scrollTop(h+d):d+k>f&&this.activeMenu.scrollTop(h+d-f+k))},blur:function(d,f){f||clearTimeout(this.timer);if(!this.active){return}this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",d,{item:this.active})},_startOpening:function(d){clearTimeout(this.timer);if(d.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close(),this._open(d)},this.delay)},_open:function(e){var d=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(d)},collapseAll:function(e,d){clearTimeout(this.timer),this.timer=this._delay(function(){var f=d?this.element:a(e&&e.target).closest(this.element.find(".ui-menu"));f.length||(f=this.element),this._close(f),this.blur(e),this.activeMenu=f},this.delay)},_close:function(d){d||(d=this.active?this.active.parent():this.element),d.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(d){var f=this.active&&this.active.parent().closest(".ui-menu-item",this.element);f&&f.length&&(this._close(),this.focus(d,f))},expand:function(d){var f=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();f&&f.length&&(this._open(f.parent()),this._delay(function(){this.focus(d,f)}))},next:function(d){this._move("next","first",d)},previous:function(d){this._move("prev","last",d)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(d,h,f){var g;this.active&&(d==="first"||d==="last"?g=this.active[d==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):g=this.active[d+"All"](".ui-menu-item").eq(0));if(!g||!g.length||!this.active){g=this.activeMenu.children(".ui-menu-item")[h]()}this.focus(f,g)},nextPage:function(g){var e,f,d;if(!this.active){this.next(g);return}if(this.isLastItem()){return}this._hasScroll()?(f=this.active.offset().top,d=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return e=a(this),e.offset().top-f-d<0}),this.focus(g,e)):this.focus(g,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())},previousPage:function(g){var e,f,d;if(!this.active){this.next(g);return}if(this.isFirstItem()){return}this._hasScroll()?(f=this.active.offset().top,d=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return e=a(this),e.offset().top-f+d>0}),this.focus(g,e)):this.focus(g,this.activeMenu.children(".ui-menu-item").first())},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||a(e.target).closest(".ui-menu-item");var d={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,d)}})})(jQuery);(function(a,b){a.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(c){return c===b?this._value():(this._setOption("value",c),this)},_setOption:function(c,d){c==="value"&&(this.options.value=d,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(c,d)},_value:function(){var c=this.options.value;return typeof c!="number"&&(c=0),Math.min(this.options.max,Math.max(this.min,c))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var c=this.value(),d=this._percentage();this.oldValue!==c&&(this.oldValue=c,this._trigger("change")),this.valueDiv.toggle(c>this.min).toggleClass("ui-corner-right",c===this.options.max).width(d.toFixed(0)+"%"),this.element.attr("aria-valuenow",c)}})})(jQuery);(function(a,c){var b=5;a.widget("ui.slider",a.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var h,f,d=this.options,g=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),e="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",j=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(d.disabled?" ui-slider-disabled ui-disabled":"")),this.range=a([]),d.range&&(d.range===!0&&(d.values||(d.values=[this._valueMin(),this._valueMin()]),d.values.length&&d.values.length!==2&&(d.values=[d.values[0],d.values[0]])),this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(d.range==="min"||d.range==="max"?" ui-slider-range-"+d.range:""))),f=d.values&&d.values.length||1;for(h=g.length;h<f;h++){j.push(e)}this.handles=g.add(a(j.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(i){i.preventDefault()}).mouseenter(function(){d.disabled||a(this).addClass("ui-state-hover")}).mouseleave(function(){a(this).removeClass("ui-state-hover")}).focus(function(){d.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")}),this.handles.each(function(i){a(this).data("ui-slider-handle-index",i)}),this._on(this.handles,{keydown:function(p){var m,k,n,l,q=a(p.target).data("ui-slider-handle-index");switch(p.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:p.preventDefault();if(!this._keySliding){this._keySliding=!0,a(p.target).addClass("ui-state-active"),m=this._start(p,q);if(m===!1){return}}}l=this.options.step,this.options.values&&this.options.values.length?k=n=this.values(q):k=n=this.value();switch(p.keyCode){case a.ui.keyCode.HOME:n=this._valueMin();break;case a.ui.keyCode.END:n=this._valueMax();break;case a.ui.keyCode.PAGE_UP:n=this._trimAlignValue(k+(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(k-(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(k===this._valueMax()){return}n=this._trimAlignValue(k+l);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(k===this._valueMin()){return}n=this._trimAlignValue(k-l)}this._slide(p,q,n)},keyup:function(k){var i=a(k.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(k,i),this._change(k,i),a(k.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(v){var k,p,h,q,m,w,d,g,j=this,e=this.options;return e.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),k={x:v.pageX,y:v.pageY},p=this._normValueFromMouse(k),h=this._valueMax()-this._valueMin()+1,this.handles.each(function(i){var f=Math.abs(p-j.values(i));h>f&&(h=f,q=a(this),m=i)}),e.range===!0&&this.values(1)===e.min&&(m+=1,q=a(this.handles[m])),w=this._start(v,m),w===!1?!1:(this._mouseSliding=!0,this._handleIndex=m,q.addClass("ui-state-active").focus(),d=q.offset(),g=!a(v.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=g?{left:0,top:0}:{left:v.pageX-d.left-q.width()/2,top:v.pageY-d.top-q.height()/2-(parseInt(q.css("borderTopWidth"),10)||0)-(parseInt(q.css("borderBottomWidth"),10)||0)+(parseInt(q.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(v,m,p),this._animateOff=!0,!0))},_mouseStart:function(){return !0},_mouseDrag:function(d){var g={x:d.pageX,y:d.pageY},f=this._normValueFromMouse(g);return this._slide(d,this._handleIndex,f),!1},_mouseStop:function(d){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(d,this._handleIndex),this._change(d,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(d){var k,g,h,f,j;return this.orientation==="horizontal"?(k=this.elementSize.width,g=d.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(k=this.elementSize.height,g=d.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),h=g/k,h>1&&(h=1),h<0&&(h=0),this.orientation==="vertical"&&(h=1-h),f=this._valueMax()-this._valueMin(),j=this._valueMin()+h*f,this._trimAlignValue(j)},_start:function(d,g){var f={handle:this.handles[g],value:this.value()};return this.options.values&&this.options.values.length&&(f.value=this.values(g),f.values=this.values()),this._trigger("start",d,f)},_slide:function(d,k,g){var h,f,j;this.options.values&&this.options.values.length?(h=this.values(k?0:1),this.options.values.length===2&&this.options.range===!0&&(k===0&&g>h||k===1&&g<h)&&(g=h),g!==this.values(k)&&(f=this.values(),f[k]=g,j=this._trigger("slide",d,{handle:this.handles[k],value:g,values:f}),h=this.values(k?0:1),j!==!1&&this.values(k,g,!0))):g!==this.value()&&(j=this._trigger("slide",d,{handle:this.handles[k],value:g}),j!==!1&&this.value(g))},_stop:function(d,g){var f={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(f.value=this.values(g),f.values=this.values()),this._trigger("stop",d,f)},_change:function(d,g){if(!this._keySliding&&!this._mouseSliding){var f={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(f.value=this.values(g),f.values=this.values()),this._trigger("change",d,f)}},value:function(d){if(arguments.length){this.options.value=this._trimAlignValue(d),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(h,e){var f,d,g;if(arguments.length>1){this.options.values[h]=this._trimAlignValue(e),this._refreshValue(),this._change(null,h);return}if(!arguments.length){return this._values()}if(!a.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(h):this.value()}f=this.options.values,d=arguments[0];for(g=0;g<f.length;g+=1){f[g]=this._trimAlignValue(d[g]),this._change(null,g)}this._refreshValue()},_setOption:function(g,e){var f,d=0;a.isArray(this.options.values)&&(d=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments);switch(g){case"disabled":e?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(f=0;f<d;f+=1){this._change(null,f)}this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var d=this.options.value;return d=this._trimAlignValue(d),d},_values:function(d){var h,f,g;if(arguments.length){return h=this.options.values[d],h=this._trimAlignValue(h),h}f=this.options.values.slice();for(g=0;g<f.length;g+=1){f[g]=this._trimAlignValue(f[g])}return f},_trimAlignValue:function(d){if(d<=this._valueMin()){return this._valueMin()}if(d>=this._valueMax()){return this._valueMax()}var h=this.options.step>0?this.options.step:1,f=(d-this._valueMin())%h,g=d-f;return Math.abs(f)*2>=h&&(g+=f>0?h:-h),parseFloat(g.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var q,j,m,g,p,k=this.options.range,v=this.options,d=this,e=this._animateOff?!1:v.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(f){j=(d.values(f)-d._valueMin())/(d._valueMax()-d._valueMin())*100,h[d.orientation==="horizontal"?"left":"bottom"]=j+"%",a(this).stop(1,1)[e?"animate":"css"](h,v.animate),d.options.range===!0&&(d.orientation==="horizontal"?(f===0&&d.range.stop(1,1)[e?"animate":"css"]({left:j+"%"},v.animate),f===1&&d.range[e?"animate":"css"]({width:j-q+"%"},{queue:!1,duration:v.animate})):(f===0&&d.range.stop(1,1)[e?"animate":"css"]({bottom:j+"%"},v.animate),f===1&&d.range[e?"animate":"css"]({height:j-q+"%"},{queue:!1,duration:v.animate}))),q=j}):(m=this.value(),g=this._valueMin(),p=this._valueMax(),j=p!==g?(m-g)/(p-g)*100:0,h[this.orientation==="horizontal"?"left":"bottom"]=j+"%",this.handle.stop(1,1)[e?"animate":"css"](h,v.animate),k==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[e?"animate":"css"]({width:j+"%"},v.animate),k==="max"&&this.orientation==="horizontal"&&this.range[e?"animate":"css"]({width:100-j+"%"},{queue:!1,duration:v.animate}),k==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[e?"animate":"css"]({height:j+"%"},v.animate),k==="max"&&this.orientation==="vertical"&&this.range[e?"animate":"css"]({height:100-j+"%"},{queue:!1,duration:v.animate}))}})})(jQuery);(function(a){function b(c){return function(){var d=this.element.val();c.apply(this,arguments),this._refresh(),d!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.9.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var d={},c=this.element;return a.each(["min","max","step"],function(f,h){var g=c.attr(h);g!==undefined&&g.length&&(d[h]=g)}),d},_events:{keydown:function(c){this._start(c)&&this._keydown(c)&&c.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(c){if(this.cancelBlur){delete this.cancelBlur;return}this._refresh(),this.previous!==this.element.val()&&this._trigger("change",c)},mousewheel:function(c,d){if(!d){return}if(!this.spinning&&!this._start(c)){return !1}this._spin((d>0?1:-1)*this.options.step,c),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(c)},100),c.preventDefault()},"mousedown .ui-spinner-button":function(e){function d(){var f=this.element[0]===this.document[0].activeElement;f||(this.element.focus(),this.previous=c,this._delay(function(){this.previous=c}))}var c;c=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),d.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,d.call(this)});if(this._start(e)===!1){return}this._repeat(null,a(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(c){if(!a(c.currentTarget).hasClass("ui-state-active")){return}if(this._start(c)===!1){return !1}this._repeat(null,a(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var c=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=c.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(c.height()*0.5)&&c.height()>0&&c.height(c.height()),this.options.disabled&&this.disable()},_keydown:function(e){var c=this.options,d=a.ui.keyCode;switch(e.keyCode){case d.UP:return this._repeat(null,1,e),!0;case d.DOWN:return this._repeat(null,-1,e),!0;case d.PAGE_UP:return this._repeat(null,c.page,e),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,e),!0}return !1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(c){return !this.spinning&&this._trigger("start",c)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(c,f,d){c=c||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,f,d)},c),this._spin(f*this.options.step,d)},_spin:function(c,f){var d=this.value()||0;this.counter||(this.counter=1),d=this._adjustValue(d+c*this._increment(this.counter));if(!this.spinning||this._trigger("spin",f,{value:d})!==!1){this._value(d),this.counter++}},_increment:function(d){var c=this.options.incremental;return c?a.isFunction(c)?c(d):Math.floor(d*d*d/50000-d*d/500+17*d/200+1):1},_precision:function(){var c=this._precisionOf(this.options.step);return this.options.min!==null&&(c=Math.max(c,this._precisionOf(this.options.min))),c},_precisionOf:function(c){var f=c.toString(),d=f.indexOf(".");return d===-1?0:f.length-d-1},_adjustValue:function(c){var g,d,f=this.options;return g=f.min!==null?f.min:0,d=c-g,d=Math.round(d/f.step)*f.step,c=g+d,c=parseFloat(c.toFixed(this._precision())),f.max!==null&&c>f.max?f.max:f.min!==null&&c<f.min?f.min:c},_stop:function(c){if(!this.spinning){return}clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",c)},_setOption:function(c,f){if(c==="culture"||c==="numberFormat"){var d=this._parse(this.element.val());this.options[c]=f,this.element.val(this._format(d));return}(c==="max"||c==="min"||c==="step")&&typeof f=="string"&&(f=this._parse(f)),this._super(c,f),c==="disabled"&&(f?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:b(function(c){this._super(c),this._value(this.element.val())}),_parse:function(c){return typeof c=="string"&&c!==""&&(c=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(c,10,this.options.culture):+c),c===""||isNaN(c)?null:c},_format:function(c){return c===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(c,this.options.numberFormat,this.options.culture):c},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(c,f){var d;c!==""&&(d=this._parse(c),d!==null&&(f||(d=this._adjustValue(d)),c=this._format(d))),this.element.val(c),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:b(function(c){this._stepUp(c)}),_stepUp:function(c){this._spin((c||1)*this.options.step)},stepDown:b(function(c){this._stepDown(c)}),_stepDown:function(c){this._spin((c||1)*-this.options.step)},pageUp:b(function(c){this._stepUp((c||1)*this.options.page)}),pageDown:b(function(c){this._stepDown((c||1)*this.options.page)}),value:function(c){if(!arguments.length){return this._parse(this.element.val())}b(this._value).call(this,c)},widget:function(){return this.uiSpinner}})})(jQuery);(function(a,g){function b(){return ++c}function f(h){return h.hash.length>1&&h.href.replace(d,"")===location.href.replace(d,"").replace(/\s/g,"%20")}var c=0,d=/#.*$/;a.widget("ui.tabs",{version:"1.9.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var k=this,h=this.options,j=h.active,e=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",h.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(i){a(this).is(".ui-state-disabled")&&i.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs();if(j===null){e&&this.tabs.each(function(l,i){if(a(i).attr("aria-controls")===e){return j=l,!1}}),j===null&&(j=this.tabs.index(this.tabs.filter(".ui-tabs-active")));if(j===null||j===-1){j=this.tabs.length?0:!1}}j!==!1&&(j=this.tabs.index(this.tabs.eq(j)),j===-1&&(j=h.collapsible?!1:0)),h.active=j,!h.collapsible&&h.active===!1&&this.anchors.length&&(h.active=0),a.isArray(h.disabled)&&(h.disabled=a.unique(h.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(i){return k.tabs.index(i)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(this.options.active):this.active=a(),this._refresh(),this.active.length&&this.load(h.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(k){var h=a(this.document[0].activeElement).closest("li"),j=this.tabs.index(h),e=!0;if(this._handlePageNav(k)){return}switch(k.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:j++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,j--;break;case a.ui.keyCode.END:j=this.anchors.length-1;break;case a.ui.keyCode.HOME:j=0;break;case a.ui.keyCode.SPACE:k.preventDefault(),clearTimeout(this.activating),this._activate(j);return;case a.ui.keyCode.ENTER:k.preventDefault(),clearTimeout(this.activating),this._activate(j===this.options.active?!1:j);return;default:return}k.preventDefault(),clearTimeout(this.activating),j=this._focusNextTab(j,e),k.ctrlKey||(h.attr("aria-selected","false"),this.tabs.eq(j).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",j)},this.delay))},_panelKeydown:function(e){if(this._handlePageNav(e)){return}e.ctrlKey&&e.keyCode===a.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){if(e.altKey&&e.keyCode===a.ui.keyCode.PAGE_UP){return this._activate(this._focusNextTab(this.options.active-1,!1)),!0}if(e.altKey&&e.keyCode===a.ui.keyCode.PAGE_DOWN){return this._activate(this._focusNextTab(this.options.active+1,!0)),!0}},_findNextTab:function(k,h){function e(){return k>j&&(k=0),k<0&&(k=j),k}var j=this.tabs.length-1;while(a.inArray(e(),this.options.disabled)!==-1){k=h?k+1:k-1}return k},_focusNextTab:function(h,i){return h=this._findNextTab(h,i),this.tabs.eq(h).focus(),h},_setOption:function(h,i){if(h==="active"){this._activate(i);return}if(h==="disabled"){this._setupDisabled(i);return}this._super(h,i),h==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",i),!i&&this.options.active===!1&&this._activate(0)),h==="event"&&this._setupEvents(i),h==="heightStyle"&&this._setupHeightStyle(i)},_tabId:function(h){return h.attr("aria-controls")||"ui-tabs-"+b()},_sanitizeSelector:function(h){return h?h.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var h=this.options,e=this.tablist.children(":has(a[href])");h.disabled=a.map(e.filter(".ui-state-disabled"),function(i){return e.index(i)}),this._processTabs(),h.active===!1||!this.anchors.length?(h.active=!1,this.active=a()):this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===h.disabled.length?(h.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,h.active-1),!1)):h.active=this.tabs.index(this.active),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=a(),this.anchors.each(function(p,s){var k,q,t,h=a(s).uniqueId().attr("id"),j=a(s).closest("li"),m=j.attr("aria-controls");f(s)?(k=s.hash,q=e.element.find(e._sanitizeSelector(k))):(t=e._tabId(j),k="#"+t,q=e.element.find(k),q.length||(q=e._createPanel(t),q.insertAfter(e.panels[p-1]||e.tablist)),q.attr("aria-live","polite")),q.length&&(e.panels=e.panels.add(q)),m&&j.data("ui-tabs-aria-controls",m),j.attr({"aria-controls":k.substring(1),"aria-labelledby":h}),q.attr("aria-labelledby",h)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return a("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(i){a.isArray(i)&&(i.length?i.length===this.anchors.length&&(i=!0):i=!1);for(var e=0,h;h=this.tabs[e];e++){i===!0||a.inArray(e,i)!==-1?a(h).addClass("ui-state-disabled").attr("aria-disabled","true"):a(h).removeClass("ui-state-disabled").removeAttr("aria-disabled")}this.options.disabled=i},_setupEvents:function(h){var e={click:function(i){i.preventDefault()}};h&&a.each(h.split(" "),function(i,j){e[j]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,e),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(k){var h,j,e=this.element.parent();k==="fill"?(a.support.minHeight||(j=e.css("overflow"),e.css("overflow","hidden")),h=e.height(),this.element.siblings(":visible").each(function(){var l=a(this),i=l.css("position");if(i==="absolute"||i==="fixed"){return}h-=l.outerHeight(!0)}),j&&e.css("overflow",j),this.element.children().not(this.panels).each(function(){h-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,h-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):k==="auto"&&(h=0,this.panels.each(function(){h=Math.max(h,a(this).height("").height())}).height(h))},_eventHandler:function(w){var m=this.options,q=this.active,j=a(w.currentTarget),v=j.closest("li"),p=v[0]===q[0],x=p&&m.collapsible,e=x?a():this._getPanelForTab(v),h=q.length?this._getPanelForTab(q):a(),k={oldTab:q,oldPanel:h,newTab:x?a():v,newPanel:e};w.preventDefault();if(v.hasClass("ui-state-disabled")||v.hasClass("ui-tabs-loading")||this.running||p&&!m.collapsible||this._trigger("beforeActivate",w,k)===!1){return}m.active=x?!1:this.tabs.index(v),this.active=p?a():v,this.xhr&&this.xhr.abort(),!h.length&&!e.length&&a.error("jQuery UI Tabs: Mismatching fragment identifier."),e.length&&this.load(this.tabs.index(v),w),this._toggle(w,k)},_toggle:function(m,h){function j(){k.running=!1,k._trigger("activate",m,h)}function p(){h.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),e.length&&k.options.show?k._show(e,k.options.show,j):(e.show(),j())}var k=this,e=h.newPanel,l=h.oldPanel;this.running=!0,l.length&&this.options.hide?this._hide(l,this.options.hide,function(){h.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),p()}):(h.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),l.hide(),p()),l.attr({"aria-expanded":"false","aria-hidden":"true"}),h.oldTab.attr("aria-selected","false"),e.length&&l.length?h.oldTab.attr("tabIndex",-1):e.length&&this.tabs.filter(function(){return a(this).attr("tabIndex")===0}).attr("tabIndex",-1),e.attr({"aria-expanded":"true","aria-hidden":"false"}),h.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(i){var e,h=this._findActive(i);if(h[0]===this.active[0]){return}h.length||(h=this.active),e=h.find(".ui-tabs-anchor")[0],this._eventHandler({target:e,currentTarget:e,preventDefault:a.noop})},_findActive:function(e){return e===!1?a():this.tabs.eq(e)},_getIndex:function(h){return typeof h=="string"&&(h=this.anchors.index(this.anchors.filter("[href$='"+h+"']"))),h},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var h=a(this),e=h.data("ui-tabs-aria-controls");e?h.attr("aria-controls",e):h.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(e){var h=this.options.disabled;if(h===!1){return}e===g?h=!1:(e=this._getIndex(e),a.isArray(h)?h=a.map(h,function(i){return i!==e?i:null}):h=a.map(this.tabs,function(i,j){return j!==e?j:null})),this._setupDisabled(h)},disable:function(e){var h=this.options.disabled;if(h===!0){return}if(e===g){h=!0}else{e=this._getIndex(e);if(a.inArray(e,h)!==-1){return}a.isArray(h)?h=a.merge([e],h).sort():h=[e]}this._setupDisabled(h)},load:function(m,j){m=this._getIndex(m);var l=this,h=this.tabs.eq(m),k=h.find(".ui-tabs-anchor"),p=this._getPanelForTab(h),e={tab:h,panel:p};if(f(k[0])){return}this.xhr=a.ajax(this._ajaxSettings(k,j,e)),this.xhr&&this.xhr.statusText!=="canceled"&&(h.addClass("ui-tabs-loading"),p.attr("aria-busy","true"),this.xhr.success(function(i){setTimeout(function(){p.html(i),l._trigger("load",j,e)},1)}).complete(function(i,n){setTimeout(function(){n==="abort"&&l.panels.stop(!1,!0),h.removeClass("ui-tabs-loading"),p.removeAttr("aria-busy"),i===l.xhr&&delete l.xhr},1)}))},_ajaxSettings:function(k,h,j){var e=this;return{url:k.attr("href"),beforeSend:function(l,i){return e._trigger("beforeLoad",h,a.extend({jqXHR:l,ajaxSettings:i},j))}}},_getPanelForTab:function(h){var e=a(h).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+e))}}),a.uiBackCompat!==!1&&(a.ui.tabs.prototype._ui=function(h,i){return{tab:h,panel:i,index:this.anchors.index(h)}},a.widget("ui.tabs",a.ui.tabs,{url:function(h,i){this.anchors.eq(h).attr("href",i)}}),a.widget("ui.tabs",a.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var e=this;this._on({tabsbeforeload:function(h,i){if(a.data(i.tab[0],"cache.tabs")){h.preventDefault();return}i.jqXHR.success(function(){e.options.cache&&a.data(i.tab[0],"cache.tabs",!0)})}})},_ajaxSettings:function(k,h,j){var e=this.options.ajaxOptions;return a.extend({},e,{error:function(i,m){try{e.error(i,m,j.tab.closest("li").index(),j.tab[0])}catch(l){}}},this._superApply(arguments))},_setOption:function(h,i){h==="cache"&&i===!1&&this.anchors.removeData("cache.tabs"),this._super(h,i)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(h){this.anchors.eq(h).removeData("cache.tabs"),this._superApply(arguments)}}),a.widget("ui.tabs",a.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),a.widget("ui.tabs",a.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(h,k){if(h.target!==this.element[0]||!this.options.spinner){return}var i=k.tab.find("span"),j=i.html();i.html(this.options.spinner),k.jqXHR.complete(function(){i.html(j)})}})}}),a.widget("ui.tabs",a.ui.tabs,{options:{enable:null,disable:null},enable:function(i){var e=this.options,h;if(i&&e.disabled===!0||a.isArray(e.disabled)&&a.inArray(i,e.disabled)!==-1){h=!0}this._superApply(arguments),h&&this._trigger("enable",null,this._ui(this.anchors[i],this.panels[i]))},disable:function(i){var e=this.options,h;if(i&&e.disabled===!1||a.isArray(e.disabled)&&a.inArray(i,e.disabled)===-1){h=!0}this._superApply(arguments),h&&this._trigger("disable",null,this._ui(this.anchors[i],this.panels[i]))}}),a.widget("ui.tabs",a.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(k,m,j){j===g&&(j=this.anchors.length);var p,l,q=this.options,e=a(q.tabTemplate.replace(/#\{href\}/g,k).replace(/#\{label\}/g,m)),h=k.indexOf("#")?this._tabId(e):k.replace("#","");return e.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),e.attr("aria-controls",h),p=j>=this.tabs.length,l=this.element.find("#"+h),l.length||(l=this._createPanel(h),p?j>0?l.insertAfter(this.panels.eq(-1)):l.appendTo(this.element):l.insertBefore(this.panels[j])),l.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),p?e.appendTo(this.tablist):e.insertBefore(this.tabs[j]),q.disabled=a.map(q.disabled,function(i){return i>=j?++i:i}),this.refresh(),this.tabs.length===1&&q.active===!1&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[j],this.panels[j])),this},remove:function(k){k=this._getIndex(k);var h=this.options,j=this.tabs.eq(k).remove(),e=this._getPanelForTab(j).remove();return j.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(k+(k+1<this.anchors.length?1:-1)),h.disabled=a.map(a.grep(h.disabled,function(i){return i!==k}),function(i){return i>=k?--i:i}),this.refresh(),this._trigger("remove",null,this._ui(j.find("a")[0],e[0])),this}}),a.widget("ui.tabs",a.ui.tabs,{length:function(){return this.anchors.length}}),a.widget("ui.tabs",a.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(h){var e=h.is("li")?h.find("a[href]"):h;return e=e[0],a(e).closest("li").attr("aria-controls")||e.title&&e.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+b()}}),a.widget("ui.tabs",a.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(e){return a(this.options.panelTemplate).attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),a.widget("ui.tabs",a.ui.tabs,{_create:function(){var h=this.options;h.active===null&&h.selected!==g&&(h.active=h.selected===-1?!1:h.selected),this._super(),h.selected=h.active,h.selected===!1&&(h.selected=-1)},_setOption:function(h,j){if(h!=="selected"){return this._super(h,j)}var i=this.options;this._super("active",j===-1?!1:j),i.selected=i.active,i.selected===!1&&(i.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,this.options.selected===!1&&(this.options.selected=-1)}}),a.widget("ui.tabs",a.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),this.options.active!==!1&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(h,o,k){var l,j,m=this._superApply(arguments);return m?(h==="beforeActivate"?(l=k.newTab.length?k.newTab:k.oldTab,j=k.newPanel.length?k.newPanel:k.oldPanel,m=this._super("select",o,{tab:l.find(".ui-tabs-anchor")[0],panel:j[0],index:l.closest("li").index()})):h==="activate"&&k.newTab.length&&(m=this._super("show",o,{tab:k.newTab.find(".ui-tabs-anchor")[0],panel:k.newPanel[0],index:k.newTab.closest("li").index()})),m):!1}}),a.widget("ui.tabs",a.ui.tabs,{select:function(h){h=this._getIndex(h);if(h===-1){if(!this.options.collapsible||this.options.selected===-1){return}h=this.options.selected}this.anchors.eq(h).trigger(this.options.event+this.eventNamespace)}}),function(){var e=0;a.widget("ui.tabs",a.ui.tabs,{options:{cookie:null},_create:function(){var h=this.options,i;h.active==null&&h.cookie&&(i=parseInt(this._cookie(),10),i===-1&&(i=!1),h.active=i),this._super()},_cookie:function(h){var i=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++e)];return arguments.length&&(i.push(h===!1?-1:h),i.push(this.options.cookie)),a.cookie.apply(null,i)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}})}(),a.widget("ui.tabs",a.ui.tabs,{_trigger:function(k,h,j){var e=a.extend({},j);return k==="load"&&(e.panel=e.panel[0],e.tab=e.tab.find(".ui-tabs-anchor")[0]),this._super(k,h,e)}}),a.widget("ui.tabs",a.ui.tabs,{options:{fx:null},_getFx:function(){var i,e,h=this.options.fx;return h&&(a.isArray(h)?(i=h[0],e=h[1]):i=e=h),h?{show:e,hide:i}:null},_toggle:function(h,q){function l(){k.running=!1,k._trigger("activate",h,q)}function v(){q.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),m.length&&p.show?m.animate(p.show,p.show.duration,function(){l()}):(m.show(),l())}var k=this,m=q.newPanel,j=q.oldPanel,p=this._getFx();if(!p){return this._super(h,q)}k.running=!0,j.length&&p.hide?j.animate(p.hide,p.hide.duration,function(){q.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),v()}):(q.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),j.hide(),v())}}))})(jQuery);(function(a){function b(g,e){var f=(g.attr("aria-describedby")||"").split(/\s+/);f.push(e),g.data("ui-tooltip-id",e).attr("aria-describedby",a.trim(f.join(" ")))}function c(h){var f=h.data("ui-tooltip-id"),g=(h.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(f,g);e!==-1&&g.splice(e,1),h.removeData("ui-tooltip-id"),g=a.trim(g.join(" ")),g?h.attr("aria-describedby",g):h.removeAttr("aria-describedby")}var d=0;a.widget("ui.tooltip",{version:"1.9.2",options:{content:function(){return a(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(g,e){var f=this;if(g==="disabled"){this[e?"_disable":"_enable"](),this.options[g]=e;return}this._super(g,e),g==="content"&&a.each(this.tooltips,function(h,i){f._updateContent(i)})},_disable:function(){var e=this;a.each(this.tooltips,function(g,h){var f=a.Event("blur");f.target=f.currentTarget=h[0],e.close(f,!0)}),this.element.find(this.options.items).andSelf().each(function(){var f=a(this);f.is("[title]")&&f.data("ui-tooltip-title",f.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var e=a(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(g){var e=this,f=a(g?g.target:this.element).closest(this.options.items);if(!f.length||f.data("ui-tooltip-id")){return}f.attr("title")&&f.data("ui-tooltip-title",f.attr("title")),f.data("ui-tooltip-open",!0),g&&g.type==="mouseover"&&f.parents().each(function(){var i=a(this),h;i.data("ui-tooltip-open")&&(h=a.Event("blur"),h.target=h.currentTarget=this,e.close(h,!0)),i.attr("title")&&(i.uniqueId(),e.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._updateContent(f,g)},_updateContent:function(f,l){var h,j=this.options.content,g=this,k=l?l.type:null;if(typeof j=="string"){return this._open(l,f,j)}h=j.call(f[0],function(e){if(!f.data("ui-tooltip-open")){return}g._delay(function(){l&&(l.type=k),this._open(l,f,e)})}),h&&this._open(l,f,h)},_open:function(m,k,h){function g(f){e.of=f;if(l.is(":hidden")){return}l.position(e)}var l,j,n,e=a.extend({},this.options.position);if(!h){return}l=this._find(k);if(l.length){l.find(".ui-tooltip-content").html(h);return}k.is("[title]")&&(m&&m.type==="mouseover"?k.attr("title",""):k.removeAttr("title")),l=this._tooltip(k),b(k,l.attr("id")),l.find(".ui-tooltip-content").html(h),this.options.track&&m&&/^mouse/.test(m.type)?(this._on(this.document,{mousemove:g}),g(m)):l.position(a.extend({of:k},this.options.position)),l.hide(),this._show(l,this.options.show),this.options.show&&this.options.show.delay&&(n=setInterval(function(){l.is(":visible")&&(g(e.of),clearInterval(n))},a.fx.interval)),this._trigger("open",m,{tooltip:l}),j={keyup:function(i){if(i.keyCode===a.ui.keyCode.ESCAPE){var f=a.Event(i);f.currentTarget=k[0],this.close(f,!0)}},remove:function(){this._removeTooltip(l)}};if(!m||m.type==="mouseover"){j.mouseleave="close"}if(!m||m.type==="focusin"){j.focusout="close"}this._on(!0,k,j)},close:function(h){var f=this,e=a(h?h.currentTarget:this.element),g=this._find(e);if(this.closing){return}e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title")),c(e),g.stop(!0),this._hide(g,this.options.hide,function(){f._removeTooltip(a(this))}),e.removeData("ui-tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),h&&h.type==="mouseleave"&&a.each(this.parents,function(j,i){a(i.element).attr("title",i.title),delete f.parents[j]}),this.closing=!0,this._trigger("close",h,{tooltip:g}),this.closing=!1},_tooltip:function(f){var g="ui-tooltip-"+d++,e=a("<div>").attr({id:g,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return a("<div>").addClass("ui-tooltip-content").appendTo(e),e.appendTo(this.document[0].body),a.fn.bgiframe&&e.bgiframe(),this.tooltips[g]=f,e},_find:function(f){var e=f.data("ui-tooltip-id");return e?a("#"+e):a()},_removeTooltip:function(f){f.remove(),delete this.tooltips[f.attr("id")]},_destroy:function(){var e=this;a.each(this.tooltips,function(g,h){var f=a.Event("blur");f.target=f.currentTarget=h[0],e.close(f,!0),a("#"+g).remove(),h.data("ui-tooltip-title")&&(h.attr("title",h.data("ui-tooltip-title")),h.removeData("ui-tooltip-title"))})}})})(jQuery);jQuery.effects||function(a,d){var b=a.uiBackCompat!==!1,c="ui-effects-";a.effects={effect:{}},function(C,x){function z(f,l,h){var i=e[l.type]||{};return f==null?h||!l.def?null:l.def:(f=i.floor?~~f:parseFloat(f),isNaN(f)?l.def:i.mod?(f+i.mod)%i.mod:0>f?0:i.max<f?i.max:f)}function j(f){var h=y(),i=h._rgba=[];return f=f.toLowerCase(),m(B,function(v,p){var u,r=p.re.exec(f),l=r&&p.parse(r),n=p.space||"rgba";if(l){return u=h[n](l),h[D[n].cache]=u[D[n].cache],i=h._rgba=u._rgba,!1}}),i.length?(i.join()==="0,0,0,0"&&C.extend(i,g.transparent),h):g[f]}function E(f,i,h){return h=(h+1)%1,h*6<1?f+(i-f)*h*6:h*2<1?i:h*3<2?f+(i-f)*(2/3-h)*6:f}var A="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),q=/^([\-+])=\s*(\d+\.?\d*)/,B=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(f){return[f[1],f[2],f[3],f[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(f){return[f[1]*2.55,f[2]*2.55,f[3]*2.55,f[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(f){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(f){return[f[1],f[2]/100,f[3]/100,f[4]]}}],y=C.Color=function(f,l,o,h){return new C.Color.fn.parse(f,l,o,h)},D={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},e={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},k=y.support={},w=C("<p>")[0],g,m=C.each;w.style.cssText="background-color:rgba(1,1,1,.5)",k.rgba=w.style.backgroundColor.indexOf("rgba")>-1,m(D,function(f,h){h.cache="_"+f,h.props.alpha={idx:3,type:"percent",def:1}}),y.fn=C.extend(y.prototype,{parse:function(t,o,u,h){if(t===x){return this._rgba=[null,null,null,null],this}if(t.jquery||t.nodeType){t=C(t).css(o),o=x}var n=this,p=C.type(t),F=this._rgba=[];o!==x&&(t=[t,o,u,h],p="array");if(p==="string"){return this.parse(j(t)||g._default)}if(p==="array"){return m(D.rgba.props,function(f,i){F[i.idx]=z(t[i.idx],i)}),this}if(p==="object"){return t instanceof y?m(D,function(f,i){t[i.cache]&&(n[i.cache]=t[i.cache].slice())}):m(D,function(r,l){var f=l.cache;m(l.props,function(i,s){if(!n[f]&&l.to){if(i==="alpha"||t[i]==null){return}n[f]=l.to(n._rgba)}n[f][s.idx]=z(t[i],s,!0)}),n[f]&&a.inArray(null,n[f].slice(0,3))<0&&(n[f][3]=1,l.from&&(n._rgba=l.from(n[f])))}),this}},is:function(f){var l=y(f),h=!0,i=this;return m(D,function(n,p){var t,r=l[p.cache];return r&&(t=i[p.cache]||p.to&&p.to(i._rgba)||[],m(p.props,function(o,s){if(r[s.idx]!=null){return h=r[s.idx]===t[s.idx],h}})),h}),h},_space:function(){var f=[],h=this;return m(D,function(i,l){h[l.cache]&&f.push(i)}),f.pop()},transition:function(h,H){var v=y(h),F=v._space(),p=D[F],G=this.alpha()===0?y("transparent"):this,o=G[p.cache]||p.to(G._rgba),u=o.slice();return v=v[p.cache],m(p.props,function(f,t){var l=t.idx,I=o[l],n=v[l],J=e[t.type]||{};if(n===null){return}I===null?u[l]=n:(J.mod&&(n-I>J.mod/2?I+=J.mod:I-n>J.mod/2&&(I-=J.mod)),u[l]=z((n-I)*H+I,t))}),this[F](u)},blend:function(f){if(this._rgba[3]===1){return this}var l=this._rgba.slice(),o=l.pop(),h=y(f)._rgba;return y(C.map(l,function(i,n){return(1-o)*h[n]+o*i}))},toRgbaString:function(){var f="rgba(",h=C.map(this._rgba,function(i,l){return i==null?l>2?1:0:i});return h[3]===1&&(h.pop(),f="rgb("),f+h.join()+")"},toHslaString:function(){var f="hsla(",h=C.map(this.hsla(),function(i,l){return i==null&&(i=l>2?1:0),l&&l<3&&(i=Math.round(i*100)+"%"),i});return h[3]===1&&(h.pop(),f="hsl("),f+h.join()+")"},toHexString:function(f){var h=this._rgba.slice(),i=h.pop();return f&&h.push(~~(i*255)),"#"+C.map(h,function(l){return l=(l||0).toString(16),l.length===1?"0"+l:l}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),y.fn.parse.prototype=y.fn,D.hsla.to=function(v){if(v[0]==null||v[1]==null||v[2]==null){return[null,null,null,v[3]]}var M=v[0]/255,I=v[1]/255,K=v[2]/255,G=v[3],L=Math.max(M,I,K),J=Math.min(M,I,K),N=L-J,h=L+J,F=h*0.5,H,p;return J===L?H=0:M===L?H=60*(I-K)/N+360:I===L?H=60*(K-M)/N+120:H=60*(M-I)/N+240,F===0||F===1?p=F:F<=0.5?p=N/h:p=N/(2-h),[Math.round(H)%360,p,F,G==null?1:G]},D.hsla.from=function(f){if(f[0]==null||f[1]==null||f[2]==null){return[null,null,null,f[3]]}var F=f[0]/360,l=f[1],u=f[2],h=f[3],v=u<=0.5?u*(1+l):u+l-u*l,p=2*u-v;return[Math.round(E(p,v,F+1/3)*255),Math.round(E(p,v,F)*255),Math.round(E(p,v,F-1/3)*255),h]},m(D,function(i,n){var o=n.props,p=n.cache,h=n.to,l=n.from;y.fn[i]=function(s){h&&!this[p]&&(this[p]=h(this._rgba));if(s===x){return this[p].slice()}var v,t=C.type(s),u=t==="array"||t==="object"?s:arguments,f=this[p].slice();return m(o,function(r,G){var F=u[t==="object"?r:G.idx];F==null&&(F=f[G.idx]),f[G.idx]=z(F,G)}),l?(v=y(l(f)),v[p]=f,v):y(f)},m(o,function(f,s){if(y.fn[f]){return}y.fn[f]=function(G){var F=C.type(G),H=f==="alpha"?this._hsla?"hsla":"rgba":i,r=this[H](),t=r[s.idx],v;return F==="undefined"?t:(F==="function"&&(G=G.call(this,t),F=C.type(G)),G==null&&s.empty?this:(F==="string"&&(v=q.exec(G),v&&(G=t+parseFloat(v[2])*(v[1]==="+"?1:-1))),r[s.idx]=G,this[H](r)))}})}),m(A,function(f,h){C.cssHooks[h]={set:function(o,v){var p,F,G="";if(C.type(v)!=="string"||(p=j(v))){v=y(p||v);if(!k.rgba&&v._rgba[3]!==1){F=h==="backgroundColor"?o.parentNode:o;while((G===""||G==="transparent")&&F&&F.style){try{G=C.css(F,"backgroundColor"),F=F.parentNode}catch(n){}}v=v.blend(G&&G!=="transparent"?G:"_default")}v=v.toRgbaString()}try{o.style[h]=v}catch(t){}}},C.fx.step[h]=function(i){i.colorInit||(i.start=y(i.elem,h),i.end=y(i.end),i.colorInit=!0),C.cssHooks[h].set(i.elem,i.start.transition(i.end,i.pos))}}),C.cssHooks.borderColor={expand:function(f){var h={};return m(["Top","Right","Bottom","Left"],function(i,l){h["border"+l+"Color"]=f}),h}},g=C.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function e(){var m=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,k={},l,j;if(m&&m.length&&m[0]&&m[m[0]]){j=m.length;while(j--){l=m[j],typeof m[l]=="string"&&(k[a.camelCase(l)]=m[l])}}else{for(l in m){typeof m[l]=="string"&&(k[l]=m[l])}}return k}function h(p,k){var j={},m,l;for(m in k){l=k[m],p[m]!==l&&!g[m]&&(a.fx.step[m]||!isNaN(parseFloat(l)))&&(j[m]=l)}return j}var f=["add","remove","toggle"],g={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(j,i){a.fx.step[i]=function(k){if(k.end!=="none"&&!k.setAttr||k.pos===1&&!k.setAttr){jQuery.style(k.elem,i,k.end),k.setAttr=!0}}}),a.effects.animateClass=function(l,k,j,m){var i=a.speed(k,j,m);return this.queue(function(){var q=a(this),p=q.attr("class")||"",s,n=i.children?q.find("*").andSelf():q;n=n.map(function(){var o=a(this);return{el:o,start:e.call(this)}}),s=function(){a.each(f,function(o,r){l[r]&&q[r+"Class"](l[r])})},s(),n=n.map(function(){return this.end=e.call(this.el[0]),this.diff=h(this.start,this.end),this}),q.attr("class",p),n=n.map(function(){var v=this,o=a.Deferred(),u=jQuery.extend({},i,{queue:!1,complete:function(){o.resolve(v)}});return this.el.animate(this.diff,u),o.promise()}),a.when.apply(a,n.get()).done(function(){s(),a.each(arguments,function(){var o=this.el;a.each(this.diff,function(r){o.css(r,"")})}),i.complete.call(q[0])})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(m,k,l,j){return k?a.effects.animateClass.call(this,{add:m},k,l,j):this._addClass(m)},_removeClass:a.fn.removeClass,removeClass:function(m,k,l,j){return k?a.effects.animateClass.call(this,{remove:m},k,l,j):this._removeClass(m)},_toggleClass:a.fn.toggleClass,toggleClass:function(k,m,j,p,l){return typeof m=="boolean"||m===d?j?a.effects.animateClass.call(this,m?{add:k}:{remove:k},j,p,l):this._toggleClass(k,m):a.effects.animateClass.call(this,{toggle:k},m,j,p)},switchClass:function(o,k,l,j,m){return a.effects.animateClass.call(this,{add:k,remove:o},l,j,m)}})}(),function(){function e(k,h,j,g){a.isPlainObject(k)&&(h=k,k=k.effect),k={effect:k},h==null&&(h={}),a.isFunction(h)&&(g=h,j=null,h={});if(typeof h=="number"||a.fx.speeds[h]){g=j,j=h,h={}}return a.isFunction(j)&&(g=j,j=null),h&&a.extend(k,h),j=j||h.duration,k.duration=a.fx.off?0:typeof j=="number"?j:j in a.fx.speeds?a.fx.speeds[j]:a.fx.speeds._default,k.complete=g||h.complete,k}function f(g){return !g||typeof g=="number"||a.fx.speeds[g]?!0:typeof g=="string"&&!a.effects.effect[g]?b&&a.effects[g]?!1:!0:!1}a.extend(a.effects,{version:"1.9.2",save:function(g,i){for(var h=0;h<i.length;h++){i[h]!==null&&g.data(c+i[h],g[0].style[i[h]])}},restore:function(g,j){var h,k;for(k=0;k<j.length;k++){j[k]!==null&&(h=g.data(c+j[k]),h===d&&(h=""),g.css(j[k],h))}},setMode:function(g,h){return h==="toggle"&&(h=g.is(":hidden")?"show":"hide"),h},getBaseline:function(g,j){var h,i;switch(g[0]){case"top":h=0;break;case"middle":h=0.5;break;case"bottom":h=1;break;default:h=g[0]/j.height}switch(g[1]){case"left":i=0;break;case"center":i=0.5;break;case"right":i=1;break;default:i=g[1]/j.width}return{x:i,y:h}},createWrapper:function(m){if(m.parent().is(".ui-effects-wrapper")){return m.parent()}var h={width:m.outerWidth(!0),height:m.outerHeight(!0),"float":m.css("float")},k=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),g={width:m.width(),height:m.height()},l=document.activeElement;try{l.id}catch(j){l=document.body}return m.wrap(k),(m[0]===l||a.contains(m[0],l))&&a(l).focus(),k=m.parent(),m.css("position")==="static"?(k.css({position:"relative"}),m.css({position:"relative"})):(a.extend(h,{position:m.css("position"),zIndex:m.css("z-index")}),a.each(["top","left","bottom","right"],function(i,n){h[n]=m.css(n),isNaN(parseInt(h[n],10))&&(h[n]="auto")}),m.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),m.css(g),k.css(h).show()},removeWrapper:function(h){var g=document.activeElement;return h.parent().is(".ui-effects-wrapper")&&(h.parent().replaceWith(h),(h[0]===g||a.contains(h[0],g))&&a(g).focus()),h},setTransition:function(k,h,j,g){return g=g||{},a.each(h,function(i,l){var m=k.cssUnit(l);m[0]>0&&(g[l]=m[0]*j+m[1])}),g}}),a.fn.extend({effect:function(){function g(o){function t(){a.isFunction(m)&&m.call(p[0]),a.isFunction(o)&&o()}var p=a(this),m=k.complete,q=k.mode;(p.is(":hidden")?q==="hide":q==="show")?t():h.call(p[0],k,t)}var k=e.apply(this,arguments),i=k.mode,j=k.queue,h=a.effects.effect[k.effect],l=!h&&b&&a.effects[k.effect];return a.fx.off||!h&&!l?i?this[i](k.duration,k.complete):this.each(function(){k.complete&&k.complete.call(this)}):h?j===!1?this.each(g):this.queue(j||"fx",g):l.call(this,{options:k,duration:k.duration,callback:k.complete,mode:k.mode})},_show:a.fn.show,show:function(g){if(f(g)){return this._show.apply(this,arguments)}var h=e.apply(this,arguments);return h.mode="show",this.effect.call(this,h)},_hide:a.fn.hide,hide:function(g){if(f(g)){return this._hide.apply(this,arguments)}var h=e.apply(this,arguments);return h.mode="hide",this.effect.call(this,h)},__toggle:a.fn.toggle,toggle:function(h){if(f(h)||typeof h=="boolean"||a.isFunction(h)){return this.__toggle.apply(this,arguments)}var g=e.apply(this,arguments);return g.mode="toggle",this.effect.call(this,g)},cssUnit:function(i){var g=this.css(i),h=[];return a.each(["em","px","%","pt"],function(j,k){g.indexOf(k)>0&&(h=[parseFloat(g),k])}),h}})}(),function(){var e={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(f,g){e[g]=function(h){return Math.pow(h,f+2)}}),a.extend(e,{Sine:function(f){return 1-Math.cos(f*Math.PI/2)},Circ:function(f){return 1-Math.sqrt(1-f*f)},Elastic:function(f){return f===0||f===1?f:-Math.pow(2,8*(f-1))*Math.sin(((f-1)*80-7.5)*Math.PI/15)},Back:function(f){return f*f*(3*f-2)},Bounce:function(f){var h,g=4;while(f<((h=Math.pow(2,--g))-1)/11){}return 1/Math.pow(4,3-g)-7.5625*Math.pow((h*3-2)/22-f,2)}}),a.each(e,function(g,f){a.easing["easeIn"+g]=f,a.easing["easeOut"+g]=function(h){return 1-f(1-h)},a.easing["easeInOut"+g]=function(h){return h<0.5?f(h*2)/2:1-f(h*-2+2)/2}})}()}(jQuery);(function(a,d){var b=/up|down|vertical/,c=/up|left|vertical|horizontal/;a.effects.effect.blind=function(C,w){var B=a(this),z=["position","top","bottom","left","right","height","width"],D=a.effects.setMode(B,C.mode||"hide"),e=C.direction||"up",n=b.test(e),x=n?"height":"width",j=n?"top":"left",r=c.test(e),A={},k=D==="show",E,y,q;B.parent().is(".ui-effects-wrapper")?a.effects.save(B.parent(),z):a.effects.save(B,z),B.show(),E=a.effects.createWrapper(B).css({overflow:"hidden"}),y=E[x](),q=parseFloat(E.css(j))||0,A[x]=k?y:0,r||(B.css(n?"bottom":"right",0).css(n?"top":"left","auto").css({position:"absolute"}),A[j]=k?q:y+q),k&&(E.css(x,0),r||E.css(j,q+y)),E.animate(A,{duration:C.duration,easing:C.easing,queue:!1,complete:function(){D==="hide"&&B.hide(),a.effects.restore(B,z),a.effects.removeWrapper(B),w()}})}})(jQuery);(function(a,b){a.effects.effect.bounce=function(J,E){var H=a(this),B=["position","top","bottom","left","right","height","width"],I=a.effects.setMode(H,J.mode||"effect"),F=I==="hide",K=I==="show",e=J.direction||"up",x=J.distance,C=J.times||5,k=C*2+(K||F?1:0),A=J.duration/k,G=J.easing,q=e==="up"||e==="down"?"top":"left",L=e==="up"||e==="left",D,z,N,j=H.queue(),M=j.length;(K||F)&&B.push("opacity"),a.effects.save(H,B),H.show(),a.effects.createWrapper(H),x||(x=H[q==="top"?"outerHeight":"outerWidth"]()/3),K&&(N={opacity:1},N[q]=0,H.css("opacity",0).css(q,L?-x*2:x*2).animate(N,A,G)),F&&(x/=Math.pow(2,C-1)),N={},N[q]=0;for(D=0;D<C;D++){z={},z[q]=(L?"-=":"+=")+x,H.animate(z,A,G).animate(N,A,G),x=F?x*2:x/2}F&&(z={opacity:0},z[q]=(L?"-=":"+=")+x,H.animate(z,A,G)),H.queue(function(){F&&H.hide(),a.effects.restore(H,B),a.effects.removeWrapper(H),E()}),M>1&&j.splice.apply(j,[1,0].concat(j.splice(M,k+1))),H.dequeue()}})(jQuery);(function(a,b){a.effects.effect.clip=function(B,w){var z=a(this),q=["position","top","bottom","left","right","height","width"],A=a.effects.setMode(z,B.mode||"hide"),x=A==="show",C=B.direction||"vertical",e=C==="vertical",k=e?"height":"width",v=e?"top":"left",g={},m,y,j;a.effects.save(z,q),z.show(),m=a.effects.createWrapper(z).css({overflow:"hidden"}),y=z[0].tagName==="IMG"?m:z,j=y[k](),x&&(y.css(k,0),y.css(v,j/2)),g[k]=x?j:0,g[v]=x?0:j/2,y.animate(g,{queue:!1,duration:B.duration,easing:B.easing,complete:function(){x||z.hide(),a.effects.restore(z,q),a.effects.removeWrapper(z),w()}})}})(jQuery);(function(a,b){a.effects.effect.drop=function(v,k){var p=a(this),h=["position","top","bottom","left","right","opacity","height","width"],q=a.effects.setMode(p,v.mode||"hide"),m=q==="show",w=v.direction||"left",d=w==="up"||w==="down"?"top":"left",g=w==="up"||w==="left"?"pos":"neg",j={opacity:m?1:0},e;a.effects.save(p,h),p.show(),a.effects.createWrapper(p),e=v.distance||p[d==="top"?"outerHeight":"outerWidth"](!0)/2,m&&p.css("opacity",0).css(d,g==="pos"?-e:e),j[d]=(m?g==="pos"?"+=":"-=":g==="pos"?"-=":"+=")+e,p.animate(j,{queue:!1,duration:v.duration,easing:v.easing,complete:function(){q==="hide"&&p.hide(),a.effects.restore(p,h),a.effects.removeWrapper(p),k()}})}})(jQuery);(function(a,b){a.effects.effect.explode=function(I,D){function L(){k.push(this),k.length===G*A&&j()}function j(){H.css({visibility:"visible"}),a(k).remove(),J||H.hide(),D()}var G=I.pieces?Math.round(Math.sqrt(I.pieces)):3,A=G,H=a(this),E=a.effects.setMode(H,I.mode||"hide"),J=E==="show",e=H.show().css("visibility","hidden").offset(),w=Math.ceil(H.outerWidth()/A),B=Math.ceil(H.outerHeight()/G),k=[],z,F,q,K,C,x;for(z=0;z<G;z++){K=e.top+z*B,x=z-(G-1)/2;for(F=0;F<A;F++){q=e.left+F*w,C=F-(A-1)/2,H.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-F*w,top:-z*B}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:w,height:B,left:q+(J?C*w:0),top:K+(J?x*B:0),opacity:J?0:1}).animate({left:q+(J?0:C*w),top:K+(J?0:x*B),opacity:J?1:0},I.duration||500,I.easing,L)}}}})(jQuery);(function(a,b){a.effects.effect.fade=function(f,d){var e=a(this),c=a.effects.setMode(e,f.mode||"toggle");e.animate({opacity:c},{queue:!1,duration:f.duration,easing:f.easing,complete:d})}})(jQuery);(function(a,b){a.effects.effect.fold=function(G,B){var E=a(this),y=["position","top","bottom","left","right","height","width"],F=a.effects.setMode(E,G.mode||"hide"),C=F==="show",H=F==="hide",e=G.size||15,q=/([0-9]+)%/.exec(e),z=!!G.horizFirst,j=C!==z,x=j?["width","height"]:["height","width"],D=G.duration/2,k,I,A={},w={};a.effects.save(E,y),E.show(),k=a.effects.createWrapper(E).css({overflow:"hidden"}),I=j?[k.width(),k.height()]:[k.height(),k.width()],q&&(e=parseInt(q[1],10)/100*I[H?0:1]),C&&k.css(z?{height:0,width:e}:{height:e,width:0}),A[x[0]]=C?I[0]:e,w[x[1]]=C?I[1]:0,k.animate(A,D,G.easing).animate(w,D,G.easing,function(){H&&E.hide(),a.effects.restore(E,y),a.effects.removeWrapper(E),B()})}})(jQuery);(function(a,b){a.effects.effect.highlight=function(h,d){var f=a(this),c=["backgroundImage","backgroundColor","opacity"],g=a.effects.setMode(f,h.mode||"show"),e={backgroundColor:f.css("backgroundColor")};g==="hide"&&(e.opacity=0),a.effects.save(f,c),f.show().css({backgroundImage:"none",backgroundColor:h.color||"#ffff99"}).animate(e,{queue:!1,duration:h.duration,easing:h.easing,complete:function(){g==="hide"&&f.hide(),a.effects.restore(f,c),d()}})}})(jQuery);(function(a,b){a.effects.effect.pulsate=function(z,q){var x=a(this),k=a.effects.setMode(x,z.mode||"show"),y=k==="show",v=k==="hide",A=y||k==="hide",d=(z.times||5)*2+(A?1:0),g=z.duration/d,m=0,e=x.queue(),j=e.length,w;if(y||!x.is(":visible")){x.css("opacity",0).show(),m=1}for(w=1;w<d;w++){x.animate({opacity:m},g,z.easing),m=1-m}x.animate({opacity:m},g,z.easing),x.queue(function(){v&&x.hide(),q()}),j>1&&e.splice.apply(e,[1,0].concat(e.splice(j,d+1))),x.dequeue()}})(jQuery);(function(a,b){a.effects.effect.puff=function(j,e){var g=a(this),d=a.effects.setMode(g,j.mode||"hide"),h=d==="hide",f=parseInt(j.percent,10)||150,k=f/100,c={height:g.height(),width:g.width(),outerHeight:g.outerHeight(),outerWidth:g.outerWidth()};a.extend(j,{effect:"scale",queue:!1,fade:!0,mode:d,complete:e,percent:h?f:100,from:h?c:{height:c.height*k,width:c.width*k,outerHeight:c.outerHeight*k,outerWidth:c.outerWidth*k}}),g.effect(j)},a.effects.effect.scale=function(p,h){var k=a(this),e=a.extend(!0,{},p),m=a.effects.setMode(k,p.mode||"effect"),j=parseInt(p.percent,10)||(parseInt(p.percent,10)===0?0:m==="hide"?0:100),q=p.direction||"both",c=p.origin,d={height:k.height(),width:k.width(),outerHeight:k.outerHeight(),outerWidth:k.outerWidth()},g={y:q!=="horizontal"?j/100:1,x:q!=="vertical"?j/100:1};e.effect="size",e.queue=!1,e.complete=h,m!=="effect"&&(e.origin=c||["middle","center"],e.restore=!0),e.from=p.from||(m==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:d),e.to={height:d.height*g.y,width:d.width*g.x,outerHeight:d.outerHeight*g.y,outerWidth:d.outerWidth*g.x},e.fade&&(m==="show"&&(e.from.opacity=0,e.to.opacity=1),m==="hide"&&(e.from.opacity=1,e.to.opacity=0)),k.effect(e)},a.effects.effect.size=function(I,D){var G,A,H,E=a(this),J=["position","top","bottom","left","right","width","height","overflow","opacity"],e=["position","top","bottom","left","right","overflow","opacity"],w=["width","height","overflow"],B=["fontSize"],k=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],z=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],F=a.effects.setMode(E,I.mode||"effect"),q=I.restore||F!=="effect",K=I.scale||"both",C=I.origin||["middle","center"],x=E.css("position"),L=q?J:e,j={height:0,width:0,outerHeight:0,outerWidth:0};F==="show"&&E.show(),G={height:E.height(),width:E.width(),outerHeight:E.outerHeight(),outerWidth:E.outerWidth()},I.mode==="toggle"&&F==="show"?(E.from=I.to||j,E.to=I.from||G):(E.from=I.from||(F==="show"?j:G),E.to=I.to||(F==="hide"?j:G)),H={from:{y:E.from.height/G.height,x:E.from.width/G.width},to:{y:E.to.height/G.height,x:E.to.width/G.width}};if(K==="box"||K==="both"){H.from.y!==H.to.y&&(L=L.concat(k),E.from=a.effects.setTransition(E,k,H.from.y,E.from),E.to=a.effects.setTransition(E,k,H.to.y,E.to)),H.from.x!==H.to.x&&(L=L.concat(z),E.from=a.effects.setTransition(E,z,H.from.x,E.from),E.to=a.effects.setTransition(E,z,H.to.x,E.to))}(K==="content"||K==="both")&&H.from.y!==H.to.y&&(L=L.concat(B).concat(w),E.from=a.effects.setTransition(E,B,H.from.y,E.from),E.to=a.effects.setTransition(E,B,H.to.y,E.to)),a.effects.save(E,L),E.show(),a.effects.createWrapper(E),E.css("overflow","hidden").css(E.from),C&&(A=a.effects.getBaseline(C,G),E.from.top=(G.outerHeight-E.outerHeight())*A.y,E.from.left=(G.outerWidth-E.outerWidth())*A.x,E.to.top=(G.outerHeight-E.to.outerHeight)*A.y,E.to.left=(G.outerWidth-E.to.outerWidth)*A.x),E.css(E.from);if(K==="content"||K==="both"){k=k.concat(["marginTop","marginBottom"]).concat(B),z=z.concat(["marginLeft","marginRight"]),w=J.concat(k).concat(z),E.find("*[width]").each(function(){var c=a(this),d={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};q&&a.effects.save(c,w),c.from={height:d.height*H.from.y,width:d.width*H.from.x,outerHeight:d.outerHeight*H.from.y,outerWidth:d.outerWidth*H.from.x},c.to={height:d.height*H.to.y,width:d.width*H.to.x,outerHeight:d.height*H.to.y,outerWidth:d.width*H.to.x},H.from.y!==H.to.y&&(c.from=a.effects.setTransition(c,k,H.from.y,c.from),c.to=a.effects.setTransition(c,k,H.to.y,c.to)),H.from.x!==H.to.x&&(c.from=a.effects.setTransition(c,z,H.from.x,c.from),c.to=a.effects.setTransition(c,z,H.to.x,c.to)),c.css(c.from),c.animate(c.to,I.duration,I.easing,function(){q&&a.effects.restore(c,w)})})}E.animate(E.to,{queue:!1,duration:I.duration,easing:I.easing,complete:function(){E.to.opacity===0&&E.css("opacity",E.from.opacity),F==="hide"&&E.hide(),a.effects.restore(E,L),q||(x==="static"?E.css({position:"relative",top:E.to.top,left:E.to.left}):a.each(["top","left"],function(c,d){E.css(d,function(l,g){var h=parseInt(g,10),f=c?E.to.left:E.to.top;return g==="auto"?f+"px":h+f+"px"})})),a.effects.removeWrapper(E),D()}})}})(jQuery);(function(a,b){a.effects.effect.shake=function(H,C){var F=a(this),z=["position","top","bottom","left","right","height","width"],G=a.effects.setMode(F,H.mode||"effect"),D=H.direction||"left",I=H.distance||20,e=H.times||3,q=e*2+1,A=Math.round(H.duration/q),j=D==="up"||D==="down"?"top":"left",x=D==="up"||D==="left",E={},k={},J={},B,w=F.queue(),K=w.length;a.effects.save(F,z),F.show(),a.effects.createWrapper(F),E[j]=(x?"-=":"+=")+I,k[j]=(x?"+=":"-=")+I*2,J[j]=(x?"-=":"+=")+I*2,F.animate(E,A,H.easing);for(B=1;B<e;B++){F.animate(k,A,H.easing).animate(J,A,H.easing)}F.animate(k,A,H.easing).animate(E,A/2,H.easing).queue(function(){G==="hide"&&F.hide(),a.effects.restore(F,z),a.effects.removeWrapper(F),C()}),K>1&&w.splice.apply(w,[1,0].concat(w.splice(K,q+1))),F.dequeue()}})(jQuery);(function(a,b){a.effects.effect.slide=function(v,k){var p=a(this),h=["position","top","bottom","left","right","width","height"],q=a.effects.setMode(p,v.mode||"show"),m=q==="show",w=v.direction||"left",d=w==="up"||w==="down"?"top":"left",g=w==="up"||w==="left",j,e={};a.effects.save(p,h),p.show(),j=v.distance||p[d==="top"?"outerHeight":"outerWidth"](!0),a.effects.createWrapper(p).css({overflow:"hidden"}),m&&p.css(d,g?isNaN(j)?"-"+j:-j:j),e[d]=(m?g?"+=":"-=":g?"-=":"+=")+j,p.animate(e,{queue:!1,duration:v.duration,easing:v.easing,complete:function(){q==="hide"&&p.hide(),a.effects.restore(p,h),a.effects.removeWrapper(p),k()}})}})(jQuery);(function(a,b){a.effects.effect.transfer=function(x,p){var v=a(this),k=a(x.to),w=k.css("position")==="fixed",q=a("body"),y=w?q.scrollTop():0,d=w?q.scrollLeft():0,g=k.offset(),m={top:g.top-y,left:g.left-d,height:k.innerHeight(),width:k.innerWidth()},e=v.offset(),j=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(x.className).css({top:e.top-y,left:e.left-d,height:v.innerHeight(),width:v.innerWidth(),position:w?"fixed":"absolute"}).animate(m,x.duration,x.easing,function(){j.remove(),p()})}})(jQuery);(function($){$.extend($.ui,{timepicker:{version:"0.9.9"}});function Timepicker(){this.regional=[];this.regional[""]={currentText:"Now",closeText:"Done",ampm:false,amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"hh:mm tt",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone"};this._defaults={showButtonPanel:true,timeOnly:false,showHour:true,showMinute:true,showSecond:false,showMillisec:false,showTimezone:false,showTime:true,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,hour:0,minute:0,second:0,millisec:0,timezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:true,separator:" ",altFieldTimeOnly:true,showTimepicker:true,timezoneIso8609:false,timezoneList:null,addSliderAccess:false,sliderAccessArgs:null};$.extend(this._defaults,this.regional[""])}$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this},_newInst:function($input,o){var tp_inst=new Timepicker(),inlineSettings={};for(var attrName in this._defaults){var attrValue=$input.attr("time:"+attrName);if(attrValue){try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}tp_inst._defaults=$.extend({},this._defaults,inlineSettings,o,{beforeShow:function(input,dp_inst){if($.isFunction(o.beforeShow)){return o.beforeShow(input,dp_inst,tp_inst)}},onChangeMonthYear:function(year,month,dp_inst){tp_inst._updateDateTime(dp_inst);if($.isFunction(o.onChangeMonthYear)){o.onChangeMonthYear.call($input[0],year,month,dp_inst,tp_inst)}},onClose:function(dateText,dp_inst){if(tp_inst.timeDefined===true&&$input.val()!=""){tp_inst._updateDateTime(dp_inst)}if($.isFunction(o.onClose)){o.onClose.call($input[0],dateText,dp_inst,tp_inst)}},timepicker:tp_inst});tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(val){return val.toUpperCase()});tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(val){return val.toUpperCase()});if(tp_inst._defaults.timezoneList===null){var timezoneList=[];for(var i=-11;i<=12;i++){timezoneList.push((i>=0?"+":"-")+("0"+Math.abs(i).toString()).slice(-2)+"00")}if(tp_inst._defaults.timezoneIso8609){timezoneList=$.map(timezoneList,function(val){return val=="+0000"?"Z":(val.substring(0,3)+":"+val.substring(3))})}tp_inst._defaults.timezoneList=timezoneList}tp_inst.hour=tp_inst._defaults.hour;tp_inst.minute=tp_inst._defaults.minute;tp_inst.second=tp_inst._defaults.second;tp_inst.millisec=tp_inst._defaults.millisec;tp_inst.ampm="";tp_inst.$input=$input;if(o.altField){tp_inst.$altInput=$(o.altField).css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})}if(tp_inst._defaults.minDate==0||tp_inst._defaults.minDateTime==0){tp_inst._defaults.minDate=new Date()}if(tp_inst._defaults.maxDate==0||tp_inst._defaults.maxDateTime==0){tp_inst._defaults.maxDate=new Date()}if(tp_inst._defaults.minDate!==undefined&&tp_inst._defaults.minDate instanceof Date){tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())}if(tp_inst._defaults.minDateTime!==undefined&&tp_inst._defaults.minDateTime instanceof Date){tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())}if(tp_inst._defaults.maxDate!==undefined&&tp_inst._defaults.maxDate instanceof Date){tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())}if(tp_inst._defaults.maxDateTime!==undefined&&tp_inst._defaults.maxDateTime instanceof Date){tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())}return tp_inst},_addTimePicker:function(dp_inst){var currDT=(this.$altInput&&this._defaults.altFieldTimeOnly)?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(currDT);this._limitMinMaxDateTime(dp_inst,false);this._injectTimePicker()},_parseTime:function(timeString,withDate){var regstr=this._defaults.timeFormat.toString().replace(/h{1,2}/ig,"(\\d?\\d)").replace(/m{1,2}/ig,"(\\d?\\d)").replace(/s{1,2}/ig,"(\\d?\\d)").replace(/l{1}/ig,"(\\d?\\d?\\d)").replace(/t{1,2}/ig,this._getPatternAmpm()).replace(/z{1}/ig,"(z|[-+]\\d\\d:?\\d\\d)?").replace(/\s/g,"\\s?")+this._defaults.timeSuffix+"$",order=this._getFormatPositions(),ampm="",treg;if(!this.inst){this.inst=$.datepicker._getInst(this.$input[0])}if(withDate||!this._defaults.timeOnly){var dp_dateFormat=$.datepicker._get(this.inst,"dateFormat");var specials=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");regstr="^.{"+dp_dateFormat.length+",}?"+this._defaults.separator.replace(specials,"\\$&")+regstr}treg=timeString.match(new RegExp(regstr,"i"));if(treg){if(order.t!==-1){if(treg[order.t]===undefined||treg[order.t].length===0){ampm="";this.ampm=""}else{ampm=$.inArray(treg[order.t].toUpperCase(),this.amNames)!==-1?"AM":"PM";this.ampm=this._defaults[ampm=="AM"?"amNames":"pmNames"][0]}}if(order.h!==-1){if(ampm=="AM"&&treg[order.h]=="12"){this.hour=0}else{if(ampm=="PM"&&treg[order.h]!="12"){this.hour=(parseFloat(treg[order.h])+12).toFixed(0)}else{this.hour=Number(treg[order.h])}}}if(order.m!==-1){this.minute=Number(treg[order.m])}if(order.s!==-1){this.second=Number(treg[order.s])}if(order.l!==-1){this.millisec=Number(treg[order.l])}if(order.z!==-1&&treg[order.z]!==undefined){var tz=treg[order.z].toUpperCase();switch(tz.length){case 1:tz=this._defaults.timezoneIso8609?"Z":"+0000";break;case 5:if(this._defaults.timezoneIso8609){tz=tz.substring(1)=="0000"?"Z":tz.substring(0,3)+":"+tz.substring(3)}break;case 6:if(!this._defaults.timezoneIso8609){tz=tz=="Z"||tz.substring(1)=="00:00"?"+0000":tz.replace(/:/,"")}else{if(tz.substring(1)=="00:00"){tz="Z"}}break}this.timezone=tz}return true}return false},_getPatternAmpm:function(){var markers=[];o=this._defaults;if(o.amNames){$.merge(markers,o.amNames)}if(o.pmNames){$.merge(markers,o.pmNames)}markers=$.map(markers,function(val){return val.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")});return"("+markers.join("|")+")?"},_getFormatPositions:function(){var finds=this._defaults.timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z)/g),orders={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1};if(finds){for(var i=0;i<finds.length;i++){if(orders[finds[i].toString().charAt(0)]==-1){orders[finds[i].toString().charAt(0)]=i+1}}}return orders},_injectTimePicker:function(){var $dp=this.inst.dpDiv,o=this._defaults,tp_inst=this,hourMax=parseInt((o.hourMax-((o.hourMax-o.hourMin)%o.stepHour)),10),minMax=parseInt((o.minuteMax-((o.minuteMax-o.minuteMin)%o.stepMinute)),10),secMax=parseInt((o.secondMax-((o.secondMax-o.secondMin)%o.stepSecond)),10),millisecMax=parseInt((o.millisecMax-((o.millisecMax-o.millisecMin)%o.stepMillisec)),10),dp_id=this.inst.id.toString().replace(/([^A-Za-z0-9_])/g,"");if($dp.find("div#ui-timepicker-div-"+dp_id).length===0&&o.showTimepicker){var noDisplay=' style="display:none;"',html='<div class="ui-timepicker-div" id="ui-timepicker-div-'+dp_id+'"><dl><dt class="ui_tpicker_time_label" id="ui_tpicker_time_label_'+dp_id+'"'+((o.showTime)?"":noDisplay)+">"+o.timeText+'</dt><dd class="ui_tpicker_time" id="ui_tpicker_time_'+dp_id+'"'+((o.showTime)?"":noDisplay)+'></dd><dt class="ui_tpicker_hour_label" id="ui_tpicker_hour_label_'+dp_id+'"'+((o.showHour)?"":noDisplay)+">"+o.hourText+"</dt>",hourGridSize=0,minuteGridSize=0,secondGridSize=0,millisecGridSize=0,size;html+='<dd class="ui_tpicker_hour"><div id="ui_tpicker_hour_'+dp_id+'"'+((o.showHour)?"":noDisplay)+"></div>";if(o.showHour&&o.hourGrid>0){html+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(var h=o.hourMin;h<=hourMax;h+=parseInt(o.hourGrid,10)){hourGridSize++;var tmph=(o.ampm&&h>12)?h-12:h;if(tmph<10){tmph="0"+tmph}if(o.ampm){if(h==0){tmph=12+"a"}else{if(h<12){tmph+="a"}else{tmph+="p"}}}html+="<td>"+tmph+"</td>"}html+="</tr></table></div>"}html+="</dd>";html+='<dt class="ui_tpicker_minute_label" id="ui_tpicker_minute_label_'+dp_id+'"'+((o.showMinute)?"":noDisplay)+">"+o.minuteText+'</dt><dd class="ui_tpicker_minute"><div id="ui_tpicker_minute_'+dp_id+'"'+((o.showMinute)?"":noDisplay)+"></div>";if(o.showMinute&&o.minuteGrid>0){html+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(var m=o.minuteMin;m<=minMax;m+=parseInt(o.minuteGrid,10)){minuteGridSize++;html+="<td>"+((m<10)?"0":"")+m+"</td>"}html+="</tr></table></div>"}html+="</dd>";html+='<dt class="ui_tpicker_second_label" id="ui_tpicker_second_label_'+dp_id+'"'+((o.showSecond)?"":noDisplay)+">"+o.secondText+'</dt><dd class="ui_tpicker_second"><div id="ui_tpicker_second_'+dp_id+'"'+((o.showSecond)?"":noDisplay)+"></div>";if(o.showSecond&&o.secondGrid>0){html+='<div style="padding-left: 1px"><table><tr>';for(var s=o.secondMin;s<=secMax;s+=parseInt(o.secondGrid,10)){secondGridSize++;html+="<td>"+((s<10)?"0":"")+s+"</td>"}html+="</tr></table></div>"}html+="</dd>";html+='<dt class="ui_tpicker_millisec_label" id="ui_tpicker_millisec_label_'+dp_id+'"'+((o.showMillisec)?"":noDisplay)+">"+o.millisecText+'</dt><dd class="ui_tpicker_millisec"><div id="ui_tpicker_millisec_'+dp_id+'"'+((o.showMillisec)?"":noDisplay)+"></div>";if(o.showMillisec&&o.millisecGrid>0){html+='<div style="padding-left: 1px"><table><tr>';for(var l=o.millisecMin;l<=millisecMax;l+=parseInt(o.millisecGrid,10)){millisecGridSize++;html+="<td>"+((l<10)?"0":"")+l+"</td>"}html+="</tr></table></div>"}html+="</dd>";html+='<dt class="ui_tpicker_timezone_label" id="ui_tpicker_timezone_label_'+dp_id+'"'+((o.showTimezone)?"":noDisplay)+">"+o.timezoneText+"</dt>";html+='<dd class="ui_tpicker_timezone" id="ui_tpicker_timezone_'+dp_id+'"'+((o.showTimezone)?"":noDisplay)+"></dd>";html+="</dl></div>";$tp=$(html);if(o.timeOnly===true){$tp.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+o.timeOnlyTitle+"</div></div>");$dp.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()}this.hour_slider=$tp.find("#ui_tpicker_hour_"+dp_id).slider({orientation:"horizontal",value:this.hour,min:o.hourMin,max:hourMax,step:o.stepHour,slide:function(event,ui){tp_inst.hour_slider.slider("option","value",ui.value);tp_inst._onTimeChange()}});this.minute_slider=$tp.find("#ui_tpicker_minute_"+dp_id).slider({orientation:"horizontal",value:this.minute,min:o.minuteMin,max:minMax,step:o.stepMinute,slide:function(event,ui){tp_inst.minute_slider.slider("option","value",ui.value);tp_inst._onTimeChange()}});this.second_slider=$tp.find("#ui_tpicker_second_"+dp_id).slider({orientation:"horizontal",value:this.second,min:o.secondMin,max:secMax,step:o.stepSecond,slide:function(event,ui){tp_inst.second_slider.slider("option","value",ui.value);tp_inst._onTimeChange()}});this.millisec_slider=$tp.find("#ui_tpicker_millisec_"+dp_id).slider({orientation:"horizontal",value:this.millisec,min:o.millisecMin,max:millisecMax,step:o.stepMillisec,slide:function(event,ui){tp_inst.millisec_slider.slider("option","value",ui.value);tp_inst._onTimeChange()}});this.timezone_select=$tp.find("#ui_tpicker_timezone_"+dp_id).append("<select></select>").find("select");$.fn.append.apply(this.timezone_select,$.map(o.timezoneList,function(val,idx){return $("<option />").val(typeof val=="object"?val.value:val).text(typeof val=="object"?val.label:val)}));this.timezone_select.val((typeof this.timezone!="undefined"&&this.timezone!=null&&this.timezone!="")?this.timezone:o.timezone);this.timezone_select.change(function(){tp_inst._onTimeChange()});if(o.showHour&&o.hourGrid>0){size=100*hourGridSize*o.hourGrid/(hourMax-o.hourMin);$tp.find(".ui_tpicker_hour table").css({width:size+"%",marginLeft:(size/(-2*hourGridSize))+"%",borderCollapse:"collapse"}).find("td").each(function(index){$(this).click(function(){var h=$(this).html();if(o.ampm){var ap=h.substring(2).toLowerCase(),aph=parseInt(h.substring(0,2),10);if(ap=="a"){if(aph==12){h=0}else{h=aph}}else{if(aph==12){h=12}else{h=aph+12}}}tp_inst.hour_slider.slider("option","value",h);tp_inst._onTimeChange();tp_inst._onSelectHandler()}).css({cursor:"pointer",width:(100/hourGridSize)+"%",textAlign:"center",overflow:"hidden"})})}if(o.showMinute&&o.minuteGrid>0){size=100*minuteGridSize*o.minuteGrid/(minMax-o.minuteMin);$tp.find(".ui_tpicker_minute table").css({width:size+"%",marginLeft:(size/(-2*minuteGridSize))+"%",borderCollapse:"collapse"}).find("td").each(function(index){$(this).click(function(){tp_inst.minute_slider.slider("option","value",$(this).html());tp_inst._onTimeChange();tp_inst._onSelectHandler()}).css({cursor:"pointer",width:(100/minuteGridSize)+"%",textAlign:"center",overflow:"hidden"})})}if(o.showSecond&&o.secondGrid>0){$tp.find(".ui_tpicker_second table").css({width:size+"%",marginLeft:(size/(-2*secondGridSize))+"%",borderCollapse:"collapse"}).find("td").each(function(index){$(this).click(function(){tp_inst.second_slider.slider("option","value",$(this).html());tp_inst._onTimeChange();tp_inst._onSelectHandler()}).css({cursor:"pointer",width:(100/secondGridSize)+"%",textAlign:"center",overflow:"hidden"})})}if(o.showMillisec&&o.millisecGrid>0){$tp.find(".ui_tpicker_millisec table").css({width:size+"%",marginLeft:(size/(-2*millisecGridSize))+"%",borderCollapse:"collapse"}).find("td").each(function(index){$(this).click(function(){tp_inst.millisec_slider.slider("option","value",$(this).html());tp_inst._onTimeChange();tp_inst._onSelectHandler()}).css({cursor:"pointer",width:(100/millisecGridSize)+"%",textAlign:"center",overflow:"hidden"})})}var $buttonPanel=$dp.find(".ui-datepicker-buttonpane");if($buttonPanel.length){$buttonPanel.before($tp)}else{$dp.append($tp)}this.$timeObj=$tp.find("#ui_tpicker_time_"+dp_id);if(this.inst!==null){var timeDefined=this.timeDefined;this._onTimeChange();this.timeDefined=timeDefined}var onSelectDelegate=function(){tp_inst._onSelectHandler()};this.hour_slider.bind("slidestop",onSelectDelegate);this.minute_slider.bind("slidestop",onSelectDelegate);this.second_slider.bind("slidestop",onSelectDelegate);this.millisec_slider.bind("slidestop",onSelectDelegate);if(this._defaults.addSliderAccess){var sliderAccessArgs=this._defaults.sliderAccessArgs;setTimeout(function(){if($tp.find(".ui-slider-access").length==0){$tp.find(".ui-slider:visible").sliderAccess(sliderAccessArgs);var sliderAccessWidth=$tp.find(".ui-slider-access:eq(0)").outerWidth(true);if(sliderAccessWidth){$tp.find("table:visible").each(function(){var $g=$(this),oldWidth=$g.outerWidth(),oldMarginLeft=$g.css("marginLeft").toString().replace("%",""),newWidth=oldWidth-sliderAccessWidth,newMarginLeft=((oldMarginLeft*newWidth)/oldWidth)+"%";$g.css({width:newWidth,marginLeft:newMarginLeft})})}}},0)}}},_limitMinMaxDateTime:function(dp_inst,adjustSliders){var o=this._defaults,dp_date=new Date(dp_inst.selectedYear,dp_inst.selectedMonth,dp_inst.selectedDay);if(!this._defaults.showTimepicker){return}if($.datepicker._get(dp_inst,"minDateTime")!==null&&$.datepicker._get(dp_inst,"minDateTime")!==undefined&&dp_date){var minDateTime=$.datepicker._get(dp_inst,"minDateTime"),minDateTimeDate=new Date(minDateTime.getFullYear(),minDateTime.getMonth(),minDateTime.getDate(),0,0,0,0);if(this.hourMinOriginal===null||this.minuteMinOriginal===null||this.secondMinOriginal===null||this.millisecMinOriginal===null){this.hourMinOriginal=o.hourMin;this.minuteMinOriginal=o.minuteMin;this.secondMinOriginal=o.secondMin;this.millisecMinOriginal=o.millisecMin}if(dp_inst.settings.timeOnly||minDateTimeDate.getTime()==dp_date.getTime()){this._defaults.hourMin=minDateTime.getHours();if(this.hour<=this._defaults.hourMin){this.hour=this._defaults.hourMin;this._defaults.minuteMin=minDateTime.getMinutes();if(this.minute<=this._defaults.minuteMin){this.minute=this._defaults.minuteMin;this._defaults.secondMin=minDateTime.getSeconds()}else{if(this.second<=this._defaults.secondMin){this.second=this._defaults.secondMin;this._defaults.millisecMin=minDateTime.getMilliseconds()}else{if(this.millisec<this._defaults.millisecMin){this.millisec=this._defaults.millisecMin}this._defaults.millisecMin=this.millisecMinOriginal}}}else{this._defaults.minuteMin=this.minuteMinOriginal;this._defaults.secondMin=this.secondMinOriginal;this._defaults.millisecMin=this.millisecMinOriginal}}else{this._defaults.hourMin=this.hourMinOriginal;this._defaults.minuteMin=this.minuteMinOriginal;this._defaults.secondMin=this.secondMinOriginal;this._defaults.millisecMin=this.millisecMinOriginal}}if($.datepicker._get(dp_inst,"maxDateTime")!==null&&$.datepicker._get(dp_inst,"maxDateTime")!==undefined&&dp_date){var maxDateTime=$.datepicker._get(dp_inst,"maxDateTime"),maxDateTimeDate=new Date(maxDateTime.getFullYear(),maxDateTime.getMonth(),maxDateTime.getDate(),0,0,0,0);if(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||this.secondMaxOriginal===null){this.hourMaxOriginal=o.hourMax;this.minuteMaxOriginal=o.minuteMax;this.secondMaxOriginal=o.secondMax;this.millisecMaxOriginal=o.millisecMax}if(dp_inst.settings.timeOnly||maxDateTimeDate.getTime()==dp_date.getTime()){this._defaults.hourMax=maxDateTime.getHours();if(this.hour>=this._defaults.hourMax){this.hour=this._defaults.hourMax;this._defaults.minuteMax=maxDateTime.getMinutes();if(this.minute>=this._defaults.minuteMax){this.minute=this._defaults.minuteMax;this._defaults.secondMax=maxDateTime.getSeconds()}else{if(this.second>=this._defaults.secondMax){this.second=this._defaults.secondMax;this._defaults.millisecMax=maxDateTime.getMilliseconds()}else{if(this.millisec>this._defaults.millisecMax){this.millisec=this._defaults.millisecMax}this._defaults.millisecMax=this.millisecMaxOriginal}}}else{this._defaults.minuteMax=this.minuteMaxOriginal;this._defaults.secondMax=this.secondMaxOriginal;this._defaults.millisecMax=this.millisecMaxOriginal}}else{this._defaults.hourMax=this.hourMaxOriginal;this._defaults.minuteMax=this.minuteMaxOriginal;this._defaults.secondMax=this.secondMaxOriginal;this._defaults.millisecMax=this.millisecMaxOriginal}}if(adjustSliders!==undefined&&adjustSliders===true){var hourMax=parseInt((this._defaults.hourMax-((this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour)),10),minMax=parseInt((this._defaults.minuteMax-((this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute)),10),secMax=parseInt((this._defaults.secondMax-((this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond)),10),millisecMax=parseInt((this._defaults.millisecMax-((this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec)),10);if(this.hour_slider){this.hour_slider.slider("option",{min:this._defaults.hourMin,max:hourMax}).slider("value",this.hour)}if(this.minute_slider){this.minute_slider.slider("option",{min:this._defaults.minuteMin,max:minMax}).slider("value",this.minute)}if(this.second_slider){this.second_slider.slider("option",{min:this._defaults.secondMin,max:secMax}).slider("value",this.second)}if(this.millisec_slider){this.millisec_slider.slider("option",{min:this._defaults.millisecMin,max:millisecMax}).slider("value",this.millisec)}}},_onTimeChange:function(){var hour=(this.hour_slider)?this.hour_slider.slider("value"):false,minute=(this.minute_slider)?this.minute_slider.slider("value"):false,second=(this.second_slider)?this.second_slider.slider("value"):false,millisec=(this.millisec_slider)?this.millisec_slider.slider("value"):false,timezone=(this.timezone_select)?this.timezone_select.val():false,o=this._defaults;if(typeof(hour)=="object"){hour=false}if(typeof(minute)=="object"){minute=false}if(typeof(second)=="object"){second=false}if(typeof(millisec)=="object"){millisec=false}if(typeof(timezone)=="object"){timezone=false}if(hour!==false){hour=parseInt(hour,10)}if(minute!==false){minute=parseInt(minute,10)}if(second!==false){second=parseInt(second,10)}if(millisec!==false){millisec=parseInt(millisec,10)}var ampm=o[hour<12?"amNames":"pmNames"][0];var hasChanged=(hour!=this.hour||minute!=this.minute||second!=this.second||millisec!=this.millisec||(this.ampm.length>0&&(hour<12)!=($.inArray(this.ampm.toUpperCase(),this.amNames)!==-1))||timezone!=this.timezone);if(hasChanged){if(hour!==false){this.hour=hour}if(minute!==false){this.minute=minute}if(second!==false){this.second=second}if(millisec!==false){this.millisec=millisec}if(timezone!==false){this.timezone=timezone}if(!this.inst){this.inst=$.datepicker._getInst(this.$input[0])}this._limitMinMaxDateTime(this.inst,true)}if(o.ampm){this.ampm=ampm}this.formattedTime=$.datepicker.formatTime(this._defaults.timeFormat,this,this._defaults);if(this.$timeObj){this.$timeObj.text(this.formattedTime+o.timeSuffix)}this.timeDefined=true;if(hasChanged){this._updateDateTime()}},_onSelectHandler:function(){var onSelect=this._defaults.onSelect;var inputEl=this.$input?this.$input[0]:null;if(onSelect&&inputEl){onSelect.apply(inputEl,[this.formattedDateTime,this])}},_formatTime:function(time,format){time=time||{hour:this.hour,minute:this.minute,second:this.second,millisec:this.millisec,ampm:this.ampm,timezone:this.timezone};var tmptime=(format||this._defaults.timeFormat).toString();tmptime=$.datepicker.formatTime(tmptime,time,this._defaults);if(arguments.length){return tmptime}else{this.formattedTime=tmptime}},_updateDateTime:function(dp_inst){dp_inst=this.inst||dp_inst;var dt=$.datepicker._daylightSavingAdjust(new Date(dp_inst.selectedYear,dp_inst.selectedMonth,dp_inst.selectedDay)),dateFmt=$.datepicker._get(dp_inst,"dateFormat"),formatCfg=$.datepicker._getFormatConfig(dp_inst),timeAvailable=dt!==null&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(dateFmt,(dt===null?new Date():dt),formatCfg);var formattedDateTime=this.formattedDate;if(dp_inst.lastVal!==undefined&&(dp_inst.lastVal.length>0&&this.$input.val().length===0)){return}if(this._defaults.timeOnly===true){formattedDateTime=this.formattedTime}else{if(this._defaults.timeOnly!==true&&(this._defaults.alwaysSetTime||timeAvailable)){formattedDateTime+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix}}this.formattedDateTime=formattedDateTime;if(!this._defaults.showTimepicker){this.$input.val(this.formattedDate)}else{if(this.$altInput&&this._defaults.altFieldTimeOnly===true){this.$altInput.val(this.formattedTime);this.$input.val(this.formattedDate)}else{if(this.$altInput){this.$altInput.val(formattedDateTime);this.$input.val(formattedDateTime)}else{this.$input.val(formattedDateTime)}}}this.$input.trigger("change")}});$.fn.extend({timepicker:function(o){o=o||{};var tmp_args=arguments;if(typeof o=="object"){tmp_args[0]=$.extend(o,{timeOnly:true})}return $(this).each(function(){$.fn.datetimepicker.apply($(this),tmp_args)})},datetimepicker:function(o){o=o||{};var $input=this,tmp_args=arguments;if(typeof(o)=="string"){if(o=="getDate"){return $.fn.datepicker.apply($(this[0]),tmp_args)}else{return this.each(function(){var $t=$(this);$t.datepicker.apply($t,tmp_args)})}}else{return this.each(function(){var $t=$(this);$t.datepicker($.timepicker._newInst($t,o)._defaults)})}}});$.datepicker.formatTime=function(format,time,options){options=options||{};options=$.extend($.timepicker._defaults,options);time=$.extend({hour:0,minute:0,second:0,millisec:0,timezone:"+0000"},time);var tmptime=format;var ampmName=options.amNames[0];var hour=parseInt(time.hour,10);if(options.ampm){if(hour>11){ampmName=options.pmNames[0];if(hour>12){hour=hour%12}}if(hour===0){hour=12}}tmptime=tmptime.replace(/(?:hh?|mm?|ss?|[tT]{1,2}|[lz])/g,function(match){switch(match.toLowerCase()){case"hh":return("0"+hour).slice(-2);case"h":return hour;case"mm":return("0"+time.minute).slice(-2);case"m":return time.minute;case"ss":return("0"+time.second).slice(-2);case"s":return time.second;case"l":return("00"+time.millisec).slice(-3);case"z":return time.timezone;case"t":case"tt":if(options.ampm){if(match.length==1){ampmName=ampmName.charAt(0)}return match.charAt(0)=="T"?ampmName.toUpperCase():ampmName.toLowerCase()}return""}});tmptime=$.trim(tmptime);return tmptime};$.datepicker._base_selectDate=$.datepicker._selectDate;$.datepicker._selectDate=function(id,dateStr){var inst=this._getInst($(id)[0]),tp_inst=this._get(inst,"timepicker");if(tp_inst){tp_inst._limitMinMaxDateTime(inst,true);inst.inline=inst.stay_open=true;this._base_selectDate(id,dateStr);inst.inline=inst.stay_open=false;this._notifyChange(inst);this._updateDatepicker(inst)}else{this._base_selectDate(id,dateStr)}};$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker;$.datepicker._updateDatepicker=function(inst){var input=inst.input[0];if($.datepicker._curInst&&$.datepicker._curInst!=inst&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!=input){return}if(typeof(inst.stay_open)!=="boolean"||inst.stay_open===false){this._base_updateDatepicker(inst);var tp_inst=this._get(inst,"timepicker");if(tp_inst){tp_inst._addTimePicker(inst)}}};$.datepicker._base_doKeyPress=$.datepicker._doKeyPress;$.datepicker._doKeyPress=function(event){var inst=$.datepicker._getInst(event.target),tp_inst=$.datepicker._get(inst,"timepicker");if(tp_inst){if($.datepicker._get(inst,"constrainInput")){var ampm=tp_inst._defaults.ampm,dateChars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat")),datetimeChars=tp_inst._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,ampm?"APM":"").replace(/Tt/g,ampm?"AaPpMm":"").replace(/tT/g,ampm?"AaPpMm":"").replace(/T/g,ampm?"AP":"").replace(/tt/g,ampm?"apm":"").replace(/t/g,ampm?"ap":"")+" "+tp_inst._defaults.separator+tp_inst._defaults.timeSuffix+(tp_inst._defaults.showTimezone?tp_inst._defaults.timezoneList.join(""):"")+(tp_inst._defaults.amNames.join(""))+(tp_inst._defaults.pmNames.join(""))+dateChars,chr=String.fromCharCode(event.charCode===undefined?event.keyCode:event.charCode);return event.ctrlKey||(chr<" "||!dateChars||datetimeChars.indexOf(chr)>-1)}}return $.datepicker._base_doKeyPress(event)};$.datepicker._base_doKeyUp=$.datepicker._doKeyUp;$.datepicker._doKeyUp=function(event){var inst=$.datepicker._getInst(event.target),tp_inst=$.datepicker._get(inst,"timepicker");if(tp_inst){if(tp_inst._defaults.timeOnly&&(inst.input.val()!=inst.lastVal)){try{$.datepicker._updateDatepicker(inst)}catch(err){$.datepicker.log(err)}}}return $.datepicker._base_doKeyUp(event)};$.datepicker._base_gotoToday=$.datepicker._gotoToday;$.datepicker._gotoToday=function(id){var inst=this._getInst($(id)[0]),$dp=inst.dpDiv;this._base_gotoToday(id);var now=new Date();var tp_inst=this._get(inst,"timepicker");if(tp_inst&&tp_inst._defaults.showTimezone&&tp_inst.timezone_select){var tzoffset=now.getTimezoneOffset();var tzsign=tzoffset>0?"-":"+";tzoffset=Math.abs(tzoffset);var tzmin=tzoffset%60;tzoffset=tzsign+("0"+(tzoffset-tzmin)/60).slice(-2)+("0"+tzmin).slice(-2);if(tp_inst._defaults.timezoneIso8609){tzoffset=tzoffset.substring(0,3)+":"+tzoffset.substring(3)}tp_inst.timezone_select.val(tzoffset)}this._setTime(inst,now);$(".ui-datepicker-today",$dp).click()};$.datepicker._disableTimepickerDatepicker=function(target,date,withDate){var inst=this._getInst(target),tp_inst=this._get(inst,"timepicker");$(target).datepicker("getDate");if(tp_inst){tp_inst._defaults.showTimepicker=false;tp_inst._updateDateTime(inst)}};$.datepicker._enableTimepickerDatepicker=function(target,date,withDate){var inst=this._getInst(target),tp_inst=this._get(inst,"timepicker");$(target).datepicker("getDate");if(tp_inst){tp_inst._defaults.showTimepicker=true;tp_inst._addTimePicker(inst);tp_inst._updateDateTime(inst)}};$.datepicker._setTime=function(inst,date){var tp_inst=this._get(inst,"timepicker");if(tp_inst){var defaults=tp_inst._defaults,hour=date?date.getHours():defaults.hour,minute=date?date.getMinutes():defaults.minute,second=date?date.getSeconds():defaults.second,millisec=date?date.getMilliseconds():defaults.millisec;if((hour<defaults.hourMin||hour>defaults.hourMax)||(minute<defaults.minuteMin||minute>defaults.minuteMax)||(second<defaults.secondMin||second>defaults.secondMax)||(millisec<defaults.millisecMin||millisec>defaults.millisecMax)){hour=defaults.hourMin;minute=defaults.minuteMin;second=defaults.secondMin;millisec=defaults.millisecMin}tp_inst.hour=hour;tp_inst.minute=minute;tp_inst.second=second;tp_inst.millisec=millisec;if(tp_inst.hour_slider){tp_inst.hour_slider.slider().slider("value",hour)}if(tp_inst.minute_slider){tp_inst.minute_slider.slider().slider("value",minute)}if(tp_inst.second_slider){tp_inst.second_slider.slider().slider("value",second)}if(tp_inst.millisec_slider){tp_inst.millisec_slider.slider().slider("value",millisec)}tp_inst._onTimeChange();tp_inst._updateDateTime(inst)}};$.datepicker._setTimeDatepicker=function(target,date,withDate){var inst=this._getInst(target),tp_inst=this._get(inst,"timepicker");if(tp_inst){this._setDateFromField(inst);var tp_date;if(date){if(typeof date=="string"){tp_inst._parseTime(date,withDate);tp_date=new Date();tp_date.setHours(tp_inst.hour,tp_inst.minute,tp_inst.second,tp_inst.millisec)}else{tp_date=new Date(date.getTime())}if(tp_date.toString()=="Invalid Date"){tp_date=undefined}this._setTime(inst,tp_date)}}};$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker;$.datepicker._setDateDatepicker=function(target,date){var inst=this._getInst(target),tp_date=(date instanceof Date)?new Date(date.getTime()):date;this._updateDatepicker(inst);this._base_setDateDatepicker.apply(this,arguments);this._setTimeDatepicker(target,tp_date,true)};$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker;$.datepicker._getDateDatepicker=function(target,noDefault){var inst=this._getInst(target),tp_inst=this._get(inst,"timepicker");if(tp_inst){this._setDateFromField(inst,noDefault);var date=this._getDate(inst);if(date&&tp_inst._parseTime($(target).val(),tp_inst.timeOnly)){date.setHours(tp_inst.hour,tp_inst.minute,tp_inst.second,tp_inst.millisec)}return date}return this._base_getDateDatepicker(target,noDefault)};$.datepicker._base_parseDate=$.datepicker.parseDate;$.datepicker.parseDate=function(format,value,settings){var date;try{date=this._base_parseDate(format,value,settings)}catch(err){if(err.indexOf(":")>=0){date=this._base_parseDate(format,value.substring(0,value.length-(err.length-err.indexOf(":")-2)),settings)}else{throw err}}return date};$.datepicker._base_formatDate=$.datepicker._formatDate;$.datepicker._formatDate=function(inst,day,month,year){var tp_inst=this._get(inst,"timepicker");if(tp_inst){if(day){var b=this._base_formatDate(inst,day,month,year)}tp_inst._updateDateTime(inst);return tp_inst.$input.val()}return this._base_formatDate(inst)};$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker;$.datepicker._optionDatepicker=function(target,name,value){var inst=this._getInst(target),tp_inst=this._get(inst,"timepicker");if(tp_inst){var min,max,onselect;if(typeof name=="string"){if(name==="minDate"||name==="minDateTime"){min=value}else{if(name==="maxDate"||name==="maxDateTime"){max=value}else{if(name==="onSelect"){onselect=value}}}}else{if(typeof name=="object"){if(name.minDate){min=name.minDate}else{if(name.minDateTime){min=name.minDateTime}else{if(name.maxDate){max=name.maxDate}else{if(name.maxDateTime){max=name.maxDateTime}}}}}}if(min){if(min==0){min=new Date()}else{min=new Date(min)}tp_inst._defaults.minDate=min;tp_inst._defaults.minDateTime=min}else{if(max){if(max==0){max=new Date()}else{max=new Date(max)}tp_inst._defaults.maxDate=max;tp_inst._defaults.maxDateTime=max}else{if(onselect){tp_inst._defaults.onSelect=onselect}}}}if(value===undefined){return this._base_optionDatepicker(target,name)}return this._base_optionDatepicker(target,name,value)};function extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]===null||props[name]===undefined){target[name]=props[name]}}return target}$.timepicker=new Timepicker();$.timepicker.version="0.9.9"})(jQuery);(function(a,b){if(a.ui&&a.ui.dialog){a.ui.dialog.overlay.events=a.map("focus,keydown,keypress".split(","),function(c){return c+".dialog-overlay"}).join(" ")}}(jQuery));/*
 * jQuery Form Plugin
 * version: 3.09 (16-APR-2012)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses:
 *    http://malsup.github.com/mit-license.txt
 *    http://malsup.github.com/gpl-license-v2.txt
 */
(function(a){var d={};d.fileapi=a("<input type='file'/>").get(0).files!==undefined;d.formdata=window.FormData!==undefined;a.fn.ajaxSubmit=function(w){if(!this.length){e("ajaxSubmit: skipping submit process - no element selected");return this}var s,h,B,f=this;if(typeof w=="function"){w={success:w}}s=this.attr("method");h=this.attr("action");B=(typeof h==="string")?a.trim(h):"";B=B||window.location.href||"";if(B){B=(B.match(/^([^#]+)/)||[])[1]}w=a.extend(true,{url:B,success:a.ajaxSettings.success,type:s||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},w);var C={};this.trigger("form-pre-serialize",[this,w,C]);if(C.veto){e("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(w.beforeSerialize&&w.beforeSerialize(this,w)===false){e("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var A=w.traditional;if(A===undefined){A=a.ajaxSettings.traditional}var j=[];var y,g=this.formToArray(w.semantic,j);if(w.data){w.extraData=w.data;y=a.param(w.data,A)}if(w.beforeSubmit&&w.beforeSubmit(g,this,w)===false){e("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[g,this,w,C]);if(C.veto){e("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var x=a.param(g,A);if(y){x=(x?(x+"&"+y):y)}if(w.type.toUpperCase()=="GET"){w.url+=(w.url.indexOf("?")>=0?"&":"?")+x;w.data=null}else{w.data=x}var i=[];if(w.resetForm){i.push(function(){f.resetForm()})}if(w.clearForm){i.push(function(){f.clearForm(w.includeHidden)})}if(!w.dataType&&w.target){var v=w.success||function(){};i.push(function(k){var q=w.replaceTarget?"replaceWith":"html";a(w.target)[q](k).each(v,arguments)})}else{if(w.success){i.push(w.success)}}w.success=function(q,F,G){var k=w.context||w;for(var D=0,E=i.length;D<E;D++){i[D].apply(k,[q,F,G||f,f])}};var m=a("input:file:enabled[value]",this);var p=m.length>0;var t="multipart/form-data";var u=(f.attr("enctype")==t||f.attr("encoding")==t);var l=d.fileapi&&d.formdata;e("fileAPI :"+l);var z=(p||u)&&!l;if(w.iframe!==false&&(w.iframe||z)){if(w.closeKeepAlive){a.get(w.closeKeepAlive,function(){n(g)})}else{n(g)}}else{if((p||u)&&l){o(g)}else{a.ajax(w)}}for(var r=0;r<j.length;r++){j[r]=null}this.trigger("form-submit-notify",[this,w]);return this;function o(k){var D=new FormData();for(var E=0;E<k.length;E++){D.append(k[E].name,k[E].value)}if(w.extraData){for(var F in w.extraData){if(w.extraData.hasOwnProperty(F)){D.append(F,w.extraData[F])}}}w.data=null;var G=a.extend(true,{},a.ajaxSettings,w,{contentType:false,processData:false,cache:false,type:"POST"});if(w.uploadProgress){G.xhr=function(){var H=jQuery.ajaxSettings.xhr();if(H.upload){H.upload.onprogress=function(I){var J=0;var K=I.loaded||I.position;var L=I.total;if(I.lengthComputable){J=Math.ceil(K/L*100)}w.uploadProgress(I,K,L,J)}}return H}}G.data=null;var q=G.beforeSend;G.beforeSend=function(I,H){H.data=D;if(q){q.call(H,I,w)}};a.ajax(G)}function n(q){var N=f[0],M,R,W,O,S,k,T,ad,Y,U,Z,aa;var ac=!!a.fn.prop;if(a(":input[name=submit],:input[id=submit]",N).length){alert('Error: Form elements must not have name or id of "submit".');return}if(q){for(R=0;R<j.length;R++){M=a(j[R]);if(ac){M.prop("disabled",false)}else{M.removeAttr("disabled")}}}W=a.extend(true,{},a.ajaxSettings,w);W.context=W.context||W;S="jqFormIO"+(new Date().getTime());if(W.iframeTarget){k=a(W.iframeTarget);U=k.attr("name");if(!U){k.attr("name",S)}else{S=U}}else{k=a('<iframe name="'+S+'" src="'+W.iframeSrc+'" />');k.css({position:"absolute",top:"-1000px",left:"-1000px"})}T=k[0];ad={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(af){var ae=(af==="timeout"?"timeout":"aborted");e("aborting upload... "+ae);this.aborted=1;k.attr("src",W.iframeSrc);ad.error=ae;if(W.error){W.error.call(W.context,ad,ae,af)}if(O){a.event.trigger("ajaxError",[ad,W,ae])}if(W.complete){W.complete.call(W.context,ad,ae)}}};O=W.global;if(O&&0===a.active++){a.event.trigger("ajaxStart")}if(O){a.event.trigger("ajaxSend",[ad,W])}if(W.beforeSend&&W.beforeSend.call(W.context,ad,W)===false){if(W.global){a.active--}return}if(ad.aborted){return}Y=N.clk;if(Y){U=Y.name;if(U&&!Y.disabled){W.extraData=W.extraData||{};W.extraData[U]=Y.value;if(Y.type=="image"){W.extraData[U+".x"]=N.clk_x;W.extraData[U+".y"]=N.clk_y}}}var F=1;var X=2;function P(af){var ae=af.contentWindow?af.contentWindow.document:af.contentDocument?af.contentDocument:af.document;return ae}var H=a("meta[name=csrf-token]").attr("content");var G=a("meta[name=csrf-param]").attr("content");if(G&&H){W.extraData=W.extraData||{};W.extraData[G]=H}function L(){var ai=f.attr("target"),ae=f.attr("action");N.setAttribute("target",S);if(!s){N.setAttribute("method","POST")}if(ae!=W.url){N.setAttribute("action",W.url)}if(!W.skipEncodingOverride&&(!s||/post/i.test(s))){f.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(W.timeout){aa=setTimeout(function(){Z=true;E(F)},W.timeout)}function af(){try{var ak=P(T).readyState;e("state = "+ak);if(ak&&ak.toLowerCase()=="uninitialized"){setTimeout(af,50)}}catch(aj){e("Server abort: ",aj," (",aj.name,")");E(X);if(aa){clearTimeout(aa)}aa=undefined}}var ag=[];try{if(W.extraData){for(var ah in W.extraData){if(W.extraData.hasOwnProperty(ah)){ag.push(a('<input type="hidden" name="'+ah+'">').attr("value",W.extraData[ah]).appendTo(N)[0])}}}if(!W.iframeTarget){k.appendTo("body");if(T.attachEvent){T.attachEvent("onload",E)}else{T.addEventListener("load",E,false)}}setTimeout(af,15);N.submit()}finally{N.setAttribute("action",ae);if(ai){N.setAttribute("target",ai)}else{f.removeAttr("target")}a(ag).remove()}}if(W.forceSync){L()}else{setTimeout(L,10)}var I,J,K=50,D;function E(ah){if(ad.aborted||D){return}try{J=P(T)}catch(aj){e("cannot access response document: ",aj);ah=X}if(ah===F&&ad){ad.abort("timeout");return}else{if(ah==X&&ad){ad.abort("server abort");return}}if(!J||J.location.href==W.iframeSrc){if(!Z){return}}if(T.detachEvent){T.detachEvent("onload",E)}else{T.removeEventListener("load",E,false)}var an="success",ai;try{if(Z){throw"timeout"}var ak=W.dataType=="xml"||J.XMLDocument||a.isXMLDoc(J);e("isXml="+ak);if(!ak&&window.opera&&(J.body===null||!J.body.innerHTML)){if(--K){e("requeing onLoad callback, DOM not available");setTimeout(E,250);return}}var af=J.body?J.body:J.documentElement;ad.responseText=af?af.innerHTML:null;ad.responseXML=J.XMLDocument?J.XMLDocument:J;if(ak){W.dataType="xml"}ad.getResponseHeader=function(ap){var aq={"content-type":W.dataType};return aq[ap]};if(af){ad.status=Number(af.getAttribute("status"))||ad.status;ad.statusText=af.getAttribute("statusText")||ad.statusText}var ag=(W.dataType||"").toLowerCase();var am=/(json|script|text)/.test(ag);if(am||W.textarea){var ao=J.getElementsByTagName("textarea")[0];if(ao){ad.responseText=ao.value;ad.status=Number(ao.getAttribute("status"))||ad.status;ad.statusText=ao.getAttribute("statusText")||ad.statusText}else{if(am){var al=J.getElementsByTagName("pre")[0];var ae=J.getElementsByTagName("body")[0];if(al){ad.responseText=al.textContent?al.textContent:al.innerText}else{if(ae){ad.responseText=ae.textContent?ae.textContent:ae.innerText}}}}}else{if(ag=="xml"&&!ad.responseXML&&ad.responseText){ad.responseXML=ab(ad.responseText)}}try{I=Q(ad,ag,W)}catch(ah){an="parsererror";ad.error=ai=(ah||an)}}catch(ah){e("error caught: ",ah);an="error";ad.error=ai=(ah||an)}if(ad.aborted){e("upload aborted");an=null}if(ad.status){an=(ad.status>=200&&ad.status<300||ad.status===304)?"success":"error"}if(an==="success"){if(W.success){W.success.call(W.context,I,"success",ad)}if(O){a.event.trigger("ajaxSuccess",[ad,W])}}else{if(an){if(ai===undefined){ai=ad.statusText}if(W.error){W.error.call(W.context,ad,an,ai)}if(O){a.event.trigger("ajaxError",[ad,W,ai])}}}if(O){a.event.trigger("ajaxComplete",[ad,W])}if(O&&!--a.active){a.event.trigger("ajaxStop")}if(W.complete){W.complete.call(W.context,ad,an)}D=true;if(W.timeout){clearTimeout(aa)}setTimeout(function(){if(!W.iframeTarget){k.remove()}ad.responseXML=null},100)}var ab=a.parseXML||function(af,ae){if(window.ActiveXObject){ae=new ActiveXObject("Microsoft.XMLDOM");ae.async="false";ae.loadXML(af)}else{ae=(new DOMParser()).parseFromString(af,"text/xml")}return(ae&&ae.documentElement&&ae.documentElement.nodeName!="parsererror")?ae:null};var V=a.parseJSON||function(ae){return window["eval"]("("+ae+")")};var Q=function(ai,ah,ag){var ae=ai.getResponseHeader("content-type")||"",aj=ah==="xml"||!ah&&ae.indexOf("xml")>=0,af=aj?ai.responseXML:ai.responseText;if(aj&&af.documentElement.nodeName==="parsererror"){if(a.error){a.error("parsererror")}}if(ag&&ag.dataFilter){af=ag.dataFilter(af,ah)}if(typeof af==="string"){if(ah==="json"||!ah&&ae.indexOf("json")>=0){af=V(af)}else{if(ah==="script"||!ah&&ae.indexOf("javascript")>=0){a.globalEval(af)}}}return af}}};a.fn.ajaxForm=function(g){g=g||{};g.delegation=g.delegation&&a.isFunction(a.fn.on);if(!g.delegation&&this.length===0){var f={s:this.selector,c:this.context};if(!a.isReady&&f.s){e("DOM not ready, queuing ajaxForm");a(function(){a(f.s,f.c).ajaxForm(g)});return this}e("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)"));return this}if(g.delegation){a(document).off("submit.form-plugin",this.selector,c).off("click.form-plugin",this.selector,b).on("submit.form-plugin",this.selector,g,c).on("click.form-plugin",this.selector,g,b);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",g,c).bind("click.form-plugin",g,b)};function c(f){var g=f.data;if(!f.isDefaultPrevented()){f.preventDefault();a(this).ajaxSubmit(g)}}function b(g){var k=g.target;var f=a(k);if(!(f.is(":submit,input:image"))){var j=f.closest(":submit");if(j.length===0){return}k=j[0]}var h=this;h.clk=k;if(k.type=="image"){if(g.offsetX!==undefined){h.clk_x=g.offsetX;h.clk_y=g.offsetY}else{if(typeof a.fn.offset=="function"){var i=f.offset();h.clk_x=g.pageX-i.left;h.clk_y=g.pageY-i.top}else{h.clk_x=g.pageX-k.offsetLeft;h.clk_y=g.pageY-k.offsetTop}}}setTimeout(function(){h.clk=h.clk_x=h.clk_y=null},100)}a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};a.fn.formToArray=function(w,k){var g=[];if(this.length===0){return g}var o=this[0];var l=w?o.getElementsByTagName("*"):o.elements;if(!l){return g}var p,r,u,x,h,t,s;for(p=0,t=l.length;p<t;p++){h=l[p];u=h.name;if(!u){continue}if(w&&o.clk&&h.type=="image"){if(!h.disabled&&o.clk==h){g.push({name:u,value:a(h).val(),type:h.type});g.push({name:u+".x",value:o.clk_x},{name:u+".y",value:o.clk_y})}continue}x=a.fieldValue(h,true);if(x&&x.constructor==Array){if(k){k.push(h)}for(r=0,s=x.length;r<s;r++){g.push({name:u,value:x[r]})}}else{if(d.fileapi&&h.type=="file"&&!h.disabled){if(k){k.push(h)}var m=h.files;if(m.length){for(r=0;r<m.length;r++){g.push({name:u,value:m[r],type:h.type})}}else{g.push({name:u,value:"",type:h.type})}}else{if(x!==null&&typeof x!="undefined"){if(k){k.push(h)}g.push({name:u,value:x,type:h.type,required:h.required})}}}}if(!w&&o.clk){var f=a(o.clk),q=f[0];u=q.name;if(u&&!q.disabled&&q.type=="image"){g.push({name:u,value:f.val()});g.push({name:u+".x",value:o.clk_x},{name:u+".y",value:o.clk_y})}}return g};a.fn.formSerialize=function(f){return a.param(this.formToArray(f))};a.fn.fieldSerialize=function(g){var f=[];this.each(function(){var k=this.name;if(!k){return}var l=a.fieldValue(this,g);if(l&&l.constructor==Array){for(var h=0,j=l.length;h<j;h++){f.push({name:k,value:l[h]})}}else{if(l!==null&&typeof l!="undefined"){f.push({name:this.name,value:l})}}});return a.param(f)};a.fn.fieldValue=function(j){for(var l=[],g=0,h=this.length;g<h;g++){var f=this[g];var k=a.fieldValue(f,j);if(k===null||typeof k=="undefined"||(k.constructor==Array&&!k.length)){continue}if(k.constructor==Array){a.merge(l,k)}else{l.push(k)}}return l};a.fieldValue=function(g,q){var l=g.name,r=g.type,s=g.tagName.toLowerCase();if(q===undefined){q=true}if(q&&(!l||g.disabled||r=="reset"||r=="button"||(r=="checkbox"||r=="radio")&&!g.checked||(r=="submit"||r=="image")&&g.form&&g.form.clk!=g||s=="select"&&g.selectedIndex==-1)){return null}if(s=="select"){var j=g.selectedIndex;if(j<0){return null}var f=[],p=g.options;var m=(r=="select-one");var k=(m?j+1:p.length);for(var h=(m?j:0);h<k;h++){var o=p[h];if(o.selected){var u=o.value;if(!u){u=(o.attributes&&o.attributes.value&&!(o.attributes.value.specified))?o.text:o.value}if(m){return u}f.push(u)}}return f}return a(g).val()};a.fn.clearForm=function(f){return this.each(function(){a("input,select,textarea",this).clearFields(f)})};a.fn.clearFields=a.fn.clearInputs=function(f){var g=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var h=this.type,i=this.tagName.toLowerCase();if(g.test(h)||i=="textarea"){this.value=""}else{if(h=="checkbox"||h=="radio"){this.checked=false}else{if(i=="select"){this.selectedIndex=-1}else{if(f){if((f===true&&/hidden/.test(h))||(typeof f=="string"&&a(this).is(f))){this.value=""}}}}}})};a.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};a.fn.enable=function(f){if(f===undefined){f=true}return this.each(function(){this.disabled=!f})};a.fn.selected=function(f){if(f===undefined){f=true}return this.each(function(){var h=this.type;if(h=="checkbox"||h=="radio"){this.checked=f}else{if(this.tagName.toLowerCase()=="option"){var g=a(this).parent("select");if(f&&g[0]&&g[0].type=="select-one"){g.find("option").selected(false)}this.selected=f}}})};a.fn.ajaxSubmit.debug=false;function e(){if(!a.fn.ajaxSubmit.debug){return}var f="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(f)}else{if(window.opera&&window.opera.postError){window.opera.postError(f)}}}})(jQuery);(function(a){var b=0;a.widget("ech.multiselect",{options:{header:!0,height:175,minWidth:225,classes:"",checkAllText:"Check all",uncheckAllText:"Uncheck all",noneSelectedText:"Select options",selectedText:"# selected",selectedList:0,show:"",hide:"",autoOpen:!1,multiple:!0,position:{}},_create:function(){var d=this.element.hide(),e=this.options;this.speed=a.fx.speeds._default;this._isOpen=!1;d=(this.button=a('<button type="button"><span class="ui-icon ui-icon-triangle-2-n-s"></span></button>')).addClass("ui-multiselect ui-widget ui-state-default ui-corner-all").addClass(e.classes).attr({title:d.attr("title"),"aria-haspopup":!0,tabIndex:d.attr("tabIndex")}).insertAfter(d);(this.buttonlabel=a("<span />")).html(e.noneSelectedText).appendTo(d);var d=(this.menu=a("<div />")).addClass("ui-multiselect-menu ui-widget ui-widget-content ui-corner-all").addClass(e.classes).appendTo(document.body),f=(this.header=a("<div />")).addClass("ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix").appendTo(d);(this.headerLinkContainer=a("<ul />")).addClass("ui-helper-reset").html(function(){return !0===e.header?'<li><a class="ui-multiselect-all" href="#"><span class="ui-icon ui-icon-check"></span><span>'+e.checkAllText+'</span></a></li><li><a class="ui-multiselect-none" href="#"><span class="ui-icon ui-icon-closethick"></span><span>'+e.uncheckAllText+"</span></a></li>":"string"===typeof e.header?"<li>"+e.header+"</li>":""}).append('<li class="ui-multiselect-close"><a href="#" class="ui-multiselect-close"><span class="ui-icon ui-icon-circle-close"></span></a></li>').appendTo(f);(this.checkboxContainer=a("<ul />")).addClass("ui-multiselect-checkboxes ui-helper-reset").appendTo(d);this._bindEvents();this.refresh(!0);e.multiple||d.addClass("ui-multiselect-single")},_init:function(){!1===this.options.header&&this.header.hide();this.options.multiple||this.headerLinkContainer.find(".ui-multiselect-all, .ui-multiselect-none").hide();this.options.autoOpen&&this.open();this.element.is(":disabled")&&this.disable()},refresh:function(d){var j=this.element,k=this.options,l=this.menu,o=this.checkboxContainer,n=[],m=[],p=j.attr("id")||b++;j.find("option").each(function(f){a(this);var c=this.parentNode,g=this.innerHTML,i=this.title,q=this.value,f=this.id||"ui-multiselect-"+p+"-option-"+f,r=this.disabled,t=this.selected,s=["ui-corner-all"];"optgroup"===c.tagName.toLowerCase()&&(c=c.getAttribute("label"),-1===a.inArray(c,n)&&(m.push('<li class="ui-multiselect-optgroup-label"><a href="#">'+c+"</a></li>"),n.push(c)));r&&s.push("ui-state-disabled");t&&!k.multiple&&s.push("ui-state-active");m.push('<li class="'+(r?"ui-multiselect-disabled":"")+'">');m.push('<label for="'+f+'" title="'+i+'" class="'+s.join(" ")+'">');m.push('<input id="'+f+'" name="multiselect_'+p+'" type="'+(k.multiple?"checkbox":"radio")+'" value="'+q+'" title="'+g+'"');t&&(m.push(' checked="checked"'),m.push(' aria-selected="true"'));r&&(m.push(' disabled="disabled"'),m.push(' aria-disabled="true"'));m.push(" /><span>"+g+"</span></label></li>")});o.html(m.join(""));this.labels=l.find("label");this._setButtonWidth();this._setMenuWidth();this.button[0].defaultValue=this.update();d||this._trigger("refresh")},update:function(){var d=this.options,f=this.labels.find("input"),g=f.filter("[checked]"),h=g.length,d=0===h?d.noneSelectedText:a.isFunction(d.selectedText)?d.selectedText.call(this,h,f.length,g.get()):/\d/.test(d.selectedList)&&0<d.selectedList&&h<=d.selectedList?g.map(function(){return a(this).next().text()}).get().join(", "):d.selectedText.replace("#",h).replace("#",f.length);this.buttonlabel.html(d);return d},_bindEvents:function(){function d(){e[e._isOpen?"close":"open"]();return !1}var e=this,f=this.button;f.find("span").bind("click.multiselect",d);f.bind({click:d,keypress:function(c){switch(c.which){case 27:case 38:case 37:e.close();break;case 39:case 40:e.open()}},mouseenter:function(){f.hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},mouseleave:function(){a(this).removeClass("ui-state-hover")},focus:function(){f.hasClass("ui-state-disabled")||a(this).addClass("ui-state-focus")},blur:function(){a(this).removeClass("ui-state-focus")}});this.header.delegate("a","click.multiselect",function(c){if(a(this).hasClass("ui-multiselect-close")){e.close()}else{e[a(this).hasClass("ui-multiselect-all")?"checkAll":"uncheckAll"]()}c.preventDefault()});this.menu.delegate("li.ui-multiselect-optgroup-label a","click.multiselect",function(h){h.preventDefault();var i=a(this),k=i.parent().nextUntil("li.ui-multiselect-optgroup-label").find("input:visible:not(:disabled)"),j=k.get(),i=i.parent().text();!1!==e._trigger("beforeoptgrouptoggle",h,{inputs:j,label:i})&&(e._toggleChecked(k.filter("[checked]").length!==k.length,k),e._trigger("optgrouptoggle",h,{inputs:j,label:i,checked:j[0].checked}))}).delegate("label","mouseenter.multiselect",function(){a(this).hasClass("ui-state-disabled")||(e.labels.removeClass("ui-state-hover"),a(this).addClass("ui-state-hover").find("input").focus())}).delegate("label","keydown.multiselect",function(c){c.preventDefault();switch(c.which){case 9:case 27:e.close();break;case 38:case 40:case 37:case 39:e._traverse(c.which,this);break;case 13:a(this).find("input")[0].click()}}).delegate('input[type="checkbox"], input[type="radio"]',"click.multiselect",function(h){var j=a(this),l=this.value,k=this.checked,m=e.element.find("option");this.disabled||!1===e._trigger("click",h,{value:l,text:this.title,checked:k})?h.preventDefault():(j.focus(),j.attr("aria-selected",k),m.each(function(){if(this.value===l){this.selected=k}else{if(!e.options.multiple){this.selected=!1}}}),e.options.multiple||(e.labels.removeClass("ui-state-active"),j.closest("label").toggleClass("ui-state-active",k),e.close()),e.element.trigger("change"),setTimeout(a.proxy(e.update,e),10))});a(document).bind("mousedown.multiselect",function(c){e._isOpen&&!a.contains(e.menu[0],c.target)&&!a.contains(e.button[0],c.target)&&c.target!==e.button[0]&&e.close()});a(this.element[0].form).bind("reset.multiselect",function(){setTimeout(a.proxy(e.refresh,e),10)})},_setButtonWidth:function(){var c=this.element.outerWidth(),d=this.options;if(/\d/.test(d.minWidth)&&c<d.minWidth){c=d.minWidth}this.button.width(c)},_setMenuWidth:function(){var c=this.menu,d=this.button.outerWidth()-parseInt(c.css("padding-left"),10)-parseInt(c.css("padding-right"),10)-parseInt(c.css("border-right-width"),10)-parseInt(c.css("border-left-width"),10);c.width(d||this.button.outerWidth())},_traverse:function(d,f){var g=a(f),h=38===d||37===d,g=g.parent()[h?"prevAll":"nextAll"]("li:not(.ui-multiselect-disabled, .ui-multiselect-optgroup-label)")[h?"last":"first"]();g.length?g.find("label").trigger("mouseover"):(g=this.menu.find("ul").last(),this.menu.find("label")[h?"last":"first"]().trigger("mouseover"),g.scrollTop(h?g.height():0))},_toggleState:function(c,d){return function(){this.disabled||(this[c]=d);d?this.setAttribute("aria-selected",!0):this.removeAttribute("aria-selected")}},_toggleChecked:function(d,f){var g=f&&f.length?f:this.labels.find("input"),i=this;g.each(this._toggleState("checked",d));g.eq(0).focus();this.update();var j=g.map(function(){return this.value}).get();this.element.find("option").each(function(){!this.disabled&&-1<a.inArray(this.value,j)&&i._toggleState("selected",d).call(this)});g.length&&this.element.trigger("change")},_toggleDisabled:function(c){this.button.attr({disabled:c,"aria-disabled":c})[c?"addClass":"removeClass"]("ui-state-disabled");this.menu.find("input").attr({disabled:c,"aria-disabled":c}).parent()[c?"addClass":"removeClass"]("ui-state-disabled");this.element.attr({disabled:c,"aria-disabled":c})},open:function(){var d=this.button,i=this.menu,j=this.speed,k=this.options;if(!(!1===this._trigger("beforeopen")||d.hasClass("ui-state-disabled")||this._isOpen)){var n=i.find("ul").last(),m=k.show,l=d.offset();a.isArray(k.show)&&(m=k.show[0],j=k.show[1]||this.speed);n.scrollTop(0).height(k.height);a.ui.position&&!a.isEmptyObject(k.position)?(k.position.of=k.position.of||d,i.show().position(k.position).hide().show(m,j)):i.css({top:l.top+d.outerHeight(),left:l.left}).show(m,j);this.labels.eq(0).trigger("mouseover").trigger("mouseenter").find("input").trigger("focus");d.addClass("ui-state-active");this._isOpen=!0;this._trigger("open")}},close:function(){if(!1!==this._trigger("beforeclose")){var d=this.options,e=d.hide,f=this.speed;a.isArray(d.hide)&&(e=d.hide[0],f=d.hide[1]||this.speed);this.menu.hide(e,f);this.button.removeClass("ui-state-active").trigger("blur").trigger("mouseleave");this._isOpen=!1;this._trigger("close")}},enable:function(){this._toggleDisabled(!1)},disable:function(){this._toggleDisabled(!0)},checkAll:function(){this._toggleChecked(!0);this._trigger("checkAll")},uncheckAll:function(){this._toggleChecked(!1);this._trigger("uncheckAll")},getChecked:function(){return this.menu.find("input").filter("[checked]")},destroy:function(){a.Widget.prototype.destroy.call(this);this.button.remove();this.menu.remove();this.element.show();return this},isOpen:function(){return this._isOpen},widget:function(){return this.menu},_setOption:function(d,e){var f=this.menu;switch(d){case"header":f.find("div.ui-multiselect-header")[e?"show":"hide"]();break;case"checkAllText":f.find("a.ui-multiselect-all span").eq(-1).text(e);break;case"uncheckAllText":f.find("a.ui-multiselect-none span").eq(-1).text(e);break;case"height":f.find("ul").last().height(parseInt(e,10));break;case"minWidth":this.options[d]=parseInt(e,10);this._setButtonWidth();this._setMenuWidth();break;case"selectedText":case"selectedList":case"noneSelectedText":this.options[d]=e;this.update();break;case"classes":f.add(this.button).removeClass(this.options.classes).addClass(e)}a.Widget.prototype._setOption.apply(this,arguments)}})})(jQuery);/*
* Retrieved (4 Feb 2012) from https://github.com/litera/jquery-scrollintoview
*
* jQuery scrollintoview() plugin and :scrollable selector filter
*
* Version 1.8 (14 Jul 2011)
* Requires jQuery 1.4 or newer
*
* Copyright (c) 2011 Robert Koritnik
* Licensed under the terms of the MIT license
* http://www.opensource.org/licenses/mit-license.php
*/
(function(a){var c={vertical:{x:false,y:true},horizontal:{x:true,y:false},both:{x:true,y:true},x:{x:true,y:false},y:{x:false,y:true}};var g={duration:"fast",direction:"both"};var e=/^(?:html)$/i;var b=function(i,k){k=k||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(i,null):i.currentStyle);var j=document.defaultView&&document.defaultView.getComputedStyle?true:false;var h={top:(parseFloat(j?k.borderTopWidth:a.css(i,"borderTopWidth"))||0),left:(parseFloat(j?k.borderLeftWidth:a.css(i,"borderLeftWidth"))||0),bottom:(parseFloat(j?k.borderBottomWidth:a.css(i,"borderBottomWidth"))||0),right:(parseFloat(j?k.borderRightWidth:a.css(i,"borderRightWidth"))||0)};return{top:h.top,left:h.left,bottom:h.bottom,right:h.right,vertical:h.top+h.bottom,horizontal:h.left+h.right}};var d=function(h){var j=a(window);var i=e.test(h[0].nodeName);return{border:i?{top:0,left:0,bottom:0,right:0}:b(h[0]),scroll:{top:(i?j:h).scrollTop(),left:(i?j:h).scrollLeft()},scrollbar:{right:i?0:h.innerWidth()-h[0].clientWidth,bottom:i?0:h.innerHeight()-h[0].clientHeight},rect:(function(){var k=h[0].getBoundingClientRect();return{top:i?0:k.top,left:i?0:k.left,bottom:i?h[0].clientHeight:k.bottom,right:i?h[0].clientWidth:k.right}})()}};a.fn.extend({scrollintoview:function(l){l=a.extend({},g,l);l.direction=c[typeof(l.direction)==="string"&&l.direction.toLowerCase()]||c.both;var j="";if(l.direction.x===true){j="horizontal"}if(l.direction.y===true){j=j?"both":"vertical"}var k=this.eq(0);var n=k.closest(":scrollable("+j+")");if(n.length>0){n=n.eq(0);var i={e:d(k),s:d(n)};var m={top:i.e.rect.top-(i.s.rect.top+i.s.border.top),bottom:i.s.rect.bottom-i.s.border.bottom-i.s.scrollbar.bottom-i.e.rect.bottom,left:i.e.rect.left-(i.s.rect.left+i.s.border.left),right:i.s.rect.right-i.s.border.right-i.s.scrollbar.right-i.e.rect.right};var h={};if(l.direction.y===true){if(m.top<0){h.scrollTop=i.s.scroll.top+m.top}else{if(m.top>0&&m.bottom<0){h.scrollTop=i.s.scroll.top+Math.min(m.top,-m.bottom)}}}if(l.direction.x===true){if(m.left<0){h.scrollLeft=i.s.scroll.left+m.left}else{if(m.left>0&&m.right<0){h.scrollLeft=i.s.scroll.left+Math.min(m.left,-m.right)}}}if(!a.isEmptyObject(h)){if(e.test(n[0].nodeName)){n=a("html,body")}n.animate(h,l.duration).eq(0).queue(function(o){a.isFunction(l.complete)&&l.complete.call(n[0]);o()})}else{a.isFunction(l.complete)&&l.complete.call(n[0])}}return this}});var f={auto:true,scroll:true,visible:false,hidden:false};a.extend(a.expr[":"],{scrollable:function(i,j,k,n){var h=c[typeof(k[3])==="string"&&k[3].toLowerCase()]||c.both;var o=(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(i,null):i.currentStyle);var l={x:f[o.overflowX.toLowerCase()]||false,y:f[o.overflowY.toLowerCase()]||false,isRoot:e.test(i.nodeName)};if(!l.x&&!l.y&&!l.isRoot){return false}var m={height:{scroll:i.scrollHeight,client:i.clientHeight},width:{scroll:i.scrollWidth,client:i.clientWidth},scrollableX:function(){return(l.x||l.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(l.y||l.isRoot)&&this.height.scroll>this.height.client}};return h.y&&m.scrollableY()||h.x&&m.scrollableX()}})})(jQuery);Function.__typeName="Function";Function.__class=true;Function.createCallback=function(d,c){return function(){var f=arguments.length;if(f>0){var b=[];for(var a=0;a<f;a++){b[a]=arguments[a]}b[f]=c;return d.apply(this,b)}return d.call(this,c)}};Function.createDelegate=function(c,d){return function(){return d.apply(c,arguments)}};Function.emptyFunction=Function.emptyMethod=function(){};Function.validateParameters=function(f,e,d){return Function._validateParams(f,e,d)};Function._validateParams=function(p,n,l){var j,m=n.length;l=l||typeof l==="undefined";j=Function._validateParameterCount(p,n,l);if(j){j.popStackFrame();return j}for(var k=0,r=p.length;k<r;k++){var o=n[Math.min(k,m-1)],q=o.name;if(o.parameterArray){q+="["+(k-m+1)+"]"}else{if(!l&&k>=m){break}}j=Function._validateParameter(p[k],o,q);if(j){j.popStackFrame();return j}}return null};Function._validateParameterCount=function(t,n,s){var k,m,l=n.length,o=t.length;if(o<l){var p=l;for(k=0;k<l;k++){var q=n[k];if(q.optional||q.parameterArray){p--}}if(o<p){m=true}}else{if(s&&o>l){m=true;for(k=0;k<l;k++){if(n[k].parameterArray){m=false;break}}}}if(m){var r=Error.parameterCount();r.popStackFrame();return r}return null};Function._validateParameter=function(q,o,v){var p,u=o.type,z=!!o.integer,y=!!o.domElement,A=!!o.mayBeNull;p=Function._validateParameterType(q,u,z,y,A,v);if(p){p.popStackFrame();return p}var s=o.elementType,t=!!o.elementMayBeNull;if(u===Array&&typeof q!=="undefined"&&q!==null&&(s||!t)){var x=!!o.elementInteger,w=!!o.elementDomElement;for(var r=0;r<q.length;r++){var B=q[r];p=Function._validateParameterType(B,s,x,w,t,v+"["+r+"]");if(p){p.popStackFrame();return p}}}return null};Function._validateParameterType=function(m,n,v,u,s,o){var l,r;if(typeof m==="undefined"){if(s){return null}else{l=Error.argumentUndefined(o);l.popStackFrame();return l}}if(m===null){if(s){return null}else{l=Error.argumentNull(o);l.popStackFrame();return l}}if(n&&n.__enum){if(typeof m!=="number"){l=Error.argumentType(o,Object.getType(m),n);l.popStackFrame();return l}if(m%1===0){var p=n.prototype;if(!n.__flags||m===0){for(r in p){if(p[r]===m){return null}}}else{var t=m;for(r in p){var q=p[r];if(q===0){continue}if((q&m)===q){t-=q}if(t===0){return null}}}}l=Error.argumentOutOfRange(o,m,String.format(Sys.Res.enumInvalidValue,m,n.getName()));l.popStackFrame();return l}if(u&&(!Sys._isDomElement(m)||m.nodeType===3)){l=Error.argument(o,Sys.Res.argumentDomElement);l.popStackFrame();return l}if(n&&!Sys._isInstanceOfType(n,m)){l=Error.argumentType(o,Object.getType(m),n);l.popStackFrame();return l}if(n===Number&&v){if(m%1!==0){l=Error.argumentOutOfRange(o,m,Sys.Res.argumentInteger);l.popStackFrame();return l}}return null};Error.__typeName="Error";Error.__class=true;Error.create=function(h,f){var e=new Error(h);e.message=h;if(f){for(var g in f){e[g]=f[g]}}e.popStackFrame();return e};Error.argument=function(e,g){var f="Sys.ArgumentException: "+(g?g:Sys.Res.argument);if(e){f+="\n"+String.format(Sys.Res.paramName,e)}var h=Error.create(f,{name:"Sys.ArgumentException",paramName:e});h.popStackFrame();return h};Error.argumentNull=function(e,g){var f="Sys.ArgumentNullException: "+(g?g:Sys.Res.argumentNull);if(e){f+="\n"+String.format(Sys.Res.paramName,e)}var h=Error.create(f,{name:"Sys.ArgumentNullException",paramName:e});h.popStackFrame();return h};Error.argumentOutOfRange=function(h,f,i){var g="Sys.ArgumentOutOfRangeException: "+(i?i:Sys.Res.argumentOutOfRange);if(h){g+="\n"+String.format(Sys.Res.paramName,h)}if(typeof f!=="undefined"&&f!==null){g+="\n"+String.format(Sys.Res.actualValue,f)}var j=Error.create(g,{name:"Sys.ArgumentOutOfRangeException",paramName:h,actualValue:f});j.popStackFrame();return j};Error.argumentType=function(j,i,h,k){var g="Sys.ArgumentTypeException: ";if(k){g+=k}else{if(i&&h){g+=String.format(Sys.Res.argumentTypeWithTypes,i.getName(),h.getName())}else{g+=Sys.Res.argumentType}}if(j){g+="\n"+String.format(Sys.Res.paramName,j)}var l=Error.create(g,{name:"Sys.ArgumentTypeException",paramName:j,actualType:i,expectedType:h});l.popStackFrame();return l};Error.argumentUndefined=function(e,g){var f="Sys.ArgumentUndefinedException: "+(g?g:Sys.Res.argumentUndefined);if(e){f+="\n"+String.format(Sys.Res.paramName,e)}var h=Error.create(f,{name:"Sys.ArgumentUndefinedException",paramName:e});h.popStackFrame();return h};Error.format=function(d){var f="Sys.FormatException: "+(d?d:Sys.Res.format),e=Error.create(f,{name:"Sys.FormatException"});e.popStackFrame();return e};Error.invalidOperation=function(d){var f="Sys.InvalidOperationException: "+(d?d:Sys.Res.invalidOperation),e=Error.create(f,{name:"Sys.InvalidOperationException"});e.popStackFrame();return e};Error.notImplemented=function(d){var f="Sys.NotImplementedException: "+(d?d:Sys.Res.notImplemented),e=Error.create(f,{name:"Sys.NotImplementedException"});e.popStackFrame();return e};Error.parameterCount=function(d){var f="Sys.ParameterCountException: "+(d?d:Sys.Res.parameterCount),e=Error.create(f,{name:"Sys.ParameterCountException"});e.popStackFrame();return e};Error.prototype.popStackFrame=function(){if(typeof this.stack==="undefined"||this.stack===null||typeof this.fileName==="undefined"||this.fileName===null||typeof this.lineNumber==="undefined"||this.lineNumber===null){return}var f=this.stack.split("\n"),h=f[0],j=this.fileName+":"+this.lineNumber;while(typeof h!=="undefined"&&h!==null&&h.indexOf(j)===-1){f.shift();h=f[0]}var i=f[1];if(typeof i==="undefined"||i===null){return}var g=i.match(/@(.*):(\d+)$/);if(typeof g==="undefined"||g===null){return}this.fileName=g[1];this.lineNumber=parseInt(g[2]);f.shift();this.stack=f.join("\n")};Object.__typeName="Object";Object.__class=true;Object.getType=function(d){var c=d.constructor;if(!c||typeof c!=="function"||!c.__typeName||c.__typeName==="Object"){return Object}return c};Object.getTypeName=function(b){return Object.getType(b).getName()};String.__typeName="String";String.__class=true;String.prototype.endsWith=function(b){return this.substr(this.length-b.length)===b};String.prototype.startsWith=function(b){return this.substr(0,b.length)===b};String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.trimEnd=function(){return this.replace(/\s+$/,"")};String.prototype.trimStart=function(){return this.replace(/^\s+/,"")};String.format=function(){return String._toFormattedString(false,arguments)};String._toFormattedString=function(x,v){var o="",q=v[0];for(var m=0;true;){var r=q.indexOf("{",m),p=q.indexOf("}",m);if(r<0&&p<0){o+=q.slice(m);break}if(p>0&&(p<r||r<0)){o+=q.slice(m,p+1);m=p+2;continue}o+=q.slice(m,r);m=r+1;if(q.charAt(m)==="{"){o+="{";m++;continue}if(p<0){break}var t=q.substring(m,p),s=t.indexOf(":"),w=parseInt(s<0?t:t.substring(0,s),10)+1,u=s<0?"":t.substring(s+1),n=v[w];if(typeof n==="undefined"||n===null){n=""}if(n.toFormattedString){o+=n.toFormattedString(u)}else{if(x&&n.localeFormat){o+=n.localeFormat(u)}else{if(n.format){o+=n.format(u)}else{o+=n.toString()}}}m=p+1}return o};Boolean.__typeName="Boolean";Boolean.__class=true;Boolean.parse=function(d){var c=d.trim().toLowerCase();if(c==="false"){return false}if(c==="true"){return true}};Date.__typeName="Date";Date.__class=true;Number.__typeName="Number";Number.__class=true;RegExp.__typeName="RegExp";RegExp.__class=true;if(!window){this.window=this}window.Type=Function;Type.prototype.callBaseMethod=function(e,h,f){var g=Sys._getBaseMethod(this,e,h);if(!f){return g.apply(e)}else{return g.apply(e,f)}};Type.prototype.getBaseMethod=function(c,d){return Sys._getBaseMethod(this,c,d)};Type.prototype.getBaseType=function(){return typeof this.__baseType==="undefined"?null:this.__baseType};Type.prototype.getInterfaces=function(){var g=[],h=this;while(h){var i=h.__interfaces;if(i){for(var j=0,l=i.length;j<l;j++){var k=i[j];if(!Array.contains(g,k)){g[g.length]=k}}}h=h.__baseType}return g};Type.prototype.getName=function(){return typeof this.__typeName==="undefined"?"":this.__typeName};Type.prototype.implementsInterface=function(j){this.resolveInheritance();var i=j.getName(),g=this.__interfaceCache;if(g){var k=g[i];if(typeof k!=="undefined"){return k}}else{g=this.__interfaceCache={}}var h=this;while(h){var l=h.__interfaces;if(l){if(Array.indexOf(l,j)!==-1){return g[i]=true}}h=h.__baseType}return g[i]=false};Type.prototype.inheritsFrom=function(d){this.resolveInheritance();var c=this.__baseType;while(c){if(c===d){return true}c=c.__baseType}return false};Type.prototype.initializeBase=function(c,d){this.resolveInheritance();if(this.__baseType){if(!d){this.__baseType.apply(c)}else{this.__baseType.apply(c,d)}}return c};Type.prototype.isImplementedBy=function(c){if(typeof c==="undefined"||c===null){return false}var d=Object.getType(c);return !!(d.implementsInterface&&d.implementsInterface(this))};Type.prototype.isInstanceOfType=function(b){return Sys._isInstanceOfType(this,b)};Type.prototype.registerClass=function(i,h,j){this.prototype.constructor=this;this.__typeName=i;this.__class=true;if(h){this.__baseType=h;this.__basePrototypePending=true}Sys.__upperCaseTypes[i.toUpperCase()]=this;if(j){this.__interfaces=[];for(var g=2,l=arguments.length;g<l;g++){var k=arguments[g];this.__interfaces.push(k)}}return this};Type.prototype.registerInterface=function(b){Sys.__upperCaseTypes[b.toUpperCase()]=this;this.prototype.constructor=this;this.__typeName=b;this.__interface=true;return this};Type.prototype.resolveInheritance=function(){if(this.__basePrototypePending){var e=this.__baseType;e.resolveInheritance();for(var d in e.prototype){var f=e.prototype[d];if(!this.prototype[d]){this.prototype[d]=f}}delete this.__basePrototypePending}};Type.getRootNamespaces=function(){return Array.clone(Sys.__rootNamespaces)};Type.isClass=function(b){if(typeof b==="undefined"||b===null){return false}return !!b.__class};Type.isInterface=function(b){if(typeof b==="undefined"||b===null){return false}return !!b.__interface};Type.isNamespace=function(b){if(typeof b==="undefined"||b===null){return false}return !!b.__namespace};Type.parse=function(typeName,ns){var fn;if(ns){fn=Sys.__upperCaseTypes[ns.getName().toUpperCase()+"."+typeName.toUpperCase()];return fn||null}if(!typeName){return null}if(!Type.__htClasses){Type.__htClasses={}}fn=Type.__htClasses[typeName];if(!fn){fn=eval(typeName);Type.__htClasses[typeName]=fn}return fn};Type.registerNamespace=function(k){var j=window,i=k.split(".");for(var h=0;h<i.length;h++){var l=i[h],g=j[l];if(!g){g=j[l]={}}if(!g.__namespace){if(h===0&&k!=="Sys"){Sys.__rootNamespaces[Sys.__rootNamespaces.length]=g}g.__namespace=true;g.__typeName=i.slice(0,h+1).join(".");g.getName=function(){return this.__typeName}}j=g}};Type._checkDependency=function(g,e){var h=Type._registerScript._scripts,f=h?!!h[g]:false;if(typeof e!=="undefined"&&!f){throw Error.invalidOperation(String.format(Sys.Res.requiredScriptReferenceNotIncluded,e,g))}return f};Type._registerScript=function(g,i){var h=Type._registerScript._scripts;if(!h){Type._registerScript._scripts=h={}}if(h[g]){throw Error.invalidOperation(String.format(Sys.Res.scriptAlreadyLoaded,g))}h[g]=true;if(i){for(var j=0,l=i.length;j<l;j++){var k=i[j];if(!Type._checkDependency(k)){throw Error.invalidOperation(String.format(Sys.Res.scriptDependencyNotFound,g,k))}}}};Type.registerNamespace("Sys");Sys.__upperCaseTypes={};Sys.__rootNamespaces=[Sys];Sys._isInstanceOfType=function(f,e){if(typeof e==="undefined"||e===null){return false}if(e instanceof f){return true}var d=Object.getType(e);return !!(d===f)||d.inheritsFrom&&d.inheritsFrom(f)||d.implementsInterface&&d.implementsInterface(f)};Sys._getBaseMethod=function(i,j,h){var g=i.getBaseType();if(g){var f=g.prototype[h];return f instanceof Function?f:null}return null};Sys._isDomElement=function(e){var g=false;if(typeof e.nodeType!=="number"){var f=e.ownerDocument||e.document||e;if(f!=e){var h=f.defaultView||f.parentWindow;g=h!=e}else{g=typeof f.body==="undefined"}}return !g};Array.__typeName="Array";Array.__class=true;Array.add=Array.enqueue=function(c,d){c[c.length]=d};Array.addRange=function(c,d){c.push.apply(c,d)};Array.clear=function(b){b.length=0};Array.clone=function(b){if(b.length===1){return[b[0]]}else{return Array.apply(null,b)}};Array.contains=function(c,d){return Sys._indexOf(c,d)>=0};Array.dequeue=function(b){return b.shift()};Array.forEach=function(h,k,j){for(var g=0,l=h.length;g<l;g++){var i=h[g];if(typeof i!=="undefined"){k.call(j,i,g,h)}}};Array.indexOf=function(d,f,e){return Sys._indexOf(d,f,e)};Array.insert=function(d,e,f){d.splice(e,0,f)};Array.parse=function(value){if(!value){return[]}return eval(value)};Array.remove=function(e,f){var d=Sys._indexOf(e,f);if(d>=0){e.splice(d,1)}return d>=0};Array.removeAt=function(c,d){c.splice(d,1)};Sys._indexOf=function(i,j,f){if(typeof j==="undefined"){return -1}var h=i.length;if(h!==0){f=f-0;if(isNaN(f)){f=0}else{if(isFinite(f)){f=f-f%1}if(f<0){f=Math.max(0,h+f)}}for(var g=f;g<h;g++){if(typeof i[g]!=="undefined"&&i[g]===j){return g}}}return -1};Type._registerScript._scripts={"MicrosoftAjaxCore.js":true,"MicrosoftAjaxGlobalization.js":true,"MicrosoftAjaxSerialization.js":true,"MicrosoftAjaxComponentModel.js":true,"MicrosoftAjaxHistory.js":true,"MicrosoftAjaxNetwork.js":true,"MicrosoftAjaxWebServices.js":true};Sys.IDisposable=function(){};Sys.IDisposable.prototype={};Sys.IDisposable.registerInterface("Sys.IDisposable");Sys.StringBuilder=function(b){this._parts=typeof b!=="undefined"&&b!==null&&b!==""?[b.toString()]:[];this._value={};this._len=0};Sys.StringBuilder.prototype={append:function(b){this._parts[this._parts.length]=b},appendLine:function(b){this._parts[this._parts.length]=typeof b==="undefined"||b===null||b===""?"\r\n":b+"\r\n"},clear:function(){this._parts=[];this._value={};this._len=0},isEmpty:function(){if(this._parts.length===0){return true}return this.toString()===""},toString:function(e){e=e||"";var f=this._parts;if(this._len!==f.length){this._value={};this._len=f.length}var h=this._value;if(typeof h[e]==="undefined"){if(e!==""){for(var g=0;g<f.length;){if(typeof f[g]==="undefined"||f[g]===""||f[g]===null){f.splice(g,1)}else{g++}}}h[e]=this._parts.join(e)}return h[e]}};Sys.StringBuilder.registerClass("Sys.StringBuilder");Sys.Browser={};Sys.Browser.InternetExplorer={};Sys.Browser.Firefox={};Sys.Browser.Safari={};Sys.Browser.Opera={};Sys.Browser.agent=null;Sys.Browser.hasDebuggerStatement=false;Sys.Browser.name=navigator.appName;Sys.Browser.version=parseFloat(navigator.appVersion);Sys.Browser.documentMode=0;if(navigator.userAgent.indexOf(" MSIE ")>-1){Sys.Browser.agent=Sys.Browser.InternetExplorer;Sys.Browser.version=parseFloat(navigator.userAgent.match(/MSIE (\d+\.\d+)/)[1]);if(Sys.Browser.version>=8){if(document.documentMode>=7){Sys.Browser.documentMode=document.documentMode}}Sys.Browser.hasDebuggerStatement=true}else{if(navigator.userAgent.indexOf(" Firefox/")>-1){Sys.Browser.agent=Sys.Browser.Firefox;Sys.Browser.version=parseFloat(navigator.userAgent.match(/Firefox\/(\d+\.\d+)/)[1]);Sys.Browser.name="Firefox";Sys.Browser.hasDebuggerStatement=true}else{if(navigator.userAgent.indexOf(" AppleWebKit/")>-1){Sys.Browser.agent=Sys.Browser.Safari;Sys.Browser.version=parseFloat(navigator.userAgent.match(/AppleWebKit\/(\d+(\.\d+)?)/)[1]);Sys.Browser.name="Safari"}else{if(navigator.userAgent.indexOf("Opera/")>-1){Sys.Browser.agent=Sys.Browser.Opera}}}}Sys.EventArgs=function(){};Sys.EventArgs.registerClass("Sys.EventArgs");Sys.EventArgs.Empty=new Sys.EventArgs;Sys.CancelEventArgs=function(){Sys.CancelEventArgs.initializeBase(this);this._cancel=false};Sys.CancelEventArgs.prototype={get_cancel:function(){return this._cancel},set_cancel:function(b){this._cancel=b}};Sys.CancelEventArgs.registerClass("Sys.CancelEventArgs",Sys.EventArgs);Type.registerNamespace("Sys.UI");Sys._Debug=function(){};Sys._Debug.prototype={_appendConsole:function(b){if(typeof Debug!=="undefined"&&Debug.writeln){Debug.writeln(b)}if(window.console&&window.console.log){window.console.log(b)}if(window.opera){window.opera.postError(b)}if(window.debugService){window.debugService.trace(b)}},_appendTrace:function(d){var c=document.getElementById("TraceConsole");if(c&&c.tagName.toUpperCase()==="TEXTAREA"){c.value+=d+"\n"}},assert:function(f,d,e){if(!f){d=e&&this.assert.caller?String.format(Sys.Res.assertFailedCaller,d,this.assert.caller):String.format(Sys.Res.assertFailed,d);if(confirm(String.format(Sys.Res.breakIntoDebugger,d))){this.fail(d)}}},clearTrace:function(){var b=document.getElementById("TraceConsole");if(b&&b.tagName.toUpperCase()==="TEXTAREA"){b.value=""}},fail:function(message){this._appendConsole(message);if(Sys.Browser.hasDebuggerStatement){eval("debugger")}},trace:function(b){this._appendConsole(b);this._appendTrace(b)},traceDump:function(d,e){var f=this._traceDump(d,e,true)},_traceDump:function(m,o,r,n,p){o=o?o:"traceDump";n=n?n:"";if(m===null){this.trace(n+o+": null");return}switch(typeof m){case"undefined":this.trace(n+o+": Undefined");break;case"number":case"string":case"boolean":this.trace(n+o+": "+m);break;default:if(Date.isInstanceOfType(m)||RegExp.isInstanceOfType(m)){this.trace(n+o+": "+m.toString());break}if(!p){p=[]}else{if(Array.contains(p,m)){this.trace(n+o+": ...");return}}Array.add(p,m);if(m==window||m===document||window.HTMLElement&&m instanceof HTMLElement||typeof m.nodeName==="string"){var w=m.tagName?m.tagName:"DomElement";if(m.id){w+=" - "+m.id}this.trace(n+o+" {"+w+"}")}else{var u=Object.getTypeName(m);this.trace(n+o+(typeof u==="string"?" {"+u+"}":""));if(n===""||r){n+="    ";var q,v,x,s,t;if(Array.isInstanceOfType(m)){v=m.length;for(q=0;q<v;q++){this._traceDump(m[q],"["+q+"]",r,n,p)}}else{for(s in m){t=m[s];if(!Function.isInstanceOfType(t)){this._traceDump(t,s,r,n,p)}}}}}Array.remove(p,m)}}};Sys._Debug.registerClass("Sys._Debug");Sys.Debug=new Sys._Debug;Sys.Debug.isDebug=false;function Sys$Enum$parse(n,p){var l,m,t;if(p){l=this.__lowerCaseValues;if(!l){this.__lowerCaseValues=l={};var r=this.prototype;for(var q in r){l[q.toLowerCase()]=r[q]}}}else{l=this.prototype}if(!this.__flags){t=p?n.toLowerCase():n;m=l[t.trim()];if(typeof m!=="number"){throw Error.argument("value",String.format(Sys.Res.enumInvalidValue,n,this.__typeName))}return m}else{var s=(p?n.toLowerCase():n).split(","),u=0;for(var o=s.length-1;o>=0;o--){var v=s[o].trim();m=l[v];if(typeof m!=="number"){throw Error.argument("value",String.format(Sys.Res.enumInvalidValue,n.split(",")[o].trim(),this.__typeName))}u|=m}return u}}function Sys$Enum$toString(k){if(typeof k==="undefined"||k===null){return this.__string}var l=this.prototype,i;if(!this.__flags||k===0){for(i in l){if(l[i]===k){return i}}}else{var j=this.__sortedValues;if(!j){j=[];for(i in l){j[j.length]={key:i,value:l[i]}}j.sort(function(c,d){return c.value-d.value});this.__sortedValues=j}var m=[],o=k;for(i=j.length-1;i>=0;i--){var p=j[i],n=p.value;if(n===0){continue}if((n&k)===n){m[m.length]=p.key;o-=n;if(o===0){break}}}if(m.length&&o===0){return m.reverse().join(", ")}}return""}Type.prototype.registerEnum=function(e,f){Sys.__upperCaseTypes[e.toUpperCase()]=this;for(var d in this.prototype){this[d]=this.prototype[d]}this.__typeName=e;this.parse=Sys$Enum$parse;this.__string=this.toString();this.toString=Sys$Enum$toString;this.__flags=f;this.__enum=true};Type.isEnum=function(b){if(typeof b==="undefined"||b===null){return false}return !!b.__enum};Type.isFlags=function(b){if(typeof b==="undefined"||b===null){return false}return !!b.__flags};Sys.CollectionChange=function(j,f,h,g,i){this.action=j;if(f){if(!(f instanceof Array)){f=[f]}}this.newItems=f||null;if(typeof h!=="number"){h=-1}this.newStartingIndex=h;if(g){if(!(g instanceof Array)){g=[g]}}this.oldItems=g||null;if(typeof i!=="number"){i=-1}this.oldStartingIndex=i};Sys.CollectionChange.registerClass("Sys.CollectionChange");Sys.NotifyCollectionChangedAction=function(){throw Error.notImplemented()};Sys.NotifyCollectionChangedAction.prototype={add:0,remove:1,reset:2};Sys.NotifyCollectionChangedAction.registerEnum("Sys.NotifyCollectionChangedAction");Sys.NotifyCollectionChangedEventArgs=function(b){this._changes=b;Sys.NotifyCollectionChangedEventArgs.initializeBase(this)};Sys.NotifyCollectionChangedEventArgs.prototype={get_changes:function(){return this._changes||[]}};Sys.NotifyCollectionChangedEventArgs.registerClass("Sys.NotifyCollectionChangedEventArgs",Sys.EventArgs);Sys.Observer=function(){};Sys.Observer.registerClass("Sys.Observer");Sys.Observer.makeObservable=function(d){var f=d instanceof Array,e=Sys.Observer;if(d.setValue===e._observeMethods.setValue){return d}e._addMethods(d,e._observeMethods);if(f){e._addMethods(d,e._arrayMethods)}return d};Sys.Observer._addMethods=function(f,e){for(var d in e){f[d]=e[d]}};Sys.Observer._addEventHandler=function(f,d,e){Sys.Observer._getContext(f,true).events._addHandler(d,e)};Sys.Observer.addEventHandler=function(f,d,e){Sys.Observer._addEventHandler(f,d,e)};Sys.Observer._removeEventHandler=function(f,d,e){Sys.Observer._getContext(f,true).events._removeHandler(d,e)};Sys.Observer.removeEventHandler=function(f,d,e){Sys.Observer._removeEventHandler(f,d,e)};Sys.Observer.raiseEvent=function(g,j,i){var h=Sys.Observer._getContext(g);if(!h){return}var f=h.events.getHandler(j);if(f){f(g,i)}};Sys.Observer.addPropertyChanged=function(d,c){Sys.Observer._addEventHandler(d,"propertyChanged",c)};Sys.Observer.removePropertyChanged=function(d,c){Sys.Observer._removeEventHandler(d,"propertyChanged",c)};Sys.Observer.beginUpdate=function(b){Sys.Observer._getContext(b,true).updating=true};Sys.Observer.endUpdate=function(f){var e=Sys.Observer._getContext(f);if(!e||!e.updating){return}e.updating=false;var h=e.dirty;e.dirty=false;if(h){if(f instanceof Array){var g=e.changes;e.changes=null;Sys.Observer.raiseCollectionChanged(f,g)}Sys.Observer.raisePropertyChanged(f,"")}};Sys.Observer.isUpdating=function(d){var c=Sys.Observer._getContext(d);return c?c.updating:false};Sys.Observer._setValue=function(o,x,u){var p,t,y=o,r=x.split(".");for(var w=0,A=r.length-1;w<A;w++){var z=r[w];p=o["get_"+z];if(typeof p==="function"){o=p.call(o)}else{o=o[z]}var B=typeof o;if(o===null||B==="undefined"){throw Error.invalidOperation(String.format(Sys.Res.nullReferenceInPath,x))}}var s,q=r[A];p=o["get_"+q];t=o["set_"+q];if(typeof p==="function"){s=p.call(o)}else{s=o[q]}if(typeof t==="function"){t.call(o,u)}else{o[q]=u}if(s!==u){var v=Sys.Observer._getContext(y);if(v&&v.updating){v.dirty=true;return}Sys.Observer.raisePropertyChanged(y,r[0])}};Sys.Observer.setValue=function(e,d,f){Sys.Observer._setValue(e,d,f)};Sys.Observer.raisePropertyChanged=function(d,c){Sys.Observer.raiseEvent(d,"propertyChanged",new Sys.PropertyChangedEventArgs(c))};Sys.Observer.addCollectionChanged=function(d,c){Sys.Observer._addEventHandler(d,"collectionChanged",c)};Sys.Observer.removeCollectionChanged=function(d,c){Sys.Observer._removeEventHandler(d,"collectionChanged",c)};Sys.Observer._collectionChange=function(h,g){var e=Sys.Observer._getContext(h);if(e&&e.updating){e.dirty=true;var f=e.changes;if(!f){e.changes=f=[g]}else{f.push(g)}}else{Sys.Observer.raiseCollectionChanged(h,[g]);Sys.Observer.raisePropertyChanged(h,"length")}};Sys.Observer.add=function(d,e){var f=new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.add,[e],d.length);Array.add(d,e);Sys.Observer._collectionChange(d,f)};Sys.Observer.addRange=function(d,e){var f=new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.add,e,d.length);Array.addRange(d,e);Sys.Observer._collectionChange(d,f)};Sys.Observer.clear=function(c){var d=Array.clone(c);Array.clear(c);Sys.Observer._collectionChange(c,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.reset,null,-1,d,0))};Sys.Observer.insert=function(d,e,f){Array.insert(d,e,f);Sys.Observer._collectionChange(d,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.add,[f],e))};Sys.Observer.remove=function(d,e){var f=Array.indexOf(d,e);if(f!==-1){Array.remove(d,e);Sys.Observer._collectionChange(d,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.remove,null,-1,[e],f));return true}return false};Sys.Observer.removeAt=function(e,d){if(d>-1&&d<e.length){var f=e[d];Array.removeAt(e,d);Sys.Observer._collectionChange(e,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.remove,null,-1,[f],d))}};Sys.Observer.raiseCollectionChanged=function(d,c){Sys.Observer.raiseEvent(d,"collectionChanged",new Sys.NotifyCollectionChangedEventArgs(c))};Sys.Observer._observeMethods={add_propertyChanged:function(b){Sys.Observer._addEventHandler(this,"propertyChanged",b)},remove_propertyChanged:function(b){Sys.Observer._removeEventHandler(this,"propertyChanged",b)},addEventHandler:function(c,d){Sys.Observer._addEventHandler(this,c,d)},removeEventHandler:function(c,d){Sys.Observer._removeEventHandler(this,c,d)},get_isUpdating:function(){return Sys.Observer.isUpdating(this)},beginUpdate:function(){Sys.Observer.beginUpdate(this)},endUpdate:function(){Sys.Observer.endUpdate(this)},setValue:function(d,c){Sys.Observer._setValue(this,d,c)},raiseEvent:function(d,c){Sys.Observer.raiseEvent(this,d,c)},raisePropertyChanged:function(b){Sys.Observer.raiseEvent(this,"propertyChanged",new Sys.PropertyChangedEventArgs(b))}};Sys.Observer._arrayMethods={add_collectionChanged:function(b){Sys.Observer._addEventHandler(this,"collectionChanged",b)},remove_collectionChanged:function(b){Sys.Observer._removeEventHandler(this,"collectionChanged",b)},add:function(b){Sys.Observer.add(this,b)},addRange:function(b){Sys.Observer.addRange(this,b)},clear:function(){Sys.Observer.clear(this)},insert:function(c,d){Sys.Observer.insert(this,c,d)},remove:function(b){return Sys.Observer.remove(this,b)},removeAt:function(b){Sys.Observer.removeAt(this,b)},raiseCollectionChanged:function(b){Sys.Observer.raiseEvent(this,"collectionChanged",new Sys.NotifyCollectionChangedEventArgs(b))}};Sys.Observer._getContext=function(e,f){var d=e._observerContext;if(d){return d()}if(f){return(e._observerContext=Sys.Observer._createContext())()}return null};Sys.Observer._createContext=function(){var b={events:new Sys.EventHandlerList};return function(){return b}};Date._appendPreOrPostMatch=function(l,i){var k=0,h=false;for(var j=0,n=l.length;j<n;j++){var m=l.charAt(j);switch(m){case"'":if(h){i.append("'")}else{k++}h=false;break;case"\\":if(h){i.append("\\")}h=!h;break;default:i.append(m);h=false}}return k};Date._expandFormat=function(d,e){if(!e){e="F"}var f=e.length;if(f===1){switch(e){case"d":return d.ShortDatePattern;case"D":return d.LongDatePattern;case"t":return d.ShortTimePattern;case"T":return d.LongTimePattern;case"f":return d.LongDatePattern+" "+d.ShortTimePattern;case"F":return d.FullDateTimePattern;case"M":case"m":return d.MonthDayPattern;case"s":return d.SortableDateTimePattern;case"Y":case"y":return d.YearMonthPattern;default:throw Error.format(Sys.Res.formatInvalidString)}}else{if(f===2&&e.charAt(0)==="%"){e=e.charAt(1)}}return e};Date._expandYear=function(h,f){var i=new Date,j=Date._getEra(i);if(f<100){var g=Date._getEraYear(i,h,j);f+=g-g%100;if(f>h.Calendar.TwoDigitYearMax){f-=100}}return f};Date._getEra=function(k,i){if(!i){return 0}var h,j=k.getTime();for(var g=0,l=i.length;g<l;g+=4){h=i[g+2];if(h===null||j>=h){return g}}return 0};Date._getEraYear=function(i,g,j,h){var f=i.getFullYear();if(!h&&g.eras){f-=g.eras[j+3]}return f};Date._getParseRegExp=function(n,q){if(!n._parseRegExp){n._parseRegExp={}}else{if(n._parseRegExp[q]){return n._parseRegExp[q]}}var o=Date._expandFormat(n,q);o=o.replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1");var m=new Sys.StringBuilder("^"),v=[],r=0,u=0,t=Date._getTokenRegExp(),p;while((p=t.exec(o))!==null){var x=o.slice(r,p.index);r=t.lastIndex;u+=Date._appendPreOrPostMatch(x,m);if(u%2===1){m.append(p[0]);continue}switch(p[0]){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":m.append("(\\D+)");break;case"tt":case"t":m.append("(\\D*)");break;case"yyyy":m.append("(\\d{4})");break;case"fff":m.append("(\\d{3})");break;case"ff":m.append("(\\d{2})");break;case"f":m.append("(\\d)");break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":m.append("(\\d\\d?)");break;case"zzz":m.append("([+-]?\\d\\d?:\\d{2})");break;case"zz":case"z":m.append("([+-]?\\d\\d?)");break;case"/":m.append("(\\"+n.DateSeparator+")")}Array.add(v,p[0])}Date._appendPreOrPostMatch(o.slice(r),m);m.append("$");var w=m.toString().replace(/\s+/g,"\\s+"),s={regExp:w,groups:v};n._parseRegExp[q]=s;return s};Date._getTokenRegExp=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};Date.parseLocale=function(b){return Date._parse(b,Sys.CultureInfo.CurrentCulture,arguments)};Date.parseInvariant=function(b){return Date._parse(b,Sys.CultureInfo.InvariantCulture,arguments)};Date._parse=function(q,m,r){var j,l,k,o,n,p=false;for(j=1,l=r.length;j<l;j++){o=r[j];if(o){p=true;k=Date._parseExact(q,o,m);if(k){return k}}}if(!p){n=m._getDateTimeFormats();for(j=0,l=n.length;j<l;j++){k=Date._parseExact(q,n[j],m);if(k){return k}}}return null};Date._parseExact=function(ai,N,W){ai=ai.trim();var S=W.dateTimeFormat,H=Date._getParseRegExp(S,N),L=(new RegExp(H.regExp)).exec(ai);if(L===null){return null}var J=H.groups,aj=null,O=null,K=null,V=null,U=null,M=0,T,ab=0,ac=0,Q=0,X=null,ah=false;for(var ae=0,P=J.length;ae<P;ae++){var G=L[ae+1];if(G){switch(J[ae]){case"dd":case"d":V=parseInt(G,10);if(V<1||V>31){return null}break;case"MMMM":K=W._getMonthIndex(G);if(K<0||K>11){return null}break;case"MMM":K=W._getAbbrMonthIndex(G);if(K<0||K>11){return null}break;case"M":case"MM":K=parseInt(G,10)-1;if(K<0||K>11){return null}break;case"y":case"yy":O=Date._expandYear(S,parseInt(G,10));if(O<0||O>9999){return null}break;case"yyyy":O=parseInt(G,10);if(O<0||O>9999){return null}break;case"h":case"hh":M=parseInt(G,10);if(M===12){M=0}if(M<0||M>11){return null}break;case"H":case"HH":M=parseInt(G,10);if(M<0||M>23){return null}break;case"m":case"mm":ab=parseInt(G,10);if(ab<0||ab>59){return null}break;case"s":case"ss":ac=parseInt(G,10);if(ac<0||ac>59){return null}break;case"tt":case"t":var al=G.toUpperCase();ah=al===S.PMDesignator.toUpperCase();if(!ah&&al!==S.AMDesignator.toUpperCase()){return null}break;case"f":Q=parseInt(G,10)*100;if(Q<0||Q>999){return null}break;case"ff":Q=parseInt(G,10)*10;if(Q<0||Q>999){return null}break;case"fff":Q=parseInt(G,10);if(Q<0||Q>999){return null}break;case"dddd":U=W._getDayIndex(G);if(U<0||U>6){return null}break;case"ddd":U=W._getAbbrDayIndex(G);if(U<0||U>6){return null}break;case"zzz":var ag=G.split(/:/);if(ag.length!==2){return null}T=parseInt(ag[0],10);if(T<-12||T>13){return null}var Y=parseInt(ag[1],10);if(Y<0||Y>59){return null}X=T*60+(G.startsWith("-")?-Y:Y);break;case"z":case"zz":T=parseInt(G,10);if(T<-12||T>13){return null}X=T*60;break;case"g":case"gg":var aa=G;if(!aa||!S.eras){return null}aa=aa.toLowerCase().trim();for(var ad=0,R=S.eras.length;ad<R;ad+=4){if(aa===S.eras[ad+1].toLowerCase()){aj=ad;break}}if(aj===null){return null}}}}var I=new Date,af,Z=S.Calendar.convert;if(Z){af=Z.fromGregorian(I)[0]}else{af=I.getFullYear()}if(O===null){O=af}else{if(S.eras){O+=S.eras[(aj||0)+3]}}if(K===null){K=0}if(V===null){V=1}if(Z){I=Z.toGregorian(O,K,V);if(I===null){return null}}else{I.setFullYear(O,K,V);if(I.getDate()!==V){return null}if(U!==null&&I.getDay()!==U){return null}}if(ah&&M<12){M+=12}I.setHours(M,ab,ac,Q);if(X!==null){var ak=I.getMinutes()-(X+I.getTimezoneOffset());I.setHours(I.getHours()+parseInt(ak/60,10),ak%60)}return I};Date.prototype.format=function(b){return this._toFormattedString(b,Sys.CultureInfo.InvariantCulture)};Date.prototype.localeFormat=function(b){return this._toFormattedString(b,Sys.CultureInfo.CurrentCulture)};Date.prototype._toFormattedString=function(C,H){var z=H.dateTimeFormat,L=z.Calendar.convert;if(!C||!C.length||C==="i"){if(H&&H.name.length){if(L){return this._toFormattedString(z.FullDateTimePattern,H)}else{var P=new Date(this.getTime()),V=Date._getEra(this,z.eras);P.setFullYear(Date._getEraYear(this,z,V));return P.toLocaleString()}}else{return this.toString()}}var J=z.eras,I=C==="s";C=Date._expandFormat(z,C);var y=new Sys.StringBuilder,A;function B(b){if(b<10){return"0"+b}return b.toString()}function K(b){if(b<10){return"00"+b}if(b<100){return"0"+b}return b.toString()}function T(b){if(b<10){return"000"+b}else{if(b<100){return"00"+b}else{if(b<1000){return"0"+b}}}return b.toString()}var F,N,R=/([^d]|^)(d|dd)([^d]|$)/g;function Q(){if(F||N){return F}F=R.test(C);N=true;return F}var O=0,M=Date._getTokenRegExp(),D;if(!I&&L){D=L.fromGregorian(this)}for(;true;){var U=M.lastIndex,G=M.exec(C),S=C.slice(U,G?G.index:C.length);O+=Date._appendPreOrPostMatch(S,y);if(!G){break}if(O%2===1){y.append(G[0]);continue}function E(c,d){if(D){return D[d]}switch(d){case 0:return c.getFullYear();case 1:return c.getMonth();case 2:return c.getDate()}}switch(G[0]){case"dddd":y.append(z.DayNames[this.getDay()]);break;case"ddd":y.append(z.AbbreviatedDayNames[this.getDay()]);break;case"dd":F=true;y.append(B(E(this,2)));break;case"d":F=true;y.append(E(this,2));break;case"MMMM":y.append(z.MonthGenitiveNames&&Q()?z.MonthGenitiveNames[E(this,1)]:z.MonthNames[E(this,1)]);break;case"MMM":y.append(z.AbbreviatedMonthGenitiveNames&&Q()?z.AbbreviatedMonthGenitiveNames[E(this,1)]:z.AbbreviatedMonthNames[E(this,1)]);break;case"MM":y.append(B(E(this,1)+1));break;case"M":y.append(E(this,1)+1);break;case"yyyy":y.append(T(D?D[0]:Date._getEraYear(this,z,Date._getEra(this,J),I)));break;case"yy":y.append(B((D?D[0]:Date._getEraYear(this,z,Date._getEra(this,J),I))%100));break;case"y":y.append((D?D[0]:Date._getEraYear(this,z,Date._getEra(this,J),I))%100);break;case"hh":A=this.getHours()%12;if(A===0){A=12}y.append(B(A));break;case"h":A=this.getHours()%12;if(A===0){A=12}y.append(A);break;case"HH":y.append(B(this.getHours()));break;case"H":y.append(this.getHours());break;case"mm":y.append(B(this.getMinutes()));break;case"m":y.append(this.getMinutes());break;case"ss":y.append(B(this.getSeconds()));break;case"s":y.append(this.getSeconds());break;case"tt":y.append(this.getHours()<12?z.AMDesignator:z.PMDesignator);break;case"t":y.append((this.getHours()<12?z.AMDesignator:z.PMDesignator).charAt(0));break;case"f":y.append(K(this.getMilliseconds()).charAt(0));break;case"ff":y.append(K(this.getMilliseconds()).substr(0,2));break;case"fff":y.append(K(this.getMilliseconds()));break;case"z":A=this.getTimezoneOffset()/60;y.append((A<=0?"+":"-")+Math.floor(Math.abs(A)));break;case"zz":A=this.getTimezoneOffset()/60;y.append((A<=0?"+":"-")+B(Math.floor(Math.abs(A))));break;case"zzz":A=this.getTimezoneOffset()/60;y.append((A<=0?"+":"-")+B(Math.floor(Math.abs(A)))+":"+B(Math.abs(this.getTimezoneOffset()%60)));break;case"g":case"gg":if(z.eras){y.append(z.eras[Date._getEra(this,J)+1])}break;case"/":y.append(z.DateSeparator)}}return y.toString()};String.localeFormat=function(){return String._toFormattedString(true,arguments)};Number.parseLocale=function(b){return Number._parse(b,Sys.CultureInfo.CurrentCulture)};Number.parseInvariant=function(b){return Number._parse(b,Sys.CultureInfo.InvariantCulture)};Number._parse=function(q,D){q=q.trim();if(q.match(/^[+-]?infinity$/i)){return parseFloat(q)}if(q.match(/^0x[a-f0-9]+$/i)){return parseInt(q)}var p=D.numberFormat,v=Number._parseNumberNegativePattern(q,p,p.NumberNegativePattern),w=v[0],t=v[1];if(w===""&&p.NumberNegativePattern!==1){v=Number._parseNumberNegativePattern(q,p,1);w=v[0];t=v[1]}if(w===""){w="+"}var y,s,u=t.indexOf("e");if(u<0){u=t.indexOf("E")}if(u<0){s=t;y=null}else{s=t.substr(0,u);y=t.substr(u+1)}var r,z,B=s.indexOf(p.NumberDecimalSeparator);if(B<0){r=s;z=null}else{r=s.substr(0,B);z=s.substr(B+p.NumberDecimalSeparator.length)}r=r.split(p.NumberGroupSeparator).join("");var C=p.NumberGroupSeparator.replace(/\u00A0/g," ");if(p.NumberGroupSeparator!==C){r=r.split(C).join("")}var A=w+r;if(z!==null){A+="."+z}if(y!==null){var x=Number._parseNumberNegativePattern(y,p,1);if(x[0]===""){x[0]="+"}A+="e"+x[0]+x[1]}if(A.match(/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/)){return parseFloat(A)}return Number.NaN};Number._parseNumberNegativePattern=function(f,i,j){var g=i.NegativeSign,h=i.PositiveSign;switch(j){case 4:g=" "+g;h=" "+h;case 3:if(f.endsWith(g)){return["-",f.substr(0,f.length-g.length)]}else{if(f.endsWith(h)){return["+",f.substr(0,f.length-h.length)]}}break;case 2:g+=" ";h+=" ";case 1:if(f.startsWith(g)){return["-",f.substr(g.length)]}else{if(f.startsWith(h)){return["+",f.substr(h.length)]}}break;case 0:if(f.startsWith("(")&&f.endsWith(")")){return["-",f.substr(1,f.length-2)]}}return["",f]};Number.prototype.format=function(b){return this._toFormattedString(b,Sys.CultureInfo.InvariantCulture)};Number.prototype.localeFormat=function(b){return this._toFormattedString(b,Sys.CultureInfo.CurrentCulture)};Number.prototype._toFormattedString=function(v,A){if(!v||v.length===0||v==="i"){if(A&&A.name.length>0){return this.toLocaleString()}else{return this.toString()}}var F=["n %","n%","%n"],E=["-n %","-n%","-%n"],G=["(n)","-n","- n","n-","n -"],D=["$n","n$","$ n","n $"],C=["($n)","-$n","$-n","$n-","(n$)","-n$","n-$","n$-","-n $","-$ n","n $-","$ n-","$ -n","n- $","($ n)","(n $)"];function x(e,g,h){for(var f=e.length;f<g;f++){e=h?"0"+e:e+"0"}return e}function z(P,O,R,T,V){var N=R[0],Q=1,U=Math.pow(10,O),S=Math.round(P*U)/U;if(!isFinite(S)){S=P}P=S;var I=P.toString(),g="",J,L=I.split(/e/i);I=L[0];J=L.length>1?parseInt(L[1]):0;L=I.split(".");I=L[0];g=L.length>1?L[1]:"";var W;if(J>0){g=x(g,J,false);I+=g.slice(0,J);g=g.substr(J)}else{if(J<0){J=-J;I=x(I,J+1,true);g=I.slice(-J,I.length)+g;I=I.slice(0,-J)}}if(O>0){if(g.length>O){g=g.slice(0,O)}else{g=x(g,O,false)}g=V+g}else{g=""}var K=I.length-1,M="";while(K>=0){if(N===0||N>K){if(M.length>0){return I.slice(0,K+1)+T+M+g}else{return I.slice(0,K+1)+g}}if(M.length>0){M=I.slice(K-N+1,K+1)+T+M}else{M=I.slice(K-N+1,K+1)}K-=N;if(Q<R.length){N=R[Q];Q++}}return I.slice(0,K+1)+T+M+g}var r=A.numberFormat,u=Math.abs(this);if(!v){v="D"}var s=-1;if(v.length>1){s=parseInt(v.slice(1),10)}var t;switch(v.charAt(0)){case"d":case"D":t="n";if(s!==-1){u=x(""+u,s,true)}if(this<0){u=-u}break;case"c":case"C":if(this<0){t=C[r.CurrencyNegativePattern]}else{t=D[r.CurrencyPositivePattern]}if(s===-1){s=r.CurrencyDecimalDigits}u=z(Math.abs(this),s,r.CurrencyGroupSizes,r.CurrencyGroupSeparator,r.CurrencyDecimalSeparator);break;case"n":case"N":if(this<0){t=G[r.NumberNegativePattern]}else{t="n"}if(s===-1){s=r.NumberDecimalDigits}u=z(Math.abs(this),s,r.NumberGroupSizes,r.NumberGroupSeparator,r.NumberDecimalSeparator);break;case"p":case"P":if(this<0){t=E[r.PercentNegativePattern]}else{t=F[r.PercentPositivePattern]}if(s===-1){s=r.PercentDecimalDigits}u=z(Math.abs(this)*100,s,r.PercentGroupSizes,r.PercentGroupSeparator,r.PercentDecimalSeparator);break;default:throw Error.format(Sys.Res.formatBadFormatSpecifier)}var B=/n|\$|-|%/g,w="";for(;true;){var H=B.lastIndex,y=B.exec(t);w+=t.slice(H,y?y.index:t.length);if(!y){break}switch(y[0]){case"n":w+=u;break;case"$":w+=r.CurrencySymbol;break;case"-":if(/[1-9]/.test(u)){w+=r.NegativeSign}break;case"%":w+=r.PercentSymbol}}return w};Sys.CultureInfo=function(f,e,d){this.name=f;this.numberFormat=e;this.dateTimeFormat=d};Sys.CultureInfo.prototype={_getDateTimeFormats:function(){if(!this._dateTimeFormats){var b=this.dateTimeFormat;this._dateTimeFormats=[b.MonthDayPattern,b.YearMonthPattern,b.ShortDatePattern,b.ShortTimePattern,b.LongDatePattern,b.LongTimePattern,b.FullDateTimePattern,b.RFC1123Pattern,b.SortableDateTimePattern,b.UniversalSortableDateTimePattern]}return this._dateTimeFormats},_getIndex:function(h,i,j){var g=this._toUpper(h),f=Array.indexOf(i,g);if(f===-1){f=Array.indexOf(j,g)}return f},_getMonthIndex:function(b){if(!this._upperMonths){this._upperMonths=this._toUpperArray(this.dateTimeFormat.MonthNames);this._upperMonthsGenitive=this._toUpperArray(this.dateTimeFormat.MonthGenitiveNames)}return this._getIndex(b,this._upperMonths,this._upperMonthsGenitive)},_getAbbrMonthIndex:function(b){if(!this._upperAbbrMonths){this._upperAbbrMonths=this._toUpperArray(this.dateTimeFormat.AbbreviatedMonthNames);this._upperAbbrMonthsGenitive=this._toUpperArray(this.dateTimeFormat.AbbreviatedMonthGenitiveNames)}return this._getIndex(b,this._upperAbbrMonths,this._upperAbbrMonthsGenitive)},_getDayIndex:function(b){if(!this._upperDays){this._upperDays=this._toUpperArray(this.dateTimeFormat.DayNames)}return Array.indexOf(this._upperDays,this._toUpper(b))},_getAbbrDayIndex:function(b){if(!this._upperAbbrDays){this._upperAbbrDays=this._toUpperArray(this.dateTimeFormat.AbbreviatedDayNames)}return Array.indexOf(this._upperAbbrDays,this._toUpper(b))},_toUpperArray:function(g){var f=[];for(var e=0,h=g.length;e<h;e++){f[e]=this._toUpper(g[e])}return f},_toUpper:function(b){return b.split("\u00a0").join(" ").toUpperCase()}};Sys.CultureInfo.registerClass("Sys.CultureInfo");Sys.CultureInfo._parse=function(c){var d=c.dateTimeFormat;if(d&&!d.eras){d.eras=c.eras}return new Sys.CultureInfo(c.name,c.numberFormat,d)};Sys.CultureInfo.InvariantCulture=Sys.CultureInfo._parse({name:"",numberFormat:{CurrencyDecimalDigits:2,CurrencyDecimalSeparator:".",IsReadOnly:true,CurrencyGroupSizes:[3],NumberGroupSizes:[3],PercentGroupSizes:[3],CurrencyGroupSeparator:",",CurrencySymbol:"\u00a4",NaNSymbol:"NaN",CurrencyNegativePattern:0,NumberNegativePattern:1,PercentPositivePattern:0,PercentNegativePattern:0,NegativeInfinitySymbol:"-Infinity",NegativeSign:"-",NumberDecimalDigits:2,NumberDecimalSeparator:".",NumberGroupSeparator:",",CurrencyPositivePattern:0,PositiveInfinitySymbol:"Infinity",PositiveSign:"+",PercentDecimalDigits:2,PercentDecimalSeparator:".",PercentGroupSeparator:",",PercentSymbol:"%",PerMilleSymbol:"\u2030",NativeDigits:["0","1","2","3","4","5","6","7","8","9"],DigitSubstitution:1},dateTimeFormat:{AMDesignator:"AM",Calendar:{MinSupportedDateTime:"@-62135568000000@",MaxSupportedDateTime:"@253402300799999@",AlgorithmType:1,CalendarType:1,Eras:[1],TwoDigitYearMax:2029,IsReadOnly:true},DateSeparator:"/",FirstDayOfWeek:0,CalendarWeekRule:0,FullDateTimePattern:"dddd, dd MMMM yyyy HH:mm:ss",LongDatePattern:"dddd, dd MMMM yyyy",LongTimePattern:"HH:mm:ss",MonthDayPattern:"MMMM dd",PMDesignator:"PM",RFC1123Pattern:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",ShortDatePattern:"MM/dd/yyyy",ShortTimePattern:"HH:mm",SortableDateTimePattern:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",TimeSeparator:":",UniversalSortableDateTimePattern:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",YearMonthPattern:"yyyy MMMM",AbbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ShortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],DayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],AbbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],IsReadOnly:true,NativeCalendarName:"Gregorian Calendar",AbbreviatedMonthGenitiveNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthGenitiveNames:["January","February","March","April","May","June","July","August","September","October","November","December",""]},eras:[1,"A.D.",null,0]});if(typeof __cultureInfo==="object"){Sys.CultureInfo.CurrentCulture=Sys.CultureInfo._parse(__cultureInfo);delete __cultureInfo}else{Sys.CultureInfo.CurrentCulture=Sys.CultureInfo._parse({name:"en-US",numberFormat:{CurrencyDecimalDigits:2,CurrencyDecimalSeparator:".",IsReadOnly:false,CurrencyGroupSizes:[3],NumberGroupSizes:[3],PercentGroupSizes:[3],CurrencyGroupSeparator:",",CurrencySymbol:"$",NaNSymbol:"NaN",CurrencyNegativePattern:0,NumberNegativePattern:1,PercentPositivePattern:0,PercentNegativePattern:0,NegativeInfinitySymbol:"-Infinity",NegativeSign:"-",NumberDecimalDigits:2,NumberDecimalSeparator:".",NumberGroupSeparator:",",CurrencyPositivePattern:0,PositiveInfinitySymbol:"Infinity",PositiveSign:"+",PercentDecimalDigits:2,PercentDecimalSeparator:".",PercentGroupSeparator:",",PercentSymbol:"%",PerMilleSymbol:"\u2030",NativeDigits:["0","1","2","3","4","5","6","7","8","9"],DigitSubstitution:1},dateTimeFormat:{AMDesignator:"AM",Calendar:{MinSupportedDateTime:"@-62135568000000@",MaxSupportedDateTime:"@253402300799999@",AlgorithmType:1,CalendarType:1,Eras:[1],TwoDigitYearMax:2029,IsReadOnly:false},DateSeparator:"/",FirstDayOfWeek:0,CalendarWeekRule:0,FullDateTimePattern:"dddd, MMMM dd, yyyy h:mm:ss tt",LongDatePattern:"dddd, MMMM dd, yyyy",LongTimePattern:"h:mm:ss tt",MonthDayPattern:"MMMM dd",PMDesignator:"PM",RFC1123Pattern:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",ShortDatePattern:"M/d/yyyy",ShortTimePattern:"h:mm tt",SortableDateTimePattern:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",TimeSeparator:":",UniversalSortableDateTimePattern:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",YearMonthPattern:"MMMM, yyyy",AbbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ShortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],DayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],AbbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],IsReadOnly:false,NativeCalendarName:"Gregorian Calendar",AbbreviatedMonthGenitiveNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthGenitiveNames:["January","February","March","April","May","June","July","August","September","October","November","December",""]},eras:[1,"A.D.",null,0]})}Type.registerNamespace("Sys.Serialization");Sys.Serialization.JavaScriptSerializer=function(){};Sys.Serialization.JavaScriptSerializer.registerClass("Sys.Serialization.JavaScriptSerializer");Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs=[];Sys.Serialization.JavaScriptSerializer._charsToEscape=[];Sys.Serialization.JavaScriptSerializer._dateRegEx=new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"',"g");Sys.Serialization.JavaScriptSerializer._escapeChars={};Sys.Serialization.JavaScriptSerializer._escapeRegEx=new RegExp('["\\\\\\x00-\\x1F]',"i");Sys.Serialization.JavaScriptSerializer._escapeRegExGlobal=new RegExp('["\\\\\\x00-\\x1F]',"g");Sys.Serialization.JavaScriptSerializer._jsonRegEx=new RegExp("[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]","g");Sys.Serialization.JavaScriptSerializer._jsonStringRegEx=new RegExp('"(\\\\.|[^"\\\\])*"',"g");Sys.Serialization.JavaScriptSerializer._serverTypeFieldName="__type";Sys.Serialization.JavaScriptSerializer._init=function(){var f=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000b","\\f","\\r","\\u000e","\\u000f","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001a","\\u001b","\\u001c","\\u001d","\\u001e","\\u001f"];Sys.Serialization.JavaScriptSerializer._charsToEscape[0]="\\";Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs["\\"]=new RegExp("\\\\","g");Sys.Serialization.JavaScriptSerializer._escapeChars["\\"]="\\\\";Sys.Serialization.JavaScriptSerializer._charsToEscape[1]='"';Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs['"']=new RegExp('"',"g");Sys.Serialization.JavaScriptSerializer._escapeChars['"']='\\"';for(var d=0;d<32;d++){var e=String.fromCharCode(d);Sys.Serialization.JavaScriptSerializer._charsToEscape[d+2]=e;Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs[e]=new RegExp(e,"g");Sys.Serialization.JavaScriptSerializer._escapeChars[e]=f[d]}};Sys.Serialization.JavaScriptSerializer._serializeBooleanWithBuilder=function(d,c){c.append(d.toString())};Sys.Serialization.JavaScriptSerializer._serializeNumberWithBuilder=function(c,d){if(isFinite(c)){d.append(String(c))}else{throw Error.invalidOperation(Sys.Res.cannotSerializeNonFiniteNumbers)}};Sys.Serialization.JavaScriptSerializer._serializeStringWithBuilder=function(e,g){g.append('"');if(Sys.Serialization.JavaScriptSerializer._escapeRegEx.test(e)){if(Sys.Serialization.JavaScriptSerializer._charsToEscape.length===0){Sys.Serialization.JavaScriptSerializer._init()}if(e.length<128){e=e.replace(Sys.Serialization.JavaScriptSerializer._escapeRegExGlobal,function(b){return Sys.Serialization.JavaScriptSerializer._escapeChars[b]})}else{for(var h=0;h<34;h++){var f=Sys.Serialization.JavaScriptSerializer._charsToEscape[h];if(e.indexOf(f)!==-1){if(Sys.Browser.agent===Sys.Browser.Opera||Sys.Browser.agent===Sys.Browser.FireFox){e=e.split(f).join(Sys.Serialization.JavaScriptSerializer._escapeChars[f])}else{e=e.replace(Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs[f],Sys.Serialization.JavaScriptSerializer._escapeChars[f])}}}}}g.append(e);g.append('"')};Sys.Serialization.JavaScriptSerializer._serializeWithBuilder=function(l,k,s,q){var m;switch(typeof l){case"object":if(l){if(Number.isInstanceOfType(l)){Sys.Serialization.JavaScriptSerializer._serializeNumberWithBuilder(l,k)}else{if(Boolean.isInstanceOfType(l)){Sys.Serialization.JavaScriptSerializer._serializeBooleanWithBuilder(l,k)}else{if(String.isInstanceOfType(l)){Sys.Serialization.JavaScriptSerializer._serializeStringWithBuilder(l,k)}else{if(Array.isInstanceOfType(l)){k.append("[");for(m=0;m<l.length;++m){if(m>0){k.append(",")}Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(l[m],k,false,q)}k.append("]")}else{if(Date.isInstanceOfType(l)){k.append('"\\/Date(');k.append(l.getTime());k.append(')\\/"');break}var n=[],p=0;for(var o in l){if(o.startsWith("$")){continue}if(o===Sys.Serialization.JavaScriptSerializer._serverTypeFieldName&&p!==0){n[p++]=n[0];n[0]=o}else{n[p++]=o}}if(s){n.sort()}k.append("{");var t=false;for(m=0;m<p;m++){var r=l[n[m]];if(typeof r!=="undefined"&&typeof r!=="function"){if(t){k.append(",")}else{t=true}Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(n[m],k,s,q);k.append(":");Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(r,k,s,q)}}k.append("}")}}}}}else{k.append("null")}break;case"number":Sys.Serialization.JavaScriptSerializer._serializeNumberWithBuilder(l,k);break;case"string":Sys.Serialization.JavaScriptSerializer._serializeStringWithBuilder(l,k);break;case"boolean":Sys.Serialization.JavaScriptSerializer._serializeBooleanWithBuilder(l,k);break;default:k.append("null")}};Sys.Serialization.JavaScriptSerializer.serialize=function(d){var c=new Sys.StringBuilder;Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(d,c,false);return c.toString()};Sys.Serialization.JavaScriptSerializer.deserialize=function(data,secure){if(data.length===0){throw Error.argument("data",Sys.Res.cannotDeserializeEmptyString)}try{var exp=data.replace(Sys.Serialization.JavaScriptSerializer._dateRegEx,"$1new Date($2)");if(secure&&Sys.Serialization.JavaScriptSerializer._jsonRegEx.test(exp.replace(Sys.Serialization.JavaScriptSerializer._jsonStringRegEx,""))){throw null}return eval("("+exp+")")}catch(a){throw Error.argument("data",Sys.Res.cannotDeserializeInvalidJson)}};Type.registerNamespace("Sys.UI");Sys.EventHandlerList=function(){this._list={}};Sys.EventHandlerList.prototype={_addHandler:function(d,c){Array.add(this._getEvent(d,true),c)},addHandler:function(d,c){this._addHandler(d,c)},_removeHandler:function(f,e){var d=this._getEvent(f);if(!d){return}Array.remove(d,e)},removeHandler:function(d,c){this._removeHandler(d,c)},getHandler:function(d){var c=this._getEvent(d);if(!c||c.length===0){return null}c=Array.clone(c);return function(f,g){for(var a=0,h=c.length;a<h;a++){c[a](f,g)}}},_getEvent:function(c,d){if(!this._list[c]){if(!d){return null}this._list[c]=[]}return this._list[c]}};Sys.EventHandlerList.registerClass("Sys.EventHandlerList");Sys.CommandEventArgs=function(f,d,e){Sys.CommandEventArgs.initializeBase(this);this._commandName=f;this._commandArgument=d;this._commandSource=e};Sys.CommandEventArgs.prototype={_commandName:null,_commandArgument:null,_commandSource:null,get_commandName:function(){return this._commandName},get_commandArgument:function(){return this._commandArgument},get_commandSource:function(){return this._commandSource}};Sys.CommandEventArgs.registerClass("Sys.CommandEventArgs",Sys.CancelEventArgs);Sys.INotifyPropertyChange=function(){};Sys.INotifyPropertyChange.prototype={};Sys.INotifyPropertyChange.registerInterface("Sys.INotifyPropertyChange");Sys.PropertyChangedEventArgs=function(b){Sys.PropertyChangedEventArgs.initializeBase(this);this._propertyName=b};Sys.PropertyChangedEventArgs.prototype={get_propertyName:function(){return this._propertyName}};Sys.PropertyChangedEventArgs.registerClass("Sys.PropertyChangedEventArgs",Sys.EventArgs);Sys.INotifyDisposing=function(){};Sys.INotifyDisposing.prototype={};Sys.INotifyDisposing.registerInterface("Sys.INotifyDisposing");Sys.Component=function(){if(Sys.Application){Sys.Application.registerDisposableObject(this)}};Sys.Component.prototype={_id:null,_initialized:false,_updating:false,get_events:function(){if(!this._events){this._events=new Sys.EventHandlerList}return this._events},get_id:function(){return this._id},set_id:function(b){this._id=b},get_isInitialized:function(){return this._initialized},get_isUpdating:function(){return this._updating},add_disposing:function(b){this.get_events().addHandler("disposing",b)},remove_disposing:function(b){this.get_events().removeHandler("disposing",b)},add_propertyChanged:function(b){this.get_events().addHandler("propertyChanged",b)},remove_propertyChanged:function(b){this.get_events().removeHandler("propertyChanged",b)},beginUpdate:function(){this._updating=true},dispose:function(){if(this._events){var b=this._events.getHandler("disposing");if(b){b(this,Sys.EventArgs.Empty)}}delete this._events;Sys.Application.unregisterDisposableObject(this);Sys.Application.removeComponent(this)},endUpdate:function(){this._updating=false;if(!this._initialized){this.initialize()}this.updated()},initialize:function(){this._initialized=true},raisePropertyChanged:function(d){if(!this._events){return}var c=this._events.getHandler("propertyChanged");if(c){c(this,new Sys.PropertyChangedEventArgs(d))}},updated:function(){}};Sys.Component.registerClass("Sys.Component",null,Sys.IDisposable,Sys.INotifyPropertyChange,Sys.INotifyDisposing);function Sys$Component$_setProperties(o,w){var r,x=Object.getType(o),s=x===Object||x===Sys.UI.DomElement,v=Sys.Component.isInstanceOfType(o)&&!o.get_isUpdating();if(v){o.beginUpdate()}for(var q in w){var p=w[q],t=s?null:o["get_"+q];if(s||typeof t!=="function"){var y=o[q];if(!p||typeof p!=="object"||s&&!y){o[q]=p}else{Sys$Component$_setProperties(y,p)}}else{var z=o["set_"+q];if(typeof z==="function"){z.apply(o,[p])}else{if(p instanceof Array){r=t.apply(o);for(var u=0,A=r.length,B=p.length;u<B;u++,A++){r[A]=p[u]}}else{if(typeof p==="object"&&Object.getType(p)===Object){r=t.apply(o);Sys$Component$_setProperties(r,p)}}}}}if(v){o.endUpdate()}}function Sys$Component$_setReferences(h,g){for(var f in g){var j=h["set_"+f],i=$find(g[f]);j.apply(h,[i])}}var $create=Sys.Component.create=function(q,o,m,l,p){var j=p?new q(p):new q,k=Sys.Application,r=k.get_isCreatingComponents();j.beginUpdate();if(o){Sys$Component$_setProperties(j,o)}if(m){for(var n in m){j["add_"+n](m[n])}}if(j.get_id()){k.addComponent(j)}if(r){k._createdComponents[k._createdComponents.length]=j;if(l){k._addComponentToSecondPass(j,l)}else{j.endUpdate()}}else{if(l){Sys$Component$_setReferences(j,l)}j.endUpdate()}return j};Sys.UI.MouseButton=function(){throw Error.notImplemented()};Sys.UI.MouseButton.prototype={leftButton:0,middleButton:1,rightButton:2};Sys.UI.MouseButton.registerEnum("Sys.UI.MouseButton");Sys.UI.Key=function(){throw Error.notImplemented()};Sys.UI.Key.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};Sys.UI.Key.registerEnum("Sys.UI.Key");Sys.UI.Point=function(c,d){this.x=c;this.y=d};Sys.UI.Point.registerClass("Sys.UI.Point");Sys.UI.Bounds=function(g,h,f,e){this.x=g;this.y=h;this.height=e;this.width=f};Sys.UI.Bounds.registerClass("Sys.UI.Bounds");Sys.UI.DomEvent=function(j){var f=j,g=this.type=f.type.toLowerCase();this.rawEvent=f;this.altKey=f.altKey;if(typeof f.button!=="undefined"){this.button=typeof f.which!=="undefined"?f.button:f.button===4?Sys.UI.MouseButton.middleButton:f.button===2?Sys.UI.MouseButton.rightButton:Sys.UI.MouseButton.leftButton}if(g==="keypress"){this.charCode=f.charCode||f.keyCode}else{if(f.keyCode&&f.keyCode===46){this.keyCode=127}else{this.keyCode=f.keyCode}}this.clientX=f.clientX;this.clientY=f.clientY;this.ctrlKey=f.ctrlKey;this.target=f.target?f.target:f.srcElement;if(!g.startsWith("key")){if(typeof f.offsetX!=="undefined"&&typeof f.offsetY!=="undefined"){this.offsetX=f.offsetX;this.offsetY=f.offsetY}else{if(this.target&&this.target.nodeType!==3&&typeof f.clientX==="number"){var h=Sys.UI.DomElement.getLocation(this.target),i=Sys.UI.DomElement._getWindow(this.target);this.offsetX=(i.pageXOffset||0)+f.clientX-h.x;this.offsetY=(i.pageYOffset||0)+f.clientY-h.y}}}this.screenX=f.screenX;this.screenY=f.screenY;this.shiftKey=f.shiftKey};Sys.UI.DomEvent.prototype={preventDefault:function(){if(this.rawEvent.preventDefault){this.rawEvent.preventDefault()}else{if(window.event){this.rawEvent.returnValue=false}}},stopPropagation:function(){if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation()}else{if(window.event){this.rawEvent.cancelBubble=true}}}};Sys.UI.DomEvent.registerClass("Sys.UI.DomEvent");var $addHandler=Sys.UI.DomEvent.addHandler=function(h,k,l,n){if(!h._events){h._events={}}var j=h._events[k];if(!j){h._events[k]=j=[]}var i;if(h.addEventListener){i=function(a){return l.call(h,new Sys.UI.DomEvent(a))};h.addEventListener(k,i,false)}else{if(h.attachEvent){i=function(){var a={};try{a=Sys.UI.DomElement._getWindow(h).event}catch(d){}return l.call(h,new Sys.UI.DomEvent(a))};h.attachEvent("on"+k,i)}}j[j.length]={handler:l,browserHandler:i,autoRemove:n};if(n){var m=h.dispose;if(m!==Sys.UI.DomEvent._disposeHandlers){h.dispose=Sys.UI.DomEvent._disposeHandlers;if(typeof m!=="undefined"){h._chainDispose=m}}}},$addHandlers=Sys.UI.DomEvent.addHandlers=function(l,j,i,k){for(var h in j){var g=j[h];if(i){g=Function.createDelegate(i,g)}$addHandler(l,h,g,k||false)}},$clearHandlers=Sys.UI.DomEvent.clearHandlers=function(b){Sys.UI.DomEvent._clearHandlers(b,false)};Sys.UI.DomEvent._clearHandlers=function(h,n){if(h._events){var l=h._events;for(var i in l){var k=l[i];for(var j=k.length-1;j>=0;j--){var m=k[j];if(!n||m.autoRemove){$removeHandler(h,i,m.handler)}}}h._events=null}};Sys.UI.DomEvent._disposeHandlers=function(){Sys.UI.DomEvent._clearHandlers(this,true);var d=this._chainDispose,c=typeof d;if(c!=="undefined"){this.dispose=d;this._chainDispose=null;if(c==="function"){this.dispose()}}};var $removeHandler=Sys.UI.DomEvent.removeHandler=function(e,d,f){Sys.UI.DomEvent._removeHandler(e,d,f)};Sys.UI.DomEvent._removeHandler=function(h,l,m){var k=null,j=h._events[l];for(var i=0,n=j.length;i<n;i++){if(j[i].handler===m){k=j[i].browserHandler;break}}if(h.removeEventListener){h.removeEventListener(l,k,false)}else{if(h.detachEvent){h.detachEvent("on"+l,k)}}j.splice(i,1)};Sys.UI.DomElement=function(){};Sys.UI.DomElement.registerClass("Sys.UI.DomElement");Sys.UI.DomElement.addCssClass=function(c,d){if(!Sys.UI.DomElement.containsCssClass(c,d)){if(c.className===""){c.className=d}else{c.className+=" "+d}}};Sys.UI.DomElement.containsCssClass=function(d,c){return Array.contains(d.className.split(" "),c)};Sys.UI.DomElement.getBounds=function(c){var d=Sys.UI.DomElement.getLocation(c);return new Sys.UI.Bounds(d.x,d.y,c.offsetWidth||0,c.offsetHeight||0)};var $get=Sys.UI.DomElement.getElementById=function(l,k){if(!k){return document.getElementById(l)}if(k.getElementById){return k.getElementById(l)}var i=[],j=k.childNodes;for(var h=0;h<j.length;h++){var g=j[h];if(g.nodeType==1){i[i.length]=g}}while(i.length){g=i.shift();if(g.id==l){return g}j=g.childNodes;for(h=0;h<j.length;h++){g=j[h];if(g.nodeType==1){i[i.length]=g}}}return null};if(document.documentElement.getBoundingClientRect){Sys.UI.DomElement.getLocation=function(n){if(n.self||n.nodeType===9||n===document.documentElement||n.parentNode===n.ownerDocument.documentElement){return new Sys.UI.Point(0,0)}var r=n.getBoundingClientRect();if(!r){return new Sys.UI.Point(0,0)}var w,q=n.ownerDocument.documentElement,o=Math.round(r.left)+q.scrollLeft,p=Math.round(r.top)+q.scrollTop;if(Sys.Browser.agent===Sys.Browser.InternetExplorer){try{var s=n.ownerDocument.parentWindow.frameElement||null;if(s){var t=s.frameBorder==="0"||s.frameBorder==="no"?2:0;o+=t;p+=t}}catch(x){}if(Sys.Browser.version===7&&!document.documentMode){var u=document.body,v=u.getBoundingClientRect(),m=(v.right-v.left)/u.clientWidth;m=Math.round(m*100);m=(m-m%5)/100;if(!isNaN(m)&&m!==1){o=Math.round(o/m);p=Math.round(p/m)}}if((document.documentMode||0)<8){o-=q.clientLeft;p-=q.clientTop}}return new Sys.UI.Point(o,p)}}else{if(Sys.Browser.agent===Sys.Browser.Safari){Sys.UI.DomElement.getLocation=function(m){if(m.window&&m.window===m||m.nodeType===9){return new Sys.UI.Point(0,0)}var n=0,o=0,k,t=null,q=null,l;for(k=m;k;t=k,(q=l,k=k.offsetParent)){l=Sys.UI.DomElement._getCurrentStyle(k);var p=k.tagName?k.tagName.toUpperCase():null;if((k.offsetLeft||k.offsetTop)&&(p!=="BODY"||(!q||q.position!=="absolute"))){n+=k.offsetLeft;o+=k.offsetTop}if(t&&Sys.Browser.version>=3){n+=parseInt(l.borderLeftWidth);o+=parseInt(l.borderTopWidth)}}l=Sys.UI.DomElement._getCurrentStyle(m);var r=l?l.position:null;if(!r||r!=="absolute"){for(k=m.parentNode;k;k=k.parentNode){p=k.tagName?k.tagName.toUpperCase():null;if(p!=="BODY"&&p!=="HTML"&&(k.scrollLeft||k.scrollTop)){n-=k.scrollLeft||0;o-=k.scrollTop||0}l=Sys.UI.DomElement._getCurrentStyle(k);var s=l?l.position:null;if(s&&s==="absolute"){break}}}return new Sys.UI.Point(n,o)}}else{Sys.UI.DomElement.getLocation=function(m){if(m.window&&m.window===m||m.nodeType===9){return new Sys.UI.Point(0,0)}var n=0,o=0,j,r=null,p=null,k=null;for(j=m;j;r=j,(p=k,j=j.offsetParent)){var l=j.tagName?j.tagName.toUpperCase():null;k=Sys.UI.DomElement._getCurrentStyle(j);if((j.offsetLeft||j.offsetTop)&&!(l==="BODY"&&(!p||p.position!=="absolute"))){n+=j.offsetLeft;o+=j.offsetTop}if(r!==null&&k){if(l!=="TABLE"&&l!=="TD"&&l!=="HTML"){n+=parseInt(k.borderLeftWidth)||0;o+=parseInt(k.borderTopWidth)||0}if(l==="TABLE"&&(k.position==="relative"||k.position==="absolute")){n+=parseInt(k.marginLeft)||0;o+=parseInt(k.marginTop)||0}}}k=Sys.UI.DomElement._getCurrentStyle(m);var q=k?k.position:null;if(!q||q!=="absolute"){for(j=m.parentNode;j;j=j.parentNode){l=j.tagName?j.tagName.toUpperCase():null;if(l!=="BODY"&&l!=="HTML"&&(j.scrollLeft||j.scrollTop)){n-=j.scrollLeft||0;o-=j.scrollTop||0;k=Sys.UI.DomElement._getCurrentStyle(j);if(k){n+=parseInt(k.borderLeftWidth)||0;o+=parseInt(k.borderTopWidth)||0}}}}return new Sys.UI.Point(n,o)}}}Sys.UI.DomElement.isDomElement=function(b){return Sys._isDomElement(b)};Sys.UI.DomElement.removeCssClass=function(h,g){var e=" "+h.className+" ",f=e.indexOf(" "+g+" ");if(f>=0){h.className=(e.substr(0,f)+" "+e.substring(f+g.length+1,e.length)).trim()}};Sys.UI.DomElement.resolveElement=function(e,f){var d=e;if(!d){return null}if(typeof d==="string"){d=Sys.UI.DomElement.getElementById(d,f)}return d};Sys.UI.DomElement.raiseBubbleEvent=function(g,h){var f=g;while(f){var e=f.control;if(e&&e.onBubbleEvent&&e.raiseBubbleEvent){Sys.UI.DomElement._raiseBubbleEventFromControl(e,g,h);return}f=f.parentNode}};Sys.UI.DomElement._raiseBubbleEventFromControl=function(d,e,f){if(!d.onBubbleEvent(e,f)){d._raiseBubbleEvent(e,f)}};Sys.UI.DomElement.setLocation=function(f,g,h){var e=f.style;e.position="absolute";e.left=g+"px";e.top=h+"px"};Sys.UI.DomElement.toggleCssClass=function(d,c){if(Sys.UI.DomElement.containsCssClass(d,c)){Sys.UI.DomElement.removeCssClass(d,c)}else{Sys.UI.DomElement.addCssClass(d,c)}};Sys.UI.DomElement.getVisibilityMode=function(b){return b._visibilityMode===Sys.UI.VisibilityMode.hide?Sys.UI.VisibilityMode.hide:Sys.UI.VisibilityMode.collapse};Sys.UI.DomElement.setVisibilityMode=function(c,d){Sys.UI.DomElement._ensureOldDisplayMode(c);if(c._visibilityMode!==d){c._visibilityMode=d;if(Sys.UI.DomElement.getVisible(c)===false){if(c._visibilityMode===Sys.UI.VisibilityMode.hide){c.style.display=c._oldDisplayMode}else{c.style.display="none"}}c._visibilityMode=d}};Sys.UI.DomElement.getVisible=function(d){var c=d.currentStyle||Sys.UI.DomElement._getCurrentStyle(d);if(!c){return true}return c.visibility!=="hidden"&&c.display!=="none"};Sys.UI.DomElement.setVisible=function(c,d){if(d!==Sys.UI.DomElement.getVisible(c)){Sys.UI.DomElement._ensureOldDisplayMode(c);c.style.visibility=d?"visible":"hidden";if(d||c._visibilityMode===Sys.UI.VisibilityMode.hide){c.style.display=c._oldDisplayMode}else{c.style.display="none"}}};Sys.UI.DomElement._ensureOldDisplayMode=function(c){if(!c._oldDisplayMode){var d=c.currentStyle||Sys.UI.DomElement._getCurrentStyle(c);c._oldDisplayMode=d?d.display:null;if(!c._oldDisplayMode||c._oldDisplayMode==="none"){switch(c.tagName.toUpperCase()){case"DIV":case"P":case"ADDRESS":case"BLOCKQUOTE":case"BODY":case"COL":case"COLGROUP":case"DD":case"DL":case"DT":case"FIELDSET":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HR":case"IFRAME":case"LEGEND":case"OL":case"PRE":case"TABLE":case"TD":case"TH":case"TR":case"UL":c._oldDisplayMode="block";break;case"LI":c._oldDisplayMode="list-item";break;default:c._oldDisplayMode="inline"}}}};Sys.UI.DomElement._getWindow=function(c){var d=c.ownerDocument||c.document||c;return d.defaultView||d.parentWindow};Sys.UI.DomElement._getCurrentStyle=function(h){if(h.nodeType===3){return null}var j=Sys.UI.DomElement._getWindow(h);if(h.documentElement){h=h.documentElement}var i=j&&h!==j&&j.getComputedStyle?j.getComputedStyle(h,null):h.currentStyle||h.style;if(!i&&Sys.Browser.agent===Sys.Browser.Safari&&h.style){var n=h.style.display,m=h.style.position;h.style.position="absolute";h.style.display="block";var l=j.getComputedStyle(h,null);h.style.display=n;h.style.position=m;i={};for(var k in l){i[k]=l[k]}i.display="none"}return i};Sys.IContainer=function(){};Sys.IContainer.prototype={};Sys.IContainer.registerInterface("Sys.IContainer");Sys.ApplicationLoadEventArgs=function(d,c){Sys.ApplicationLoadEventArgs.initializeBase(this);this._components=d;this._isPartialLoad=c};Sys.ApplicationLoadEventArgs.prototype={get_components:function(){return this._components},get_isPartialLoad:function(){return this._isPartialLoad}};Sys.ApplicationLoadEventArgs.registerClass("Sys.ApplicationLoadEventArgs",Sys.EventArgs);Sys._Application=function(){Sys._Application.initializeBase(this);this._disposableObjects=[];this._components={};this._createdComponents=[];this._secondPassComponents=[];this._unloadHandlerDelegate=Function.createDelegate(this,this._unloadHandler);Sys.UI.DomEvent.addHandler(window,"unload",this._unloadHandlerDelegate);this._domReady()};Sys._Application.prototype={_creatingComponents:false,_disposing:false,_deleteCount:0,get_isCreatingComponents:function(){return this._creatingComponents},get_isDisposing:function(){return this._disposing},add_init:function(b){if(this._initialized){b(this,Sys.EventArgs.Empty)}else{this.get_events().addHandler("init",b)}},remove_init:function(b){this.get_events().removeHandler("init",b)},add_load:function(b){this.get_events().addHandler("load",b)},remove_load:function(b){this.get_events().removeHandler("load",b)},add_unload:function(b){this.get_events().addHandler("unload",b)},remove_unload:function(b){this.get_events().removeHandler("unload",b)},addComponent:function(b){this._components[b.get_id()]=b},beginCreateComponents:function(){this._creatingComponents=true},dispose:function(){if(!this._disposing){this._disposing=true;if(this._timerCookie){window.clearTimeout(this._timerCookie);delete this._timerCookie}if(this._endRequestHandler){Sys.WebForms.PageRequestManager.getInstance().remove_endRequest(this._endRequestHandler);delete this._endRequestHandler}if(this._beginRequestHandler){Sys.WebForms.PageRequestManager.getInstance().remove_beginRequest(this._beginRequestHandler);delete this._beginRequestHandler}if(window.pageUnload){window.pageUnload(this,Sys.EventArgs.Empty)}var i=this.get_events().getHandler("unload");if(i){i(this,Sys.EventArgs.Empty)}var h=Array.clone(this._disposableObjects);for(var g=0,l=h.length;g<l;g++){var j=h[g];if(typeof j!=="undefined"){j.dispose()}}Array.clear(this._disposableObjects);Sys.UI.DomEvent.removeHandler(window,"unload",this._unloadHandlerDelegate);if(Sys._ScriptLoader){var k=Sys._ScriptLoader.getInstance();if(k){k.dispose()}}Sys._Application.callBaseMethod(this,"dispose")}},disposeElement:function(m,t){if(m.nodeType===1){var l,r=m.getElementsByTagName("*"),q=r.length,s=new Array(q);for(l=0;l<q;l++){s[l]=r[l]}for(l=q-1;l>=0;l--){var n=s[l],p=n.dispose;if(p&&typeof p==="function"){n.dispose()}else{var o=n.control;if(o&&typeof o.dispose==="function"){o.dispose()}}var k=n._behaviors;if(k){this._disposeComponents(k)}k=n._components;if(k){this._disposeComponents(k);n._components=null}}if(!t){var p=m.dispose;if(p&&typeof p==="function"){m.dispose()}else{var o=m.control;if(o&&typeof o.dispose==="function"){o.dispose()}}var k=m._behaviors;if(k){this._disposeComponents(k)}k=m._components;if(k){this._disposeComponents(k);m._components=null}}}},endCreateComponents:function(){var f=this._secondPassComponents;for(var e=0,h=f.length;e<h;e++){var g=f[e].component;Sys$Component$_setReferences(g,f[e].references);g.endUpdate()}this._secondPassComponents=[];this._creatingComponents=false},findComponent:function(d,c){return c?Sys.IContainer.isInstanceOfType(c)?c.findComponent(d):c[d]||null:Sys.Application._components[d]||null},getComponents:function(){var d=[],e=this._components;for(var f in e){d[d.length]=e[f]}return d},initialize:function(){if(!this.get_isInitialized()&&!this._disposing){Sys._Application.callBaseMethod(this,"initialize");this._raiseInit();if(this.get_stateString){if(Sys.WebForms&&Sys.WebForms.PageRequestManager){this._beginRequestHandler=Function.createDelegate(this,this._onPageRequestManagerBeginRequest);Sys.WebForms.PageRequestManager.getInstance().add_beginRequest(this._beginRequestHandler);this._endRequestHandler=Function.createDelegate(this,this._onPageRequestManagerEndRequest);Sys.WebForms.PageRequestManager.getInstance().add_endRequest(this._endRequestHandler)}var b=this.get_stateString();if(b!==this._currentEntry){this._navigate(b)}else{this._ensureHistory()}}this.raiseLoad()}},notifyScriptLoaded:function(){},registerDisposableObject:function(e){if(!this._disposing){var d=this._disposableObjects,f=d.length;d[f]=e;e.__msdisposeindex=f}},raiseLoad:function(){var d=this.get_events().getHandler("load"),c=new Sys.ApplicationLoadEventArgs(Array.clone(this._createdComponents),!!this._loaded);this._loaded=true;if(d){d(this,c)}if(window.pageLoad){window.pageLoad(this,c)}this._createdComponents=[]},removeComponent:function(d){var c=d.get_id();if(c){delete this._components[c]}},unregisterDisposableObject:function(g){if(!this._disposing){var k=g.__msdisposeindex;if(typeof k==="number"){var h=this._disposableObjects;delete h[k];delete g.__msdisposeindex;if(++this._deleteCount>1000){var i=[];for(var j=0,l=h.length;j<l;j++){g=h[j];if(typeof g!=="undefined"){g.__msdisposeindex=i.length;i.push(g)}}this._disposableObjects=i;this._deleteCount=0}}}},_addComponentToSecondPass:function(d,c){this._secondPassComponents[this._secondPassComponents.length]={component:d,references:c}},_disposeComponents:function(d){if(d){for(var e=d.length-1;e>=0;e--){var f=d[e];if(typeof f.dispose==="function"){f.dispose()}}}},_domReady:function(){var i,o,n=this;function j(){n.initialize()}var k=function(){Sys.UI.DomEvent.removeHandler(window,"load",k);j()};Sys.UI.DomEvent.addHandler(window,"load",k);if(document.addEventListener){try{document.addEventListener("DOMContentLoaded",i=function(){document.removeEventListener("DOMContentLoaded",i,false);j()},false)}catch(p){}}else{if(document.attachEvent){if(window==window.top&&document.documentElement.doScroll){var m,l=document.createElement("div");i=function(){try{l.doScroll("left")}catch(a){m=window.setTimeout(i,0);return}l=null;j()};i()}else{document.attachEvent("onreadystatechange",i=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",i);j()}})}}}},_raiseInit:function(){var b=this.get_events().getHandler("init");if(b){this.beginCreateComponents();b(this,Sys.EventArgs.Empty);this.endCreateComponents()}},_unloadHandler:function(){this.dispose()}};Sys._Application.registerClass("Sys._Application",Sys.Component,Sys.IContainer);Sys.Application=new Sys._Application;var $find=Sys.Application.findComponent;Sys.UI.Behavior=function(d){Sys.UI.Behavior.initializeBase(this);this._element=d;var c=d._behaviors;if(!c){d._behaviors=[this]}else{c[c.length]=this}};Sys.UI.Behavior.prototype={_name:null,get_element:function(){return this._element},get_id:function(){var b=Sys.UI.Behavior.callBaseMethod(this,"get_id");if(b){return b}if(!this._element||!this._element.id){return""}return this._element.id+"$"+this.get_name()},get_name:function(){if(this._name){return this._name}var c=Object.getTypeName(this),d=c.lastIndexOf(".");if(d!==-1){c=c.substr(d+1)}if(!this.get_isInitialized()){this._name=c}return c},set_name:function(b){this._name=b},initialize:function(){Sys.UI.Behavior.callBaseMethod(this,"initialize");var b=this.get_name();if(b){this._element[b]=this}},dispose:function(){Sys.UI.Behavior.callBaseMethod(this,"dispose");var d=this._element;if(d){var f=this.get_name();if(f){d[f]=null}var e=d._behaviors;Array.remove(e,this);if(e.length===0){d._behaviors=null}delete this._element}}};Sys.UI.Behavior.registerClass("Sys.UI.Behavior",Sys.Component);Sys.UI.Behavior.getBehaviorByName=function(e,f){var d=e[f];return d&&Sys.UI.Behavior.isInstanceOfType(d)?d:null};Sys.UI.Behavior.getBehaviors=function(b){if(!b._behaviors){return[]}return Array.clone(b._behaviors)};Sys.UI.Behavior.getBehaviorsByType=function(j,k){var g=j._behaviors,i=[];if(g){for(var h=0,l=g.length;h<l;h++){if(k.isInstanceOfType(g[h])){i[i.length]=g[h]}}}return i};Sys.UI.VisibilityMode=function(){throw Error.notImplemented()};Sys.UI.VisibilityMode.prototype={hide:0,collapse:1};Sys.UI.VisibilityMode.registerEnum("Sys.UI.VisibilityMode");Sys.UI.Control=function(c){Sys.UI.Control.initializeBase(this);this._element=c;c.control=this;var d=this.get_role();if(d){c.setAttribute("role",d)}};Sys.UI.Control.prototype={_parent:null,_visibilityMode:Sys.UI.VisibilityMode.hide,get_element:function(){return this._element},get_id:function(){if(!this._element){return""}return this._element.id},set_id:function(){throw Error.invalidOperation(Sys.Res.cantSetId)},get_parent:function(){if(this._parent){return this._parent}if(!this._element){return null}var b=this._element.parentNode;while(b){if(b.control){return b.control}b=b.parentNode}return null},set_parent:function(b){this._parent=b},get_role:function(){return null},get_visibilityMode:function(){return Sys.UI.DomElement.getVisibilityMode(this._element)},set_visibilityMode:function(b){Sys.UI.DomElement.setVisibilityMode(this._element,b)},get_visible:function(){return Sys.UI.DomElement.getVisible(this._element)},set_visible:function(b){Sys.UI.DomElement.setVisible(this._element,b)},addCssClass:function(b){Sys.UI.DomElement.addCssClass(this._element,b)},dispose:function(){Sys.UI.Control.callBaseMethod(this,"dispose");if(this._element){this._element.control=null;delete this._element}if(this._parent){delete this._parent}},onBubbleEvent:function(){return false},raiseBubbleEvent:function(c,d){this._raiseBubbleEvent(c,d)},_raiseBubbleEvent:function(e,f){var d=this.get_parent();while(d){if(d.onBubbleEvent(e,f)){return}d=d.get_parent()}},removeCssClass:function(b){Sys.UI.DomElement.removeCssClass(this._element,b)},toggleCssClass:function(b){Sys.UI.DomElement.toggleCssClass(this._element,b)}};Sys.UI.Control.registerClass("Sys.UI.Control",Sys.Component);Sys.HistoryEventArgs=function(b){Sys.HistoryEventArgs.initializeBase(this);this._state=b};Sys.HistoryEventArgs.prototype={get_state:function(){return this._state}};Sys.HistoryEventArgs.registerClass("Sys.HistoryEventArgs",Sys.EventArgs);Sys.Application._appLoadHandler=null;Sys.Application._beginRequestHandler=null;Sys.Application._clientId=null;Sys.Application._currentEntry="";Sys.Application._endRequestHandler=null;Sys.Application._history=null;Sys.Application._enableHistory=false;Sys.Application._historyFrame=null;Sys.Application._historyInitialized=false;Sys.Application._historyPointIsNew=false;Sys.Application._ignoreTimer=false;Sys.Application._initialState=null;Sys.Application._state={};Sys.Application._timerCookie=0;Sys.Application._timerHandler=null;Sys.Application._uniqueId=null;Sys._Application.prototype.get_stateString=function(){var d=null;if(Sys.Browser.agent===Sys.Browser.Firefox){var f=window.location.href,e=f.indexOf("#");if(e!==-1){d=f.substring(e+1)}else{d=""}return d}else{d=window.location.hash}if(d.length>0&&d.charAt(0)==="#"){d=d.substring(1)}return d};Sys._Application.prototype.get_enableHistory=function(){return this._enableHistory};Sys._Application.prototype.set_enableHistory=function(b){this._enableHistory=b};Sys._Application.prototype.add_navigate=function(b){this.get_events().addHandler("navigate",b)};Sys._Application.prototype.remove_navigate=function(b){this.get_events().removeHandler("navigate",b)};Sys._Application.prototype.addHistoryPoint=function(i,l){this._ensureHistory();var h=this._state;for(var g in i){var j=i[g];if(j===null){if(typeof h[g]!=="undefined"){delete h[g]}}else{h[g]=j}}var k=this._serializeState(h);this._historyPointIsNew=true;this._setState(k,l);this._raiseNavigate()};Sys._Application.prototype.setServerId=function(c,d){this._clientId=c;this._uniqueId=d};Sys._Application.prototype.setServerState=function(b){this._ensureHistory();this._state.__s=b;this._updateHiddenField(b)};Sys._Application.prototype._deserializeState=function(k){var o={};k=k||"";var l=k.indexOf("&&");if(l!==-1&&l+2<k.length){o.__s=k.substr(l+2);k=k.substr(0,l)}var q=k.split("&");for(var p=0,t=q.length;p<t;p++){var n=q[p],m=n.indexOf("=");if(m!==-1&&m+1<n.length){var s=n.substr(0,m),r=n.substr(m+1);o[s]=decodeURIComponent(r)}}return o};Sys._Application.prototype._enableHistoryInScriptManager=function(){this._enableHistory=true};Sys._Application.prototype._ensureHistory=function(){if(!this._historyInitialized&&this._enableHistory){if(Sys.Browser.agent===Sys.Browser.InternetExplorer&&Sys.Browser.documentMode<8){this._historyFrame=document.getElementById("__historyFrame");this._ignoreIFrame=true}this._timerHandler=Function.createDelegate(this,this._onIdle);this._timerCookie=window.setTimeout(this._timerHandler,100);try{this._initialState=this._deserializeState(this.get_stateString())}catch(b){}this._historyInitialized=true}};Sys._Application.prototype._navigate=function(g){this._ensureHistory();var f=this._deserializeState(g);if(this._uniqueId){var h=this._state.__s||"",e=f.__s||"";if(e!==h){this._updateHiddenField(e);__doPostBack(this._uniqueId,e);this._state=f;return}}this._setState(g);this._state=f;this._raiseNavigate()};Sys._Application.prototype._onIdle=function(){delete this._timerCookie;var b=this.get_stateString();if(b!==this._currentEntry){if(!this._ignoreTimer){this._historyPointIsNew=false;this._navigate(b)}}else{this._ignoreTimer=false}this._timerCookie=window.setTimeout(this._timerHandler,100)};Sys._Application.prototype._onIFrameLoad=function(b){this._ensureHistory();if(!this._ignoreIFrame){this._historyPointIsNew=false;this._navigate(b)}this._ignoreIFrame=false};Sys._Application.prototype._onPageRequestManagerBeginRequest=function(){this._ignoreTimer=true;this._originalTitle=document.title};Sys._Application.prototype._onPageRequestManagerEndRequest=function(n,m){var k=m.get_dataItems()[this._clientId],j=this._originalTitle;this._originalTitle=null;var i=document.getElementById("__EVENTTARGET");if(i&&i.value===this._uniqueId){i.value=""}if(typeof k!=="undefined"){this.setServerState(k);this._historyPointIsNew=true}else{this._ignoreTimer=false}var h=this._serializeState(this._state);if(h!==this._currentEntry){this._ignoreTimer=true;if(typeof j==="string"){if(Sys.Browser.agent!==Sys.Browser.InternetExplorer||Sys.Browser.version>7){var l=document.title;document.title=j;this._setState(h);document.title=l}else{this._setState(h)}this._raiseNavigate()}else{this._setState(h);this._raiseNavigate()}}};Sys._Application.prototype._raiseNavigate=function(){var k=this._historyPointIsNew,j=this.get_events().getHandler("navigate"),i={};for(var h in this._state){if(h!=="__s"){i[h]=this._state[h]}}var l=new Sys.HistoryEventArgs(i);if(j){j(this,l)}if(!k){var m;try{if(Sys.Browser.agent===Sys.Browser.Firefox&&window.location.hash&&(!window.frameElement||window.top.location.hash)){Sys.Browser.version<3.5?window.history.go(0):(location.hash=this.get_stateString())}}catch(n){}}};Sys._Application.prototype._serializeState=function(i){var g=[];for(var f in i){var j=i[f];if(f==="__s"){var h=j}else{g[g.length]=f+"="+encodeURIComponent(j)}}return g.join("&")+(h?"&&"+h:"")};Sys._Application.prototype._setState=function(g,h){if(this._enableHistory){g=g||"";if(g!==this._currentEntry){if(window.theForm){var j=window.theForm.action,k=j.indexOf("#");window.theForm.action=(k!==-1?j.substring(0,k):j)+"#"+g}if(this._historyFrame&&this._historyPointIsNew){this._ignoreIFrame=true;var i=this._historyFrame.contentWindow.document;i.open("javascript:'<html></html>'");i.write("<html><head><title>"+(h||document.title)+'</title><script type="text/javascript">parent.Sys.Application._onIFrameLoad('+Sys.Serialization.JavaScriptSerializer.serialize(g)+");</script></head><body></body></html>");i.close()}this._ignoreTimer=false;this._currentEntry=g;if(this._historyFrame||this._historyPointIsNew){var l=this.get_stateString();if(g!==l){window.location.hash=g;this._currentEntry=this.get_stateString();if(typeof h!=="undefined"&&h!==null){document.title=h}}}this._historyPointIsNew=false}}};Sys._Application.prototype._updateHiddenField=function(d){if(this._clientId){var c=document.getElementById(this._clientId);if(c){c.value=d}}};if(!window.XMLHttpRequest){window.XMLHttpRequest=function(){var f=["Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP"];for(var e=0,g=f.length;e<g;e++){try{return new ActiveXObject(f[e])}catch(h){}}return null}}Type.registerNamespace("Sys.Net");Sys.Net.WebRequestExecutor=function(){this._webRequest=null;this._resultObject=null};Sys.Net.WebRequestExecutor.prototype={get_webRequest:function(){return this._webRequest},_set_webRequest:function(b){this._webRequest=b},get_started:function(){throw Error.notImplemented()},get_responseAvailable:function(){throw Error.notImplemented()},get_timedOut:function(){throw Error.notImplemented()},get_aborted:function(){throw Error.notImplemented()},get_responseData:function(){throw Error.notImplemented()},get_statusCode:function(){throw Error.notImplemented()},get_statusText:function(){throw Error.notImplemented()},get_xml:function(){throw Error.notImplemented()},get_object:function(){if(!this._resultObject){this._resultObject=Sys.Serialization.JavaScriptSerializer.deserialize(this.get_responseData())}return this._resultObject},executeRequest:function(){throw Error.notImplemented()},abort:function(){throw Error.notImplemented()},getResponseHeader:function(){throw Error.notImplemented()},getAllResponseHeaders:function(){throw Error.notImplemented()}};Sys.Net.WebRequestExecutor.registerClass("Sys.Net.WebRequestExecutor");Sys.Net.XMLDOM=function(k){if(!window.DOMParser){var j=["Msxml2.DOMDocument.3.0","Msxml2.DOMDocument"];for(var i=0,m=j.length;i<m;i++){try{var h=new ActiveXObject(j[i]);h.async=false;h.loadXML(k);h.setProperty("SelectionLanguage","XPath");return h}catch(n){}}}else{try{var l=new window.DOMParser;return l.parseFromString(k,"text/xml")}catch(n){}}return null};Sys.Net.XMLHttpExecutor=function(){Sys.Net.XMLHttpExecutor.initializeBase(this);var b=this;this._xmlHttpRequest=null;this._webRequest=null;this._responseAvailable=false;this._timedOut=false;this._timer=null;this._aborted=false;this._started=false;this._onReadyStateChange=function(){if(b._xmlHttpRequest.readyState===4){try{if(typeof b._xmlHttpRequest.status==="undefined"){return}}catch(a){return}b._clearTimer();b._responseAvailable=true;try{b._webRequest.completed(Sys.EventArgs.Empty)}finally{if(b._xmlHttpRequest!=null){b._xmlHttpRequest.onreadystatechange=Function.emptyMethod;b._xmlHttpRequest=null}}}};this._clearTimer=function(){if(b._timer!=null){window.clearTimeout(b._timer);b._timer=null}};this._onTimeout=function(){if(!b._responseAvailable){b._clearTimer();b._timedOut=true;b._xmlHttpRequest.onreadystatechange=Function.emptyMethod;b._xmlHttpRequest.abort();b._webRequest.completed(Sys.EventArgs.Empty);b._xmlHttpRequest=null}}};Sys.Net.XMLHttpExecutor.prototype={get_timedOut:function(){return this._timedOut},get_started:function(){return this._started},get_responseAvailable:function(){return this._responseAvailable},get_aborted:function(){return this._aborted},executeRequest:function(){this._webRequest=this.get_webRequest();var i=this._webRequest.get_body(),g=this._webRequest.get_headers();this._xmlHttpRequest=new XMLHttpRequest;this._xmlHttpRequest.onreadystatechange=this._onReadyStateChange;var k=this._webRequest.get_httpVerb();this._xmlHttpRequest.open(k,this._webRequest.getResolvedUrl(),true);this._xmlHttpRequest.setRequestHeader("X-Requested-With","XMLHttpRequest");if(g){for(var h in g){var l=g[h];if(typeof l!=="function"){this._xmlHttpRequest.setRequestHeader(h,l)}}}if(k.toLowerCase()==="post"){if(g===null||!g["Content-Type"]){this._xmlHttpRequest.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8")}if(!i){i=""}}var j=this._webRequest.get_timeout();if(j>0){this._timer=window.setTimeout(Function.createDelegate(this,this._onTimeout),j)}this._xmlHttpRequest.send(i);this._started=true},getResponseHeader:function(e){var d;try{d=this._xmlHttpRequest.getResponseHeader(e)}catch(f){}if(!d){d=""}return d},getAllResponseHeaders:function(){return this._xmlHttpRequest.getAllResponseHeaders()},get_responseData:function(){return this._xmlHttpRequest.responseText},get_statusCode:function(){var c=0;try{c=this._xmlHttpRequest.status}catch(d){}return c},get_statusText:function(){return this._xmlHttpRequest.statusText},get_xml:function(){var b=this._xmlHttpRequest.responseXML;if(!b||!b.documentElement){b=Sys.Net.XMLDOM(this._xmlHttpRequest.responseText);if(!b||!b.documentElement){return null}}else{if(navigator.userAgent.indexOf("MSIE")!==-1){b.setProperty("SelectionLanguage","XPath")}}if(b.documentElement.namespaceURI==="http://www.mozilla.org/newlayout/xml/parsererror.xml"&&b.documentElement.tagName==="parsererror"){return null}if(b.documentElement.firstChild&&b.documentElement.firstChild.tagName==="parsererror"){return null}return b},abort:function(){if(this._aborted||this._responseAvailable||this._timedOut){return}this._aborted=true;this._clearTimer();if(this._xmlHttpRequest&&!this._responseAvailable){this._xmlHttpRequest.onreadystatechange=Function.emptyMethod;this._xmlHttpRequest.abort();this._xmlHttpRequest=null;this._webRequest.completed(Sys.EventArgs.Empty)}}};Sys.Net.XMLHttpExecutor.registerClass("Sys.Net.XMLHttpExecutor",Sys.Net.WebRequestExecutor);Sys.Net._WebRequestManager=function(){this._defaultTimeout=0;this._defaultExecutorType="Sys.Net.XMLHttpExecutor"};Sys.Net._WebRequestManager.prototype={add_invokingRequest:function(b){this._get_eventHandlerList().addHandler("invokingRequest",b)},remove_invokingRequest:function(b){this._get_eventHandlerList().removeHandler("invokingRequest",b)},add_completedRequest:function(b){this._get_eventHandlerList().addHandler("completedRequest",b)},remove_completedRequest:function(b){this._get_eventHandlerList().removeHandler("completedRequest",b)},_get_eventHandlerList:function(){if(!this._events){this._events=new Sys.EventHandlerList}return this._events},get_defaultTimeout:function(){return this._defaultTimeout},set_defaultTimeout:function(b){this._defaultTimeout=b},get_defaultExecutorType:function(){return this._defaultExecutorType},set_defaultExecutorType:function(b){this._defaultExecutorType=b},executeRequest:function(webRequest){var executor=webRequest.get_executor();if(!executor){var failed=false;try{var executorType=eval(this._defaultExecutorType);executor=new executorType}catch(a){failed=true}webRequest.set_executor(executor)}if(executor.get_aborted()){return}var evArgs=new Sys.Net.NetworkRequestEventArgs(webRequest),handler=this._get_eventHandlerList().getHandler("invokingRequest");if(handler){handler(this,evArgs)}if(!evArgs.get_cancel()){executor.executeRequest()}}};Sys.Net._WebRequestManager.registerClass("Sys.Net._WebRequestManager");Sys.Net.WebRequestManager=new Sys.Net._WebRequestManager;Sys.Net.NetworkRequestEventArgs=function(b){Sys.Net.NetworkRequestEventArgs.initializeBase(this);this._webRequest=b};Sys.Net.NetworkRequestEventArgs.prototype={get_webRequest:function(){return this._webRequest}};Sys.Net.NetworkRequestEventArgs.registerClass("Sys.Net.NetworkRequestEventArgs",Sys.CancelEventArgs);Sys.Net.WebRequest=function(){this._url="";this._headers={};this._body=null;this._userContext=null;this._httpVerb=null;this._executor=null;this._invokeCalled=false;this._timeout=0};Sys.Net.WebRequest.prototype={add_completed:function(b){this._get_eventHandlerList().addHandler("completed",b)},remove_completed:function(b){this._get_eventHandlerList().removeHandler("completed",b)},completed:function(d){var c=Sys.Net.WebRequestManager._get_eventHandlerList().getHandler("completedRequest");if(c){c(this._executor,d)}c=this._get_eventHandlerList().getHandler("completed");if(c){c(this._executor,d)}},_get_eventHandlerList:function(){if(!this._events){this._events=new Sys.EventHandlerList}return this._events},get_url:function(){return this._url},set_url:function(b){this._url=b},get_headers:function(){return this._headers},get_httpVerb:function(){if(this._httpVerb===null){if(this._body===null){return"GET"}return"POST"}return this._httpVerb},set_httpVerb:function(b){this._httpVerb=b},get_body:function(){return this._body},set_body:function(b){this._body=b},get_userContext:function(){return this._userContext},set_userContext:function(b){this._userContext=b},get_executor:function(){return this._executor},set_executor:function(b){this._executor=b;this._executor._set_webRequest(this)},get_timeout:function(){if(this._timeout===0){return Sys.Net.WebRequestManager.get_defaultTimeout()}return this._timeout},set_timeout:function(b){this._timeout=b},getResolvedUrl:function(){return Sys.Net.WebRequest._resolveUrl(this._url)},invoke:function(){Sys.Net.WebRequestManager.executeRequest(this);this._invokeCalled=true}};Sys.Net.WebRequest._resolveUrl=function(i,h){if(i&&i.indexOf("://")!==-1){return i}if(!h||h.length===0){var k=document.getElementsByTagName("base")[0];if(k&&k.href&&k.href.length>0){h=k.href}else{h=document.URL}}var j=h.indexOf("?");if(j!==-1){h=h.substr(0,j)}j=h.indexOf("#");if(j!==-1){h=h.substr(0,j)}h=h.substr(0,h.lastIndexOf("/")+1);if(!i||i.length===0){return h}if(i.charAt(0)==="/"){var l=h.indexOf("://"),n=h.indexOf("/",l+3);return h.substr(0,n)+i}else{var m=h.lastIndexOf("/");return h.substr(0,m+1)+i}};Sys.Net.WebRequest._createQueryString=function(k,j,n){j=j||encodeURIComponent;var p=0,m,o,l,i=new Sys.StringBuilder;if(k){for(l in k){m=k[l];if(typeof m==="function"){continue}o=Sys.Serialization.JavaScriptSerializer.serialize(m);if(p++){i.append("&")}i.append(l);i.append("=");i.append(j(o))}}if(n){if(p){i.append("&")}i.append(n)}return i.toString()};Sys.Net.WebRequest._createUrl=function(e,f,g){if(!f&&!g){return e}var h=Sys.Net.WebRequest._createQueryString(f,null,g);return h.length?e+(e&&e.indexOf("?")>=0?"&":"?")+h:e};Sys.Net.WebRequest.registerClass("Sys.Net.WebRequest");Sys._ScriptLoaderTask=function(d,c){this._scriptElement=d;this._completedCallback=c};Sys._ScriptLoaderTask.prototype={get_scriptElement:function(){return this._scriptElement},dispose:function(){if(this._disposed){return}this._disposed=true;this._removeScriptElementHandlers();Sys._ScriptLoaderTask._clearScript(this._scriptElement);this._scriptElement=null},execute:function(){this._addScriptElementHandlers();document.getElementsByTagName("head")[0].appendChild(this._scriptElement)},_addScriptElementHandlers:function(){this._scriptLoadDelegate=Function.createDelegate(this,this._scriptLoadHandler);if(Sys.Browser.agent!==Sys.Browser.InternetExplorer){this._scriptElement.readyState="loaded";$addHandler(this._scriptElement,"load",this._scriptLoadDelegate)}else{$addHandler(this._scriptElement,"readystatechange",this._scriptLoadDelegate)}if(this._scriptElement.addEventListener){this._scriptErrorDelegate=Function.createDelegate(this,this._scriptErrorHandler);this._scriptElement.addEventListener("error",this._scriptErrorDelegate,false)}},_removeScriptElementHandlers:function(){if(this._scriptLoadDelegate){var b=this.get_scriptElement();if(Sys.Browser.agent!==Sys.Browser.InternetExplorer){$removeHandler(b,"load",this._scriptLoadDelegate)}else{$removeHandler(b,"readystatechange",this._scriptLoadDelegate)}if(this._scriptErrorDelegate){this._scriptElement.removeEventListener("error",this._scriptErrorDelegate,false);this._scriptErrorDelegate=null}this._scriptLoadDelegate=null}},_scriptErrorHandler:function(){if(this._disposed){return}this._completedCallback(this.get_scriptElement(),false)},_scriptLoadHandler:function(){if(this._disposed){return}var b=this.get_scriptElement();if(b.readyState!=="loaded"&&b.readyState!=="complete"){return}this._completedCallback(b,true)}};Sys._ScriptLoaderTask.registerClass("Sys._ScriptLoaderTask",null,Sys.IDisposable);Sys._ScriptLoaderTask._clearScript=function(b){if(!Sys.Debug.isDebug){b.parentNode.removeChild(b)}};Type.registerNamespace("Sys.Net");Sys.Net.WebServiceProxy=function(){};Sys.Net.WebServiceProxy.prototype={get_timeout:function(){return this._timeout||0},set_timeout:function(b){if(b<0){throw Error.argumentOutOfRange("value",b,Sys.Res.invalidTimeout)}this._timeout=b},get_defaultUserContext:function(){return typeof this._userContext==="undefined"?null:this._userContext},set_defaultUserContext:function(b){this._userContext=b},get_defaultSucceededCallback:function(){return this._succeeded||null},set_defaultSucceededCallback:function(b){this._succeeded=b},get_defaultFailedCallback:function(){return this._failed||null},set_defaultFailedCallback:function(b){this._failed=b},get_enableJsonp:function(){return !!this._jsonp},set_enableJsonp:function(b){this._jsonp=b},get_path:function(){return this._path||null},set_path:function(b){this._path=b},get_jsonpCallbackParameter:function(){return this._callbackParameter||"callback"},set_jsonpCallbackParameter:function(b){this._callbackParameter=b},_invoke:function(k,l,n,m,j,i,h){j=j||this.get_defaultSucceededCallback();i=i||this.get_defaultFailedCallback();if(h===null||typeof h==="undefined"){h=this.get_defaultUserContext()}return Sys.Net.WebServiceProxy.invoke(k,l,n,m,j,i,h,this.get_timeout(),this.get_enableJsonp(),this.get_jsonpCallbackParameter())}};Sys.Net.WebServiceProxy.registerClass("Sys.Net.WebServiceProxy");Sys.Net.WebServiceProxy.invoke=function(O,y,K,J,H,z,E,C,U,N){var G=U!==false?Sys.Net.WebServiceProxy._xdomain.exec(O):null,A,L=G&&G.length===3&&(G[1]!==location.protocol||G[2]!==location.host);K=L||K;if(L){N=N||"callback";A="_jsonp"+Sys._jsonp++}if(!J){J={}}var P=J;if(!K||!P){P={}}var Q,F,D=null,I,M=null,S=Sys.Net.WebRequest._createUrl(y?O+"/"+encodeURIComponent(y):O,P,L?N+"=Sys."+A:null);if(L){Q=document.createElement("script");Q.src=S;I=new Sys._ScriptLoaderTask(Q,function(c,a){if(!a||A){R({Message:String.format(Sys.Res.webServiceFailedNoMsg,y)},-1)}});function T(){if(D===null){return}D=null;F=new Sys.Net.WebServiceError(true,String.format(Sys.Res.webServiceTimedOut,y));I.dispose();delete Sys[A];if(z){z(F,E,y)}}function R(a,b){if(D!==null){window.clearTimeout(D);D=null}I.dispose();delete Sys[A];A=null;if(typeof b!=="undefined"&&b!==200){if(z){F=new Sys.Net.WebServiceError(false,a.Message||String.format(Sys.Res.webServiceFailedNoMsg,y),a.StackTrace||null,a.ExceptionType||null,a);F._statusCode=b;z(F,E,y)}}else{if(H){H(a,E,y)}}}Sys[A]=R;C=C||Sys.Net.WebRequestManager.get_defaultTimeout();if(C>0){D=window.setTimeout(T,C)}I.execute();return null}var B=new Sys.Net.WebRequest;B.set_url(S);B.get_headers()["Content-Type"]="application/json; charset=utf-8";if(!K){M=Sys.Serialization.JavaScriptSerializer.serialize(J);if(M==="{}"){M=""}}B.set_body(M);B.add_completed(V);if(C&&C>0){B.set_timeout(C)}B.invoke();function V(b){if(b.get_responseAvailable()){var j=b.get_statusCode(),a=null;try{var g=b.getResponseHeader("Content-Type");if(g.startsWith("application/json")){a=b.get_object()}else{if(g.startsWith("text/xml")){a=b.get_xml()}else{a=b.get_responseData()}}}catch(p){}var o=b.getResponseHeader("jsonerror"),l=o==="true";if(l){if(a){a=new Sys.Net.WebServiceError(false,a.Message,a.StackTrace,a.ExceptionType,a)}}else{if(g.startsWith("application/json")){a=!a||typeof a.d==="undefined"?a:a.d}}if(j<200||j>=300||l){if(z){if(!a||!l){a=new Sys.Net.WebServiceError(false,String.format(Sys.Res.webServiceFailedNoMsg,y))}a._statusCode=j;z(a,E,y)}}else{if(H){H(a,E,y)}}}else{var n;if(b.get_timedOut()){n=String.format(Sys.Res.webServiceTimedOut,y)}else{n=String.format(Sys.Res.webServiceFailedNoMsg,y)}if(z){z(new Sys.Net.WebServiceError(b.get_timedOut(),n,"",""),E,y)}}}return B};Sys.Net.WebServiceProxy._generateTypedConstructor=function(b){return function(a){if(a){for(var d in a){this[d]=a[d]}}this.__type=b}};Sys._jsonp=0;Sys.Net.WebServiceProxy._xdomain=/^\s*([a-zA-Z0-9\+\-\.]+\:)\/\/([^?#\/]+)/;Sys.Net.WebServiceError=function(i,j,h,f,g){this._timedOut=i;this._message=j;this._stackTrace=h;this._exceptionType=f;this._errorObject=g;this._statusCode=-1};Sys.Net.WebServiceError.prototype={get_timedOut:function(){return this._timedOut},get_statusCode:function(){return this._statusCode},get_message:function(){return this._message},get_stackTrace:function(){return this._stackTrace||""},get_exceptionType:function(){return this._exceptionType||""},get_errorObject:function(){return this._errorObject||null}};Sys.Net.WebServiceError.registerClass("Sys.Net.WebServiceError");Type.registerNamespace("Sys");Sys.Res={argumentInteger:"Value must be an integer.",invokeCalledTwice:"Cannot call invoke more than once.",webServiceFailed:"The server method '{0}' failed with the following error: {1}",argumentType:"Object cannot be converted to the required type.",argumentNull:"Value cannot be null.",scriptAlreadyLoaded:"The script '{0}' has been referenced multiple times. If referencing Microsoft AJAX scripts explicitly, set the MicrosoftAjaxMode property of the ScriptManager to Explicit.",scriptDependencyNotFound:"The script '{0}' failed to load because it is dependent on script '{1}'.",formatBadFormatSpecifier:"Format specifier was invalid.",requiredScriptReferenceNotIncluded:"'{0}' requires that you have included a script reference to '{1}'.",webServiceFailedNoMsg:"The server method '{0}' failed.",argumentDomElement:"Value must be a DOM element.",invalidExecutorType:"Could not create a valid Sys.Net.WebRequestExecutor from: {0}.",cannotCallBeforeResponse:"Cannot call {0} when responseAvailable is false.",actualValue:"Actual value was {0}.",enumInvalidValue:"'{0}' is not a valid value for enum {1}.",scriptLoadFailed:"The script '{0}' could not be loaded.",parameterCount:"Parameter count mismatch.",cannotDeserializeEmptyString:"Cannot deserialize empty string.",formatInvalidString:"Input string was not in a correct format.",invalidTimeout:"Value must be greater than or equal to zero.",cannotAbortBeforeStart:"Cannot abort when executor has not started.",argument:"Value does not fall within the expected range.",cannotDeserializeInvalidJson:"Cannot deserialize. The data does not correspond to valid JSON.",invalidHttpVerb:"httpVerb cannot be set to an empty or null string.",nullWebRequest:"Cannot call executeRequest with a null webRequest.",eventHandlerInvalid:"Handler was not added through the Sys.UI.DomEvent.addHandler method.",cannotSerializeNonFiniteNumbers:"Cannot serialize non finite numbers.",argumentUndefined:"Value cannot be undefined.",webServiceInvalidReturnType:"The server method '{0}' returned an invalid type. Expected type: {1}",servicePathNotSet:"The path to the web service has not been set.",argumentTypeWithTypes:"Object of type '{0}' cannot be converted to type '{1}'.",cannotCallOnceStarted:"Cannot call {0} once started.",badBaseUrl1:"Base URL does not contain ://.",badBaseUrl2:"Base URL does not contain another /.",badBaseUrl3:"Cannot find last / in base URL.",setExecutorAfterActive:"Cannot set executor after it has become active.",paramName:"Parameter name: {0}",nullReferenceInPath:"Null reference while evaluating data path: '{0}'.",cannotCallOutsideHandler:"Cannot call {0} outside of a completed event handler.",cannotSerializeObjectWithCycle:"Cannot serialize object with cyclic reference within child properties.",format:"One of the identified items was in an invalid format.",assertFailedCaller:"Assertion Failed: {0}\r\nat {1}",argumentOutOfRange:"Specified argument was out of the range of valid values.",webServiceTimedOut:"The server method '{0}' timed out.",notImplemented:"The method or operation is not implemented.",assertFailed:"Assertion Failed: {0}",invalidOperation:"Operation is not valid due to the current state of the object.",breakIntoDebugger:"{0}\r\n\r\nBreak into debugger?"};Type.registerNamespace("Sys.Mvc");Sys.Mvc.$create_Validation=function(){return{}};Sys.Mvc.$create_JsonValidationField=function(){return{}};Sys.Mvc.$create_JsonValidationOptions=function(){return{}};Sys.Mvc.$create_JsonValidationRule=function(){return{}};Sys.Mvc.$create_ValidationContext=function(){return{}};Sys.Mvc.NumberValidator=function(){};Sys.Mvc.NumberValidator.create=function(a){return Function.createDelegate(new Sys.Mvc.NumberValidator(),new Sys.Mvc.NumberValidator().validate)};Sys.Mvc.NumberValidator.prototype={validate:function(c,b){if(Sys.Mvc._ValidationUtil.$1(c)){return true}var a=Number.parseLocale(c);return(!isNaN(a))}};Sys.Mvc.FormContext=function(b,c){this.$5=[];this.fields=new Array(0);this.$9=b;this.$7=c;b.__MVC_FormValidation=this;if(c){var a=c.getElementsByTagName("ul");if(a.length>0){this.$8=a[0]}}this.$3=Function.createDelegate(this,this.$D);this.$4=Function.createDelegate(this,this.$E)};Sys.Mvc.FormContext._Application_Load=function(){var a=window.mvcClientValidationMetadata;if(a){while(a.length>0){var b=a.pop();Sys.Mvc.FormContext.$12(b)}}};Sys.Mvc.FormContext.$F=function(e,f){var a=[];var b=document.getElementsByName(f);for(var c=0;c<b.length;c++){var d=b[c];if(Sys.Mvc.FormContext.$10(e,d)){Array.add(a,d)}}return a};Sys.Mvc.FormContext.getValidationForForm=function(a){return a.__MVC_FormValidation};Sys.Mvc.FormContext.$10=function(a,b){while(b){if(a===b){return true}b=b.parentNode}return false};Sys.Mvc.FormContext.$12=function(n){var a=$get(n.FormId);var b=(!Sys.Mvc._ValidationUtil.$1(n.ValidationSummaryId))?$get(n.ValidationSummaryId):null;var c=new Sys.Mvc.FormContext(a,b);c.enableDynamicValidation();c.replaceValidationSummary=n.ReplaceValidationSummary;for(var e=0;e<n.Fields.length;e++){var f=n.Fields[e];var g=Sys.Mvc.FormContext.$F(a,f.FieldName);var h=(!Sys.Mvc._ValidationUtil.$1(f.ValidationMessageId))?$get(f.ValidationMessageId):null;var i=new Sys.Mvc.FieldContext(c);Array.addRange(i.elements,g);i.validationMessageElement=h;i.replaceValidationMessageContents=f.ReplaceValidationMessageContents;for(var j=0;j<f.ValidationRules.length;j++){var k=f.ValidationRules[j];var l=Sys.Mvc.ValidatorRegistry.getValidator(k);if(l){var m=Sys.Mvc.$create_Validation();m.fieldErrorMessage=k.ErrorMessage;m.validator=l;Array.add(i.validations,m)}}i.enableDynamicValidation();Array.add(c.fields,i)}var d=a.validationCallbacks;if(!d){d=[];a.validationCallbacks=d}d.push(Function.createDelegate(null,function(){return Sys.Mvc._ValidationUtil.$0(c.validate("submit"))}));return c};Sys.Mvc.FormContext.prototype={$3:null,$4:null,$6:null,$7:null,$8:null,$9:null,replaceValidationSummary:false,addError:function(a){this.addErrors([a])},addErrors:function(a){if(!Sys.Mvc._ValidationUtil.$0(a)){Array.addRange(this.$5,a);this.$11()}},clearErrors:function(){Array.clear(this.$5);this.$11()},$A:function(){if(this.$7){if(this.$8){Sys.Mvc._ValidationUtil.$3(this.$8);for(var a=0;a<this.$5.length;a++){var b=document.createElement("li");Sys.Mvc._ValidationUtil.$4(b,this.$5[a]);this.$8.appendChild(b)}}Sys.UI.DomElement.removeCssClass(this.$7,"validation-summary-valid");Sys.UI.DomElement.addCssClass(this.$7,"validation-summary-errors")}},$B:function(){var a=this.$7;if(a){var b=this.$8;if(b){b.innerHTML=""}Sys.UI.DomElement.removeCssClass(a,"validation-summary-errors");Sys.UI.DomElement.addCssClass(a,"validation-summary-valid")}},enableDynamicValidation:function(){Sys.UI.DomEvent.addHandler(this.$9,"click",this.$3);Sys.UI.DomEvent.addHandler(this.$9,"submit",this.$4)},$C:function(d){if(d.disabled){return null}var a=d.tagName.toUpperCase();var b=d;if(a==="INPUT"){var c=b.type;if(c==="submit"||c==="image"){return b}}else{if((a==="BUTTON")&&(b.type==="submit")){return b}}return null},$D:function(a){this.$6=this.$C(a.target)},$E:function(d){var a=d.target;var b=this.$6;if(b&&b.disableValidation){return}var c=this.validate("submit");if(!Sys.Mvc._ValidationUtil.$0(c)){d.preventDefault()}},$11:function(){if(!this.$5.length){this.$B()}else{this.$A()}},validate:function(f){var a=this.fields;var b=[];for(var c=0;c<a.length;c++){var d=a[c];if(!d.elements[0].disabled){var e=d.validate(f);if(e){Array.addRange(b,e)}}}if(this.replaceValidationSummary){this.clearErrors();this.addErrors(b)}return b}};Sys.Mvc.FieldContext=function(a){this.$A=[];this.elements=new Array(0);this.validations=new Array(0);this.formContext=a;this.$6=Function.createDelegate(this,this.$D);this.$7=Function.createDelegate(this,this.$E);this.$8=Function.createDelegate(this,this.$F);this.$9=Function.createDelegate(this,this.$10)};Sys.Mvc.FieldContext.prototype={$6:null,$7:null,$8:null,$9:null,defaultErrorMessage:null,formContext:null,replaceValidationMessageContents:false,validationMessageElement:null,addError:function(a){this.addErrors([a])},addErrors:function(a){if(!Sys.Mvc._ValidationUtil.$0(a)){Array.addRange(this.$A,a);this.$14()}},clearErrors:function(){Array.clear(this.$A);this.$14()},$B:function(){var a=this.validationMessageElement;if(a){if(this.replaceValidationMessageContents){Sys.Mvc._ValidationUtil.$4(a,this.$A[0])}Sys.UI.DomElement.removeCssClass(a,"field-validation-valid");Sys.UI.DomElement.addCssClass(a,"field-validation-error")}var b=this.elements;for(var c=0;c<b.length;c++){var d=b[c];Sys.UI.DomElement.removeCssClass(d,"input-validation-valid");Sys.UI.DomElement.addCssClass(d,"input-validation-error")}},$C:function(){var a=this.validationMessageElement;if(a){if(this.replaceValidationMessageContents){Sys.Mvc._ValidationUtil.$4(a,"")}Sys.UI.DomElement.removeCssClass(a,"field-validation-error");Sys.UI.DomElement.addCssClass(a,"field-validation-valid")}var b=this.elements;for(var c=0;c<b.length;c++){var d=b[c];Sys.UI.DomElement.removeCssClass(d,"input-validation-error");Sys.UI.DomElement.addCssClass(d,"input-validation-valid")}},$D:function(a){if(a.target.__MVC_HasTextChanged||a.target.__MVC_HasValidationFired){this.validate("blur")}},$E:function(a){a.target.__MVC_HasTextChanged=true},$F:function(a){a.target.__MVC_HasTextChanged=true;if(a.target.__MVC_HasValidationFired){this.validate("input")}},$10:function(a){if(a.rawEvent.propertyName==="value"){a.target.__MVC_HasTextChanged=true;if(a.target.__MVC_HasValidationFired){this.validate("input")}}},enableDynamicValidation:function(){var a=this.elements;for(var b=0;b<a.length;b++){var c=a[b];if(Sys.Mvc._ValidationUtil.$2(c,"onpropertychange")){var d=document.documentMode;if(d&&d>=8){Sys.UI.DomEvent.addHandler(c,"propertychange",this.$9)}}else{Sys.UI.DomEvent.addHandler(c,"input",this.$8)}Sys.UI.DomEvent.addHandler(c,"change",this.$7);Sys.UI.DomEvent.addHandler(c,"blur",this.$6)}},$11:function(b,c){var a=c||this.defaultErrorMessage;if(Boolean.isInstanceOfType(b)){return(b)?null:a}if(String.isInstanceOfType(b)){return((b).length)?b:a}return null},$12:function(){var a=this.elements;return(a.length>0)?a[0].value:null},$13:function(){var a=this.elements;for(var b=0;b<a.length;b++){var c=a[b];c.__MVC_HasValidationFired=true}},$14:function(){if(!this.$A.length){this.$C()}else{this.$B()}},validate:function(i){var a=this.validations;var b=[];var c=this.$12();for(var d=0;d<a.length;d++){var e=a[d];var f=Sys.Mvc.$create_ValidationContext();f.eventName=i;f.fieldContext=this;f.validation=e;var g=e.validator(c,f);var h=this.$11(g,e.fieldErrorMessage);if(!Sys.Mvc._ValidationUtil.$1(h)){Array.add(b,h)}}this.$13();this.clearErrors();this.addErrors(b);return b}};Sys.Mvc.RangeValidator=function(b,a){this.$0=b;this.$1=a};Sys.Mvc.RangeValidator.create=function(c){var a=c.ValidationParameters.min;var b=c.ValidationParameters.max;return Function.createDelegate(new Sys.Mvc.RangeValidator(a,b),new Sys.Mvc.RangeValidator(a,b).validate)};Sys.Mvc.RangeValidator.prototype={$0:null,$1:null,validate:function(c,b){if(Sys.Mvc._ValidationUtil.$1(c)){return true}var a=Number.parseLocale(c);return(!isNaN(a)&&this.$0<=a&&a<=this.$1)}};Sys.Mvc.RegularExpressionValidator=function(a){this.$0=a};Sys.Mvc.RegularExpressionValidator.create=function(b){var a=b.ValidationParameters.pattern;return Function.createDelegate(new Sys.Mvc.RegularExpressionValidator(a),new Sys.Mvc.RegularExpressionValidator(a).validate)};Sys.Mvc.RegularExpressionValidator.prototype={$0:null,validate:function(d,c){if(Sys.Mvc._ValidationUtil.$1(d)){return true}var a=new RegExp(this.$0);var b=a.exec(d);return(!Sys.Mvc._ValidationUtil.$0(b)&&b[0].length===d.length)}};Sys.Mvc.RequiredValidator=function(){};Sys.Mvc.RequiredValidator.create=function(a){return Function.createDelegate(new Sys.Mvc.RequiredValidator(),new Sys.Mvc.RequiredValidator().validate)};Sys.Mvc.RequiredValidator.$0=function(b){if(b.tagName.toUpperCase()==="INPUT"){var a=(b.type).toUpperCase();if(a==="RADIO"){return true}}return false};Sys.Mvc.RequiredValidator.$1=function(a){if(a.tagName.toUpperCase()==="SELECT"){return true}return false};Sys.Mvc.RequiredValidator.$2=function(b){if(b.tagName.toUpperCase()==="INPUT"){var a=(b.type).toUpperCase();switch(a){case"TEXT":case"PASSWORD":case"FILE":return true}}if(b.tagName.toUpperCase()==="TEXTAREA"){return true}return false};Sys.Mvc.RequiredValidator.$3=function(c){for(var a=0;a<c.length;a++){var b=c[a];if(b.checked){return true}}return false};Sys.Mvc.RequiredValidator.$4=function(c){for(var a=0;a<c.length;a++){var b=c[a];if(b.selected){if(!Sys.Mvc._ValidationUtil.$1(b.value)){return true}}}return false};Sys.Mvc.RequiredValidator.$5=function(a){return(!Sys.Mvc._ValidationUtil.$1(a.value))};Sys.Mvc.RequiredValidator.prototype={validate:function(d,c){var a=c.fieldContext.elements;if(!a.length){return true}var b=a[0];if(Sys.Mvc.RequiredValidator.$2(b)){return Sys.Mvc.RequiredValidator.$5(b)}if(Sys.Mvc.RequiredValidator.$0(b)){return Sys.Mvc.RequiredValidator.$3(a)}if(Sys.Mvc.RequiredValidator.$1(b)){return Sys.Mvc.RequiredValidator.$4((b).options)}return true}};Sys.Mvc.StringLengthValidator=function(b,a){this.$1=b;this.$0=a};Sys.Mvc.StringLengthValidator.create=function(c){var a=(c.ValidationParameters.min||0);var b=(c.ValidationParameters.max||Number.MAX_VALUE);return Function.createDelegate(new Sys.Mvc.StringLengthValidator(a,b),new Sys.Mvc.StringLengthValidator(a,b).validate)};Sys.Mvc.StringLengthValidator.prototype={$0:0,$1:0,validate:function(b,a){if(Sys.Mvc._ValidationUtil.$1(b)){return true}return(this.$1<=b.length&&b.length<=this.$0)}};Sys.Mvc._ValidationUtil=function(){};Sys.Mvc._ValidationUtil.$0=function(a){return(!a||!a.length)};Sys.Mvc._ValidationUtil.$1=function(a){return(!a||!a.length)};Sys.Mvc._ValidationUtil.$2=function(a,b){return(b in a)};Sys.Mvc._ValidationUtil.$3=function(a){while(a.firstChild){a.removeChild(a.firstChild)}};Sys.Mvc._ValidationUtil.$4=function(b,c){var a=document.createTextNode(c);Sys.Mvc._ValidationUtil.$3(b);b.appendChild(a)};Sys.Mvc.ValidatorRegistry=function(){};Sys.Mvc.ValidatorRegistry.getValidator=function(b){var a=Sys.Mvc.ValidatorRegistry.validators[b.ValidationType];return(a)?a(b):null};Sys.Mvc.ValidatorRegistry.$0=function(){return{required:Function.createDelegate(null,Sys.Mvc.RequiredValidator.create),length:Function.createDelegate(null,Sys.Mvc.StringLengthValidator.create),regex:Function.createDelegate(null,Sys.Mvc.RegularExpressionValidator.create),range:Function.createDelegate(null,Sys.Mvc.RangeValidator.create),number:Function.createDelegate(null,Sys.Mvc.NumberValidator.create)}};Sys.Mvc.NumberValidator.registerClass("Sys.Mvc.NumberValidator");Sys.Mvc.FormContext.registerClass("Sys.Mvc.FormContext");Sys.Mvc.FieldContext.registerClass("Sys.Mvc.FieldContext");Sys.Mvc.RangeValidator.registerClass("Sys.Mvc.RangeValidator");Sys.Mvc.RegularExpressionValidator.registerClass("Sys.Mvc.RegularExpressionValidator");Sys.Mvc.RequiredValidator.registerClass("Sys.Mvc.RequiredValidator");Sys.Mvc.StringLengthValidator.registerClass("Sys.Mvc.StringLengthValidator");Sys.Mvc._ValidationUtil.registerClass("Sys.Mvc._ValidationUtil");Sys.Mvc.ValidatorRegistry.registerClass("Sys.Mvc.ValidatorRegistry");Sys.Mvc.ValidatorRegistry.validators=Sys.Mvc.ValidatorRegistry.$0();Sys.Application.add_load(function(){Sys.Application.remove_load(arguments.callee);Sys.Mvc.FormContext._Application_Load()});/*
 * Knockout JavaScript library v3.4.2
 * (c) The Knockout.js team - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
(function(){(function(n){var x=this||(0,eval)("this"),t=x.document,M=x.navigator,u=x.jQuery,H=x.JSON;(function(n){"function"===typeof define&&define.amd?define(["exports","require"],n):"object"===typeof exports&&"object"===typeof module?n(module.exports||exports):n(x.ko={})})(function(N,O){function J(a,c){return null===a||typeof a in R?a===c:!1}function S(b,c){var d;return function(){d||(d=a.a.setTimeout(function(){d=n;b()},c))}}function T(b,c){var d;return function(){clearTimeout(d);d=a.a.setTimeout(b,c)}}function U(a,c){c&&c!==E?"beforeChange"===c?this.Ob(a):this.Ja(a,c):this.Pb(a)}function V(a,c){null!==c&&c.k&&c.k()}function W(a,c){var d=this.Mc,e=d[s];e.T||(this.ob&&this.Oa[c]?(d.Sb(c,a,this.Oa[c]),this.Oa[c]=null,--this.ob):e.s[c]||d.Sb(c,a,e.t?{$:a}:d.yc(a)),a.Ha&&a.Hc())}function K(b,c,d,e){a.d[b]={init:function(b,g,h,l,m){var k,r;a.m(function(){var q=g(),p=a.a.c(q),p=!d!==!p,A=!r;if(A||c||p!==k){A&&a.xa.Ca()&&(r=a.a.wa(a.f.childNodes(b),!0)),p?(A||a.f.fa(b,a.a.wa(r)),a.hb(e?e(m,q):m,b)):a.f.za(b),k=p}},null,{i:b});return{controlsDescendantBindings:!0}}};a.h.va[b]=!1;a.f.aa[b]=!0}var a="undefined"!==typeof N?N:{};a.b=function(b,c){for(var d=b.split("."),e=a,f=0;f<d.length-1;f++){e=e[d[f]]}e[d[d.length-1]]=c};a.H=function(a,c,d){a[c]=d};a.version="3.4.2";a.b("version",a.version);a.options={deferUpdates:!1,useOnlyNativeEvents:!1};a.a=function(){function b(a,b){for(var c in a){a.hasOwnProperty(c)&&b(c,a[c])}}function c(a,b){if(b){for(var c in b){b.hasOwnProperty(c)&&(a[c]=b[c])}}return a}function d(a,b){a.__proto__=b;return a}function e(b,c,d,e){var m=b[c].match(r)||[];a.a.r(d.match(r),function(b){a.a.ra(m,b,e)});b[c]=m.join(" ")}var f={__proto__:[]} instanceof Array,g="function"===typeof Symbol,h={},l={};h[M&&/Firefox\/2/i.test(M.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];h.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");b(h,function(a,b){if(b.length){for(var c=0,d=b.length;c<d;c++){l[b[c]]=a}}});var m={propertychange:!0},k=t&&function(){for(var a=3,b=t.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];){}return 4<a?a:n}(),r=/\S+/g;return{gc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],r:function(a,b){for(var c=0,d=a.length;c<d;c++){b(a[c],c)}},o:function(a,b){if("function"==typeof Array.prototype.indexOf){return Array.prototype.indexOf.call(a,b)}for(var c=0,d=a.length;c<d;c++){if(a[c]===b){return c}}return -1},Vb:function(a,b,c){for(var d=0,e=a.length;d<e;d++){if(b.call(c,a[d],d)){return a[d]}}return null},Na:function(b,c){var d=a.a.o(b,c);0<d?b.splice(d,1):0===d&&b.shift()},Wb:function(b){b=b||[];for(var c=[],d=0,e=b.length;d<e;d++){0>a.a.o(c,b[d])&&c.push(b[d])}return c},ib:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++){c.push(b(a[d],d))}return c},Ma:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++){b(a[d],d)&&c.push(a[d])}return c},ta:function(a,b){if(b instanceof Array){a.push.apply(a,b)}else{for(var c=0,d=b.length;c<d;c++){a.push(b[c])}}return a},ra:function(b,c,d){var e=a.a.o(a.a.Bb(b),c);0>e?d&&b.push(c):d||b.splice(e,1)},la:f,extend:c,$a:d,ab:f?d:c,D:b,Ea:function(a,b){if(!a){return a}var c={},d;for(d in a){a.hasOwnProperty(d)&&(c[d]=b(a[d],d,a))}return c},rb:function(b){for(;b.firstChild;){a.removeNode(b.firstChild)}},nc:function(b){b=a.a.W(b);for(var c=(b[0]&&b[0].ownerDocument||t).createElement("div"),d=0,e=b.length;d<e;d++){c.appendChild(a.ba(b[d]))}return c},wa:function(b,c){for(var d=0,e=b.length,m=[];d<e;d++){var k=b[d].cloneNode(!0);m.push(c?a.ba(k):k)}return m},fa:function(b,c){a.a.rb(b);if(c){for(var d=0,e=c.length;d<e;d++){b.appendChild(c[d])}}},uc:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var e=d[0],m=e.parentNode,k=0,f=c.length;k<f;k++){m.insertBefore(c[k],e)}k=0;for(f=d.length;k<f;k++){a.removeNode(d[k])}}},Ba:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;){a.splice(0,1)}for(;1<a.length&&a[a.length-1].parentNode!==b;){a.length--}if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;){a.push(c),c=c.nextSibling}a.push(d)}}return a},wc:function(a,b){7>k?a.setAttribute("selected",b):a.selected=b},cb:function(a){return null===a||a===n?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},sd:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},Rc:function(a,b){if(a===b){return !0}if(11===a.nodeType){return !1}if(b.contains){return b.contains(3===a.nodeType?a.parentNode:a)}if(b.compareDocumentPosition){return 16==(b.compareDocumentPosition(a)&16)}for(;a&&a!=b;){a=a.parentNode}return !!a},qb:function(b){return a.a.Rc(b,b.ownerDocument.documentElement)},Tb:function(b){return !!a.a.Vb(b,a.a.qb)},A:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},Zb:function(b){return a.onError?function(){try{return b.apply(this,arguments)}catch(c){throw a.onError&&a.onError(c),c}}:b},setTimeout:function(b,c){return setTimeout(a.a.Zb(b),c)},dc:function(b){setTimeout(function(){a.onError&&a.onError(b);throw b},0)},q:function(b,c,d){var e=a.a.Zb(d);d=k&&m[c];if(a.options.useOnlyNativeEvents||d||!u){if(d||"function"!=typeof b.addEventListener){if("undefined"!=typeof b.attachEvent){var f=function(a){e.call(b,a)},l="on"+c;b.attachEvent(l,f);a.a.G.qa(b,function(){b.detachEvent(l,f)})}else{throw Error("Browser doesn't support addEventListener or attachEvent")}}else{b.addEventListener(c,e,!1)}}else{u(b).bind(c,e)}},Fa:function(b,c){if(!b||!b.nodeType){throw Error("element must be a DOM node when calling triggerEvent")}var d;"input"===a.a.A(b)&&b.type&&"click"==c.toLowerCase()?(d=b.type,d="checkbox"==d||"radio"==d):d=!1;if(a.options.useOnlyNativeEvents||!u||d){if("function"==typeof t.createEvent){if("function"==typeof b.dispatchEvent){d=t.createEvent(l[c]||"HTMLEvents"),d.initEvent(c,!0,!0,x,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(d)}else{throw Error("The supplied element doesn't support dispatchEvent")}}else{if(d&&b.click){b.click()}else{if("undefined"!=typeof b.fireEvent){b.fireEvent("on"+c)}else{throw Error("Browser doesn't support triggering events")}}}}else{u(b).trigger(c)}},c:function(b){return a.I(b)?b():b},Bb:function(b){return a.I(b)?b.p():b},fb:function(b,c,d){var k;c&&("object"===typeof b.classList?(k=b.classList[d?"add":"remove"],a.a.r(c.match(r),function(a){k.call(b.classList,a)})):"string"===typeof b.className.baseVal?e(b.className,"baseVal",c,d):e(b,"className",c,d))},bb:function(b,c){var d=a.a.c(c);if(null===d||d===n){d=""}var e=a.f.firstChild(b);!e||3!=e.nodeType||a.f.nextSibling(e)?a.f.fa(b,[b.ownerDocument.createTextNode(d)]):e.data=d;a.a.Wc(b)},vc:function(a,b){a.name=b;if(7>=k){try{a.mergeAttributes(t.createElement("<input name='"+a.name+"'/>"),!1)}catch(c){}}},Wc:function(a){9<=k&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},Sc:function(a){if(k){var b=a.style.width;a.style.width=0;a.style.width=b}},nd:function(b,c){b=a.a.c(b);c=a.a.c(c);for(var d=[],e=b;e<=c;e++){d.push(e)}return d},W:function(a){for(var b=[],c=0,d=a.length;c<d;c++){b.push(a[c])}return b},bc:function(a){return g?Symbol(a):a},xd:6===k,yd:7===k,C:k,ic:function(b,c){for(var d=a.a.W(b.getElementsByTagName("input")).concat(a.a.W(b.getElementsByTagName("textarea"))),e="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},k=[],m=d.length-1;0<=m;m--){e(d[m])&&k.push(d[m])}return k},kd:function(b){return"string"==typeof b&&(b=a.a.cb(b))?H&&H.parse?H.parse(b):(new Function("return "+b))():null},Gb:function(b,c,d){if(!H||!H.stringify){throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")}return H.stringify(a.a.c(b),c,d)},ld:function(c,d,e){e=e||{};var k=e.params||{},m=e.includeFields||this.gc,f=c;if("object"==typeof c&&"form"===a.a.A(c)){for(var f=c.action,l=m.length-1;0<=l;l--){for(var g=a.a.ic(c,m[l]),h=g.length-1;0<=h;h--){k[g[h].name]=g[h].value}}}d=a.a.c(d);var r=t.createElement("form");r.style.display="none";r.action=f;r.method="post";for(var n in d){c=t.createElement("input"),c.type="hidden",c.name=n,c.value=a.a.Gb(a.a.c(d[n])),r.appendChild(c)}b(k,function(a,b){var c=t.createElement("input");c.type="hidden";c.name=a;c.value=b;r.appendChild(c)});t.body.appendChild(r);e.submitter?e.submitter(r):r.submit();setTimeout(function(){r.parentNode.removeChild(r)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.r);a.b("utils.arrayFirst",a.a.Vb);a.b("utils.arrayFilter",a.a.Ma);a.b("utils.arrayGetDistinctValues",a.a.Wb);a.b("utils.arrayIndexOf",a.a.o);a.b("utils.arrayMap",a.a.ib);a.b("utils.arrayPushAll",a.a.ta);a.b("utils.arrayRemoveItem",a.a.Na);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",a.a.gc);a.b("utils.getFormFields",a.a.ic);a.b("utils.peekObservable",a.a.Bb);a.b("utils.postJson",a.a.ld);a.b("utils.parseJson",a.a.kd);a.b("utils.registerEventHandler",a.a.q);a.b("utils.stringifyJson",a.a.Gb);a.b("utils.range",a.a.nd);a.b("utils.toggleDomNodeCssClass",a.a.fb);a.b("utils.triggerEvent",a.a.Fa);a.b("utils.unwrapObservable",a.a.c);a.b("utils.objectForEach",a.a.D);a.b("utils.addOrRemoveItem",a.a.ra);a.b("utils.setTextContent",a.a.bb);a.b("unwrap",a.a.c);Function.prototype.bind||(Function.prototype.bind=function(a){var c=this;if(1===arguments.length){return function(){return c.apply(a,arguments)}}var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice(0);e.push.apply(e,arguments);return c.apply(a,e)}});a.a.e=new function(){function a(b,g){var h=b[d];if(!h||"null"===h||!e[h]){if(!g){return n}h=b[d]="ko"+c++;e[h]={}}return e[h]}var c=0,d="__ko__"+(new Date).getTime(),e={};return{get:function(c,d){var e=a(c,!1);return e===n?n:e[d]},set:function(c,d,e){if(e!==n||a(c,!1)!==n){a(c,!0)[d]=e}},clear:function(a){var b=a[d];return b?(delete e[b],a[d]=null,!0):!1},J:function(){return c+++d}}};a.b("utils.domData",a.a.e);a.b("utils.domData.clear",a.a.e.clear);a.a.G=new function(){function b(b,c){var e=a.a.e.get(b,d);e===n&&c&&(e=[],a.a.e.set(b,d,e));return e}function c(d){var e=b(d,!1);if(e){for(var e=e.slice(0),l=0;l<e.length;l++){e[l](d)}}a.a.e.clear(d);a.a.G.cleanExternalData(d);if(f[d.nodeType]){for(e=d.firstChild;d=e;){e=d.nextSibling,8===d.nodeType&&c(d)}}}var d=a.a.e.J(),e={1:!0,8:!0,9:!0},f={1:!0,9:!0};return{qa:function(a,c){if("function"!=typeof c){throw Error("Callback must be a function")}b(a,!0).push(c)},tc:function(c,e){var f=b(c,!1);f&&(a.a.Na(f,e),0==f.length&&a.a.e.set(c,d,n))},ba:function(b){if(e[b.nodeType]&&(c(b),f[b.nodeType])){var d=[];a.a.ta(d,b.getElementsByTagName("*"));for(var l=0,m=d.length;l<m;l++){c(d[l])}}return b},removeNode:function(b){a.ba(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){u&&"function"==typeof u.cleanData&&u.cleanData([a])}}};a.ba=a.a.G.ba;a.removeNode=a.a.G.removeNode;a.b("cleanNode",a.ba);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.G);a.b("utils.domNodeDisposal.addDisposeCallback",a.a.G.qa);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.G.tc);(function(){var b=[0,"",""],c=[1,"<table>","</table>"],d=[3,"<table><tbody><tr>","</tr></tbody></table>"],e=[1,"<select multiple='multiple'>","</select>"],f={thead:c,tbody:c,tfoot:c,tr:[2,"<table><tbody>","</tbody></table>"],td:d,th:d,option:e,optgroup:e},g=8>=a.a.C;a.a.na=function(c,d){var e;if(u){if(u.parseHTML){e=u.parseHTML(c,d)||[]}else{if((e=u.clean([c],d))&&e[0]){for(var k=e[0];k.parentNode&&11!==k.parentNode.nodeType;){k=k.parentNode}k.parentNode&&k.parentNode.removeChild(k)}}}else{(e=d)||(e=t);var k=e.parentWindow||e.defaultView||x,r=a.a.cb(c).toLowerCase(),q=e.createElement("div"),p;p=(r=r.match(/^<([a-z]+)[ >]/))&&f[r[1]]||b;r=p[0];p="ignored<div>"+p[1]+c+p[2]+"</div>";"function"==typeof k.innerShiv?q.appendChild(k.innerShiv(p)):(g&&e.appendChild(q),q.innerHTML=p,g&&q.parentNode.removeChild(q));for(;r--;){q=q.lastChild}e=a.a.W(q.lastChild.childNodes)}return e};a.a.Eb=function(b,c){a.a.rb(b);c=a.a.c(c);if(null!==c&&c!==n){if("string"!=typeof c&&(c=c.toString()),u){u(b).html(c)}else{for(var d=a.a.na(c,b.ownerDocument),e=0;e<d.length;e++){b.appendChild(d[e])}}}}})();a.b("utils.parseHtmlFragment",a.a.na);a.b("utils.setHtml",a.a.Eb);a.N=function(){function b(c,e){if(c){if(8==c.nodeType){var f=a.N.pc(c.nodeValue);null!=f&&e.push({Qc:c,hd:f})}else{if(1==c.nodeType){for(var f=0,g=c.childNodes,h=g.length;f<h;f++){b(g[f],e)}}}}}var c={};return{yb:function(a){if("function"!=typeof a){throw Error("You can only pass a function to ko.memoization.memoize()")}var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},Bc:function(a,b){var f=c[a];if(f===n){throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.")}try{return f.apply(null,b||[]),!0}finally{delete c[a]}},Cc:function(c,e){var f=[];b(c,f);for(var g=0,h=f.length;g<h;g++){var l=f[g].Qc,m=[l];e&&a.a.ta(m,e);a.N.Bc(f[g].hd,m);l.nodeValue="";l.parentNode&&l.parentNode.removeChild(l)}},pc:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.N);a.b("memoization.memoize",a.N.yb);a.b("memoization.unmemoize",a.N.Bc);a.b("memoization.parseMemoText",a.N.pc);a.b("memoization.unmemoizeDomNodeAndDescendants",a.N.Cc);a.Z=function(){function b(){if(e){for(var b=e,c=0,m;g<e;){if(m=d[g++]){if(g>b){if(5000<=++c){g=e;a.a.dc(Error("'Too much recursion' after processing "+c+" task groups."));break}b=e}try{m()}catch(k){a.a.dc(k)}}}}}function c(){b();g=e=d.length=0}var d=[],e=0,f=1,g=0;return{scheduler:x.MutationObserver?function(a){var b=t.createElement("div");(new MutationObserver(a)).observe(b,{attributes:!0});return function(){b.classList.toggle("foo")}}(c):t&&"onreadystatechange" in t.createElement("script")?function(a){var b=t.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;t.documentElement.removeChild(b);b=null;a()};t.documentElement.appendChild(b)}:function(a){setTimeout(a,0)},Za:function(b){e||a.Z.scheduler(c);d[e++]=b;return f++},cancel:function(a){a-=f-e;a>=g&&a<e&&(d[a]=null)},resetForTesting:function(){var a=e-g;g=e=d.length=0;return a},rd:b}}();a.b("tasks",a.Z);a.b("tasks.schedule",a.Z.Za);a.b("tasks.runEarly",a.Z.rd);a.Aa={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.B({read:b,write:function(e){clearTimeout(d);d=a.a.setTimeout(function(){b(e)},c)}})},rateLimit:function(a,c){var d,e,f;"number"==typeof c?d=c:(d=c.timeout,e=c.method);a.gb=!1;f="notifyWhenChangesStop"==e?T:S;a.Wa(function(a){return f(a,d)})},deferred:function(b,c){if(!0!==c){throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.")}b.gb||(b.gb=!0,b.Wa(function(c){var e,f=!1;return function(){if(!f){a.Z.cancel(e);e=a.Z.Za(c);try{f=!0,b.notifySubscribers(n,"dirty")}finally{f=!1}}}}))},notify:function(a,c){a.equalityComparer="always"==c?null:J}};var R={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.Aa);a.zc=function(b,c,d){this.$=b;this.jb=c;this.Pc=d;this.T=!1;a.H(this,"dispose",this.k)};a.zc.prototype.k=function(){this.T=!0;this.Pc()};a.K=function(){a.a.ab(this,D);D.ub(this)};var E="change",D={ub:function(a){a.F={change:[]};a.Qb=1},Y:function(b,c,d){var e=this;d=d||E;var f=new a.zc(e,c?b.bind(c):b,function(){a.a.Na(e.F[d],f);e.Ka&&e.Ka(d)});e.ua&&e.ua(d);e.F[d]||(e.F[d]=[]);e.F[d].push(f);return f},notifySubscribers:function(b,c){c=c||E;c===E&&this.Kb();if(this.Ra(c)){var d=c===E&&this.Fc||this.F[c].slice(0);try{a.l.Xb();for(var e=0,f;f=d[e];++e){f.T||f.jb(b)}}finally{a.l.end()}}},Pa:function(){return this.Qb},Zc:function(a){return this.Pa()!==a},Kb:function(){++this.Qb},Wa:function(b){var c=this,d=a.I(c),e,f,g,h;c.Ja||(c.Ja=c.notifySubscribers,c.notifySubscribers=U);var l=b(function(){c.Ha=!1;d&&h===c&&(h=c.Mb?c.Mb():c());var a=f||c.Ua(g,h);f=e=!1;a&&c.Ja(g=h)});c.Pb=function(a){c.Fc=c.F[E].slice(0);c.Ha=e=!0;h=a;l()};c.Ob=function(a){e||(g=a,c.Ja(a,"beforeChange"))};c.Hc=function(){c.Ua(g,c.p(!0))&&(f=!0)}},Ra:function(a){return this.F[a]&&this.F[a].length},Xc:function(b){if(b){return this.F[b]&&this.F[b].length||0}var c=0;a.a.D(this.F,function(a,b){"dirty"!==a&&(c+=b.length)});return c},Ua:function(a,c){return !this.equalityComparer||!this.equalityComparer(a,c)},extend:function(b){var c=this;b&&a.a.D(b,function(b,e){var f=a.Aa[b];"function"==typeof f&&(c=f(c,e)||c)});return c}};a.H(D,"subscribe",D.Y);a.H(D,"extend",D.extend);a.H(D,"getSubscriptionsCount",D.Xc);a.a.la&&a.a.$a(D,Function.prototype);a.K.fn=D;a.lc=function(a){return null!=a&&"function"==typeof a.Y&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.K);a.b("isSubscribable",a.lc);a.xa=a.l=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],e,f=0;return{Xb:b,end:c,sc:function(b){if(e){if(!a.lc(b)){throw Error("Only subscribable things can act as dependencies")}e.jb.call(e.Lc,b,b.Gc||(b.Gc=++f))}},w:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},Ca:function(){if(e){return e.m.Ca()}},Va:function(){if(e){return e.Va}}}}();a.b("computedContext",a.xa);a.b("computedContext.getDependenciesCount",a.xa.Ca);a.b("computedContext.isInitial",a.xa.Va);a.b("ignoreDependencies",a.wd=a.l.w);var F=a.a.bc("_latestValue");a.O=function(b){function c(){if(0<arguments.length){return c.Ua(c[F],arguments[0])&&(c.ia(),c[F]=arguments[0],c.ha()),this}a.l.sc(c);return c[F]}c[F]=b;a.a.la||a.a.extend(c,a.K.fn);a.K.fn.ub(c);a.a.ab(c,B);a.options.deferUpdates&&a.Aa.deferred(c,!0);return c};var B={equalityComparer:J,p:function(){return this[F]},ha:function(){this.notifySubscribers(this[F])},ia:function(){this.notifySubscribers(this[F],"beforeChange")}};a.a.la&&a.a.$a(B,a.K.fn);var I=a.O.md="__ko_proto__";B[I]=a.O;a.Qa=function(b,c){return null===b||b===n||b[I]===n?!1:b[I]===c?!0:a.Qa(b[I],c)};a.I=function(b){return a.Qa(b,a.O)};a.Da=function(b){return"function"==typeof b&&b[I]===a.O||"function"==typeof b&&b[I]===a.B&&b.$c?!0:!1};a.b("observable",a.O);a.b("isObservable",a.I);a.b("isWriteableObservable",a.Da);a.b("isWritableObservable",a.Da);a.b("observable.fn",B);a.H(B,"peek",B.p);a.H(B,"valueHasMutated",B.ha);a.H(B,"valueWillMutate",B.ia);a.ma=function(b){b=b||[];if("object"!=typeof b||!("length" in b)){throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.")}b=a.O(b);a.a.ab(b,a.ma.fn);return b.extend({trackArrayChanges:!0})};a.ma.fn={remove:function(b){for(var c=this.p(),d=[],e="function"!=typeof b||a.I(b)?function(a){return a===b}:b,f=0;f<c.length;f++){var g=c[f];e(g)&&(0===d.length&&this.ia(),d.push(g),c.splice(f,1),f--)}d.length&&this.ha();return d},removeAll:function(b){if(b===n){var c=this.p(),d=c.slice(0);this.ia();c.splice(0,c.length);this.ha();return d}return b?this.remove(function(c){return 0<=a.a.o(b,c)}):[]},destroy:function(b){var c=this.p(),d="function"!=typeof b||a.I(b)?function(a){return a===b}:b;this.ia();for(var e=c.length-1;0<=e;e--){d(c[e])&&(c[e]._destroy=!0)}this.ha()},destroyAll:function(b){return b===n?this.destroy(function(){return !0}):b?this.destroy(function(c){return 0<=a.a.o(b,c)}):[]},indexOf:function(b){var c=this();return a.a.o(c,b)},replace:function(a,c){var d=this.indexOf(a);0<=d&&(this.ia(),this.p()[d]=c,this.ha())}};a.a.la&&a.a.$a(a.ma.fn,a.O.fn);a.a.r("pop push reverse shift sort splice unshift".split(" "),function(b){a.ma.fn[b]=function(){var a=this.p();this.ia();this.Yb(a,b,arguments);var d=a[b].apply(a,arguments);this.ha();return d===a?this:d}});a.a.r(["slice"],function(b){a.ma.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.b("observableArray",a.ma);a.Aa.trackArrayChanges=function(b,c){function d(){if(!e){e=!0;l=b.notifySubscribers;b.notifySubscribers=function(a,b){b&&b!==E||++h;return l.apply(this,arguments)};var c=[].concat(b.p()||[]);f=null;g=b.Y(function(d){d=[].concat(d||[]);if(b.Ra("arrayChange")){var e;if(!f||1<h){f=a.a.lb(c,d,b.kb)}e=f}c=d;f=null;h=0;e&&e.length&&b.notifySubscribers(e,"arrayChange")})}}b.kb={};c&&"object"==typeof c&&a.a.extend(b.kb,c);b.kb.sparse=!0;if(!b.Yb){var e=!1,f=null,g,h=0,l,m=b.ua,k=b.Ka;b.ua=function(a){m&&m.call(b,a);"arrayChange"===a&&d()};b.Ka=function(a){k&&k.call(b,a);"arrayChange"!==a||b.Ra("arrayChange")||(l&&(b.notifySubscribers=l,l=n),g.k(),e=!1)};b.Yb=function(b,c,d){function k(a,b,c){return m[m.length]={status:a,value:b,index:c}}if(e&&!h){var m=[],l=b.length,g=d.length,G=0;switch(c){case"push":G=l;case"unshift":for(c=0;c<g;c++){k("added",d[c],G+c)}break;case"pop":G=l-1;case"shift":l&&k("deleted",b[G],G);break;case"splice":c=Math.min(Math.max(0,0>d[0]?l+d[0]:d[0]),l);for(var l=1===g?l:Math.min(c+(d[1]||0),l),g=c+g-2,G=Math.max(l,g),n=[],s=[],w=2;c<G;++c,++w){c<l&&s.push(k("deleted",b[c],c)),c<g&&n.push(k("added",d[w],c))}a.a.hc(s,n);break;default:return}f=m}}}};var s=a.a.bc("_state");a.m=a.B=function(b,c,d){function e(){if(0<arguments.length){if("function"===typeof f){f.apply(g.sb,arguments)}else{throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.")}return this}a.l.sc(e);(g.V||g.t&&e.Sa())&&e.U();return g.M}"object"===typeof b?d=b:(d=d||{},b&&(d.read=b));if("function"!=typeof d.read){throw Error("Pass a function that returns the value of the ko.computed")}var f=d.write,g={M:n,da:!0,V:!0,Ta:!1,Hb:!1,T:!1,Ya:!1,t:!1,od:d.read,sb:c||d.owner,i:d.disposeWhenNodeIsRemoved||d.i||null,ya:d.disposeWhen||d.ya,pb:null,s:{},L:0,fc:null};e[s]=g;e.$c="function"===typeof f;a.a.la||a.a.extend(e,a.K.fn);a.K.fn.ub(e);a.a.ab(e,z);d.pure?(g.Ya=!0,g.t=!0,a.a.extend(e,Y)):d.deferEvaluation&&a.a.extend(e,Z);a.options.deferUpdates&&a.Aa.deferred(e,!0);g.i&&(g.Hb=!0,g.i.nodeType||(g.i=null));g.t||d.deferEvaluation||e.U();g.i&&e.ca()&&a.a.G.qa(g.i,g.pb=function(){e.k()});return e};var z={equalityComparer:J,Ca:function(){return this[s].L},Sb:function(a,c,d){if(this[s].Ya&&c===this){throw Error("A 'pure' computed must not be called recursively")}this[s].s[a]=d;d.Ia=this[s].L++;d.pa=c.Pa()},Sa:function(){var a,c,d=this[s].s;for(a in d){if(d.hasOwnProperty(a)&&(c=d[a],this.oa&&c.$.Ha||c.$.Zc(c.pa))){return !0}}},gd:function(){this.oa&&!this[s].Ta&&this.oa(!1)},ca:function(){var a=this[s];return a.V||0<a.L},qd:function(){this.Ha?this[s].V&&(this[s].da=!0):this.ec()},yc:function(a){if(a.gb&&!this[s].i){var c=a.Y(this.gd,this,"dirty"),d=a.Y(this.qd,this);return{$:a,k:function(){c.k();d.k()}}}return a.Y(this.ec,this)},ec:function(){var b=this,c=b.throttleEvaluation;c&&0<=c?(clearTimeout(this[s].fc),this[s].fc=a.a.setTimeout(function(){b.U(!0)},c)):b.oa?b.oa(!0):b.U(!0)},U:function(b){var c=this[s],d=c.ya,e=!1;if(!c.Ta&&!c.T){if(c.i&&!a.a.qb(c.i)||d&&d()){if(!c.Hb){this.k();return}}else{c.Hb=!1}c.Ta=!0;try{e=this.Vc(b)}finally{c.Ta=!1}c.L||this.k();return e}},Vc:function(b){var c=this[s],d=!1,e=c.Ya?n:!c.L,f={Mc:this,Oa:c.s,ob:c.L};a.l.Xb({Lc:f,jb:W,m:this,Va:e});c.s={};c.L=0;f=this.Uc(c,f);this.Ua(c.M,f)&&(c.t||this.notifySubscribers(c.M,"beforeChange"),c.M=f,c.t?this.Kb():b&&this.notifySubscribers(c.M),d=!0);e&&this.notifySubscribers(c.M,"awake");return d},Uc:function(b,c){try{var d=b.od;return b.sb?d.call(b.sb):d()}finally{a.l.end(),c.ob&&!b.t&&a.a.D(c.Oa,V),b.da=b.V=!1}},p:function(a){var c=this[s];(c.V&&(a||!c.L)||c.t&&this.Sa())&&this.U();return c.M},Wa:function(b){a.K.fn.Wa.call(this,b);this.Mb=function(){this[s].da?this.U():this[s].V=!1;return this[s].M};this.oa=function(a){this.Ob(this[s].M);this[s].V=!0;a&&(this[s].da=!0);this.Pb(this)}},k:function(){var b=this[s];!b.t&&b.s&&a.a.D(b.s,function(a,b){b.k&&b.k()});b.i&&b.pb&&a.a.G.tc(b.i,b.pb);b.s=null;b.L=0;b.T=!0;b.da=!1;b.V=!1;b.t=!1;b.i=null}},Y={ua:function(b){var c=this,d=c[s];if(!d.T&&d.t&&"change"==b){d.t=!1;if(d.da||c.Sa()){d.s=null,d.L=0,c.U()&&c.Kb()}else{var e=[];a.a.D(d.s,function(a,b){e[b.Ia]=a});a.a.r(e,function(a,b){var e=d.s[a],l=c.yc(e.$);l.Ia=b;l.pa=e.pa;d.s[a]=l})}d.T||c.notifySubscribers(d.M,"awake")}},Ka:function(b){var c=this[s];c.T||"change"!=b||this.Ra("change")||(a.a.D(c.s,function(a,b){b.k&&(c.s[a]={$:b.$,Ia:b.Ia,pa:b.pa},b.k())}),c.t=!0,this.notifySubscribers(n,"asleep"))},Pa:function(){var b=this[s];b.t&&(b.da||this.Sa())&&this.U();return a.K.fn.Pa.call(this)}},Z={ua:function(a){"change"!=a&&"beforeChange"!=a||this.p()}};a.a.la&&a.a.$a(z,a.K.fn);var P=a.O.md;a.m[P]=a.O;z[P]=a.m;a.bd=function(b){return a.Qa(b,a.m)};a.cd=function(b){return a.Qa(b,a.m)&&b[s]&&b[s].Ya};a.b("computed",a.m);a.b("dependentObservable",a.m);a.b("isComputed",a.bd);a.b("isPureComputed",a.cd);a.b("computed.fn",z);a.H(z,"peek",z.p);a.H(z,"dispose",z.k);a.H(z,"isActive",z.ca);a.H(z,"getDependenciesCount",z.Ca);a.rc=function(b,c){if("function"===typeof b){return a.m(b,c,{pure:!0})}b=a.a.extend({},b);b.pure=!0;return a.m(b,c)};a.b("pureComputed",a.rc);(function(){function b(a,f,g){g=g||new d;a=f(a);if("object"!=typeof a||null===a||a===n||a instanceof RegExp||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean){return a}var h=a instanceof Array?[]:{};g.save(a,h);c(a,function(c){var d=f(a[c]);switch(typeof d){case"boolean":case"number":case"string":case"function":h[c]=d;break;case"object":case"undefined":var k=g.get(d);h[c]=k!==n?k:b(d,f,g)}});return h}function c(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++){b(c)}"function"==typeof a.toJSON&&b("toJSON")}else{for(c in a){b(c)}}}function d(){this.keys=[];this.Lb=[]}a.Ac=function(c){if(0==arguments.length){throw Error("When calling ko.toJS, pass the object you want to convert.")}return b(c,function(b){for(var c=0;a.I(b)&&10>c;c++){b=b()}return b})};a.toJSON=function(b,c,d){b=a.Ac(b);return a.a.Gb(b,c,d)};d.prototype={save:function(b,c){var d=a.a.o(this.keys,b);0<=d?this.Lb[d]=c:(this.keys.push(b),this.Lb.push(c))},get:function(b){b=a.a.o(this.keys,b);return 0<=b?this.Lb[b]:n}}})();a.b("toJS",a.Ac);a.b("toJSON",a.toJSON);(function(){a.j={u:function(b){switch(a.a.A(b)){case"option":return !0===b.__ko__hasDomDataOptionValue__?a.a.e.get(b,a.d.options.zb):7>=a.a.C?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case"select":return 0<=b.selectedIndex?a.j.u(b.options[b.selectedIndex]):n;default:return b.value}},ja:function(b,c,d){switch(a.a.A(b)){case"option":switch(typeof c){case"string":a.a.e.set(b,a.d.options.zb,n);"__ko__hasDomDataOptionValue__" in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:a.a.e.set(b,a.d.options.zb,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===typeof c?c:""}break;case"select":if(""===c||null===c){c=n}for(var e=-1,f=0,g=b.options.length,h;f<g;++f){if(h=a.j.u(b.options[f]),h==c||""==h&&c===n){e=f;break}}if(d||0<=e||c===n&&1<b.size){b.selectedIndex=e}break;default:if(null===c||c===n){c=""}b.value=c}}}})();a.b("selectExtensions",a.j);a.b("selectExtensions.readValue",a.j.u);a.b("selectExtensions.writeValue",a.j.ja);a.h=function(){function b(b){b=a.a.cb(b);123===b.charCodeAt(0)&&(b=b.slice(1,-1));var c=[],d=b.match(e),r,h=[],p=0;if(d){d.push(",");for(var A=0,y;y=d[A];++A){var v=y.charCodeAt(0);if(44===v){if(0>=p){c.push(r&&h.length?{key:r,value:h.join("")}:{unknown:r||h.join("")});r=p=0;h=[];continue}}else{if(58===v){if(!p&&!r&&1===h.length){r=h.pop();continue}}else{47===v&&A&&1<y.length?(v=d[A-1].match(f))&&!g[v[0]]&&(b=b.substr(b.indexOf(y)+1),d=b.match(e),d.push(","),A=-1,y="/"):40===v||123===v||91===v?++p:41===v||125===v||93===v?--p:r||h.length||34!==v&&39!==v||(y=y.slice(1,-1))}}h.push(y)}}return c}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),f=/[\])"'A-Za-z0-9_$]+$/,g={"in":1,"return":1,"typeof":1},h={};return{va:[],ga:h,Ab:b,Xa:function(e,m){function k(b,e){var m;if(!A){var l=a.getBindingHandler(b);if(l&&l.preprocess&&!(e=l.preprocess(e,b,k))){return}if(l=h[b]){m=e,0<=a.a.o(c,m)?m=!1:(l=m.match(d),m=null===l?!1:l[1]?"Object("+l[1]+")"+l[2]:m),l=m}l&&g.push("'"+b+"':function(_z){"+m+"=_z}")}p&&(e="function(){return "+e+" }");f.push("'"+b+"':"+e)}m=m||{};var f=[],g=[],p=m.valueAccessors,A=m.bindingParams,y="string"===typeof e?b(e):e;a.a.r(y,function(a){k(a.key||a.unknown,a.value)});g.length&&k("_ko_property_writers","{"+g.join(",")+" }");return f.join(",")},fd:function(a,b){for(var c=0;c<a.length;c++){if(a[c].key==b){return !0}}return !1},Ga:function(b,c,d,e,f){if(b&&a.I(b)){!a.Da(b)||f&&b.p()===e||b(e)}else{if((b=c.get("_ko_property_writers"))&&b[d]){b[d](e)}}}}}();a.b("expressionRewriting",a.h);a.b("expressionRewriting.bindingRewriteValidators",a.h.va);a.b("expressionRewriting.parseObjectLiteral",a.h.Ab);a.b("expressionRewriting.preProcessBindings",a.h.Xa);a.b("expressionRewriting._twoWayBindings",a.h.ga);a.b("jsonExpressionRewriting",a.h);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.h.Xa);(function(){function b(a){return 8==a.nodeType&&g.test(f?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&h.test(f?a.text:a.nodeValue)}function d(a,d){for(var e=a,f=1,l=[];e=e.nextSibling;){if(c(e)&&(f--,0===f)){return l}l.push(e);b(e)&&f++}if(!d){throw Error("Cannot find closing comment tag to match: "+a.nodeValue)}return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=t&&"\x3c!--test--\x3e"===t.createComment("test").text,g=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,h=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0};a.f={aa:{},childNodes:function(a){return b(a)?d(a):a.childNodes},za:function(c){if(b(c)){c=a.f.childNodes(c);for(var d=0,e=c.length;d<e;d++){a.removeNode(c[d])}}else{a.a.rb(c)}},fa:function(c,d){if(b(c)){a.f.za(c);for(var e=c.nextSibling,f=0,l=d.length;f<l;f++){e.parentNode.insertBefore(d[f],e)}}else{a.a.fa(c,d)}},qc:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},kc:function(c,d,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.f.qc(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=e(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},Yc:b,vd:function(a){return(a=(f?a.text:a.nodeValue).match(g))?a[1]:null},oc:function(d){if(l[a.a.A(d)]){var k=d.firstChild;if(k){do{if(1===k.nodeType){var f;f=k.firstChild;var g=null;if(f){do{if(g){g.push(f)}else{if(b(f)){var h=e(f,!0);h?f=h:g=[f]}else{c(f)&&(g=[f])}}}while(f=f.nextSibling)}if(f=g){for(g=k.nextSibling,h=0;h<f.length;h++){g?d.insertBefore(f[h],g):d.appendChild(f[h])}}}}while(k=k.nextSibling)}}}}})();a.b("virtualElements",a.f);a.b("virtualElements.allowedBindings",a.f.aa);a.b("virtualElements.emptyNode",a.f.za);a.b("virtualElements.insertAfter",a.f.kc);a.b("virtualElements.prepend",a.f.qc);a.b("virtualElements.setDomNodeChildren",a.f.fa);(function(){a.S=function(){this.Kc={}};a.a.extend(a.S.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute("data-bind")||a.g.getComponentNameForNode(b);case 8:return a.f.Yc(b);default:return !1}},getBindings:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b):null;return a.g.Rb(d,b,c,!1)},getBindingAccessors:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b,{valueAccessors:!0}):null;return a.g.Rb(d,b,c,!0)},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.f.vd(b);default:return null}},parseBindingsString:function(b,c,d,e){try{var f=this.Kc,g=b+(e&&e.valueAccessors||""),h;if(!(h=f[g])){var l,m="with($context){with($data||{}){return{"+a.h.Xa(b,e)+"}}}";l=new Function("$context","$element",m);h=f[g]=l}return h(c,d)}catch(k){throw k.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+k.message,k}}});a.S.instance=new a.S})();a.b("bindingProvider",a.S);(function(){function b(a){return function(){return a}}function c(a){return a()}function d(b){return a.a.Ea(a.l.w(b),function(a,c){return function(){return b()[c]}})}function e(c,e,k){return"function"===typeof c?d(c.bind(null,e,k)):a.a.Ea(c,b)}function f(a,b){return d(this.getBindings.bind(this,a,b))}function g(b,c,d){var e,k=a.f.firstChild(c),f=a.S.instance,m=f.preprocessNode;if(m){for(;e=k;){k=a.f.nextSibling(e),m.call(f,e)}k=a.f.firstChild(c)}for(;e=k;){k=a.f.nextSibling(e),h(b,e,d)}}function h(b,c,d){var e=!0,k=1===c.nodeType;k&&a.f.oc(c);if(k&&d||a.S.instance.nodeHasBindings(c)){e=m(c,null,b,d).shouldBindDescendants}e&&!r[a.a.A(c)]&&g(b,c,!k)}function l(b){var c=[],d={},e=[];a.a.D(b,function X(k){if(!d[k]){var f=a.getBindingHandler(k);f&&(f.after&&(e.push(k),a.a.r(f.after,function(c){if(b[c]){if(-1!==a.a.o(e,c)){throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "))}X(c)}}),e.length--),c.push({key:k,jc:f}));d[k]=!0}});return c}function m(b,d,e,k){var m=a.a.e.get(b,q);if(!d){if(m){throw Error("You cannot apply bindings multiple times to the same element.")}a.a.e.set(b,q,!0)}!m&&k&&a.xc(b,e);var g;if(d&&"function"!==typeof d){g=d}else{var h=a.S.instance,r=h.getBindingAccessors||f,p=a.B(function(){(g=d?d(e,b):r.call(h,b,e))&&e.Q&&e.Q();return g},null,{i:b});g&&p.ca()||(p=null)}var s;if(g){var t=p?function(a){return function(){return c(p()[a])}}:function(a){return g[a]},u=function(){return a.a.Ea(p?p():g,c)};u.get=function(a){return g[a]&&c(t(a))};u.has=function(a){return a in g};k=l(g);a.a.r(k,function(c){var d=c.jc.init,k=c.jc.update,f=c.key;if(8===b.nodeType&&!a.f.aa[f]){throw Error("The binding '"+f+"' cannot be used with virtual elements")}try{"function"==typeof d&&a.l.w(function(){var a=d(b,t(f),u,e.$data,e);if(a&&a.controlsDescendantBindings){if(s!==n){throw Error("Multiple bindings ("+s+" and "+f+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")}s=f}}),"function"==typeof k&&a.B(function(){k(b,t(f),u,e.$data,e)},null,{i:b})}catch(m){throw m.message='Unable to process binding "'+f+": "+g[f]+'"\nMessage: '+m.message,m}})}return{shouldBindDescendants:s===n}}function k(b){return b&&b instanceof a.R?b:new a.R(b)}a.d={};var r={script:!0,textarea:!0,template:!0};a.getBindingHandler=function(b){return a.d[b]};a.R=function(b,c,d,e,k){function f(){var k=g?b():b,m=a.a.c(k);c?(c.Q&&c.Q(),a.a.extend(l,c),l.Q=r):(l.$parents=[],l.$root=m,l.ko=a);l.$rawData=k;l.$data=m;d&&(l[d]=m);e&&e(l,c,m);return l.$data}function m(){return h&&!a.a.Tb(h)}var l=this,g="function"==typeof b&&!a.I(b),h,r;k&&k.exportDependencies?f():(r=a.B(f,null,{ya:m,i:!0}),r.ca()&&(l.Q=r,r.equalityComparer=null,h=[],r.Dc=function(b){h.push(b);a.a.G.qa(b,function(b){a.a.Na(h,b);h.length||(r.k(),l.Q=r=n)})}))};a.R.prototype.createChildContext=function(b,c,d,e){return new a.R(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)},e)};a.R.prototype.extend=function(b){return new a.R(this.Q||this.$data,this,null,function(c,d){c.$rawData=d.$rawData;a.a.extend(c,"function"==typeof b?b():b)})};a.R.prototype.ac=function(a,b){return this.createChildContext(a,b,null,{exportDependencies:!0})};var q=a.a.e.J(),p=a.a.e.J();a.xc=function(b,c){if(2==arguments.length){a.a.e.set(b,p,c),c.Q&&c.Q.Dc(b)}else{return a.a.e.get(b,p)}};a.La=function(b,c,d){1===b.nodeType&&a.f.oc(b);return m(b,c,k(d),!0)};a.Ic=function(b,c,d){d=k(d);return a.La(b,e(c,d,b),d)};a.hb=function(a,b){1!==b.nodeType&&8!==b.nodeType||g(k(a),b,!0)};a.Ub=function(a,b){!u&&x.jQuery&&(u=x.jQuery);if(b&&1!==b.nodeType&&8!==b.nodeType){throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node")}b=b||x.document.body;h(k(a),b,!0)};a.nb=function(b){switch(b.nodeType){case 1:case 8:var c=a.xc(b);if(c){return c}if(b.parentNode){return a.nb(b.parentNode)}}return n};a.Oc=function(b){return(b=a.nb(b))?b.$data:n};a.b("bindingHandlers",a.d);a.b("applyBindings",a.Ub);a.b("applyBindingsToDescendants",a.hb);a.b("applyBindingAccessorsToNode",a.La);a.b("applyBindingsToNode",a.Ic);a.b("contextFor",a.nb);a.b("dataFor",a.Oc)})();(function(b){function c(c,e){var m=f.hasOwnProperty(c)?f[c]:b,k;m?m.Y(e):(m=f[c]=new a.K,m.Y(e),d(c,function(b,d){var e=!(!d||!d.synchronous);g[c]={definition:b,dd:e};delete f[c];k||e?m.notifySubscribers(b):a.Z.Za(function(){m.notifySubscribers(b)})}),k=!0)}function d(a,b){e("getConfig",[a],function(c){c?e("loadComponent",[a,c],function(a){b(a,c)}):b(null,null)})}function e(c,d,f,k){k||(k=a.g.loaders.slice(0));var g=k.shift();if(g){var q=g[c];if(q){var p=!1;if(q.apply(g,d.concat(function(a){p?f(null):null!==a?f(a):e(c,d,f,k)}))!==b&&(p=!0,!g.suppressLoaderExceptions)){throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}}else{e(c,d,f,k)}}else{f(null)}}var f={},g={};a.g={get:function(d,e){var f=g.hasOwnProperty(d)?g[d]:b;f?f.dd?a.l.w(function(){e(f.definition)}):a.Z.Za(function(){e(f.definition)}):c(d,e)},$b:function(a){delete g[a]},Nb:e};a.g.loaders=[];a.b("components",a.g);a.b("components.get",a.g.get);a.b("components.clearCachedDefinition",a.g.$b)})();(function(){function b(b,c,d,e){function g(){0===--y&&e(h)}var h={},y=2,v=d.template;d=d.viewModel;v?f(c,v,function(c){a.g.Nb("loadTemplate",[b,c],function(a){h.template=a;g()})}):g();d?f(c,d,function(c){a.g.Nb("loadViewModel",[b,c],function(a){h[l]=a;g()})}):g()}function c(a,b,d){if("function"===typeof b){d(function(a){return new b(a)})}else{if("function"===typeof b[l]){d(b[l])}else{if("instance" in b){var e=b.instance;d(function(){return e})}else{"viewModel" in b?c(a,b.viewModel,d):a("Unknown viewModel value: "+b)}}}}function d(b){switch(a.a.A(b)){case"script":return a.a.na(b.text);case"textarea":return a.a.na(b.value);case"template":if(e(b.content)){return a.a.wa(b.content.childNodes)}}return a.a.wa(b.childNodes)}function e(a){return x.DocumentFragment?a instanceof DocumentFragment:a&&11===a.nodeType}function f(a,b,c){"string"===typeof b.require?O||x.require?(O||x.require)([b.require],c):a("Uses require, but no AMD loader is present"):c(b)}function g(a){return function(b){throw Error("Component '"+a+"': "+b)}}var h={};a.g.register=function(b,c){if(!c){throw Error("Invalid configuration for "+b)}if(a.g.wb(b)){throw Error("Component "+b+" is already registered")}h[b]=c};a.g.wb=function(a){return h.hasOwnProperty(a)};a.g.ud=function(b){delete h[b];a.g.$b(b)};a.g.cc={getConfig:function(a,b){b(h.hasOwnProperty(a)?h[a]:null)},loadComponent:function(a,c,d){var e=g(a);f(e,c,function(c){b(a,e,c,d)})},loadTemplate:function(b,c,f){b=g(b);if("string"===typeof c){f(a.a.na(c))}else{if(c instanceof Array){f(c)}else{if(e(c)){f(a.a.W(c.childNodes))}else{if(c.element){if(c=c.element,x.HTMLElement?c instanceof HTMLElement:c&&c.tagName&&1===c.nodeType){f(d(c))}else{if("string"===typeof c){var l=t.getElementById(c);l?f(d(l)):b("Cannot find element with ID "+c)}else{b("Unknown element type: "+c)}}}else{b("Unknown template value: "+c)}}}}},loadViewModel:function(a,b,d){c(g(a),b,d)}};var l="createViewModel";a.b("components.register",a.g.register);a.b("components.isRegistered",a.g.wb);a.b("components.unregister",a.g.ud);a.b("components.defaultLoader",a.g.cc);a.g.loaders.push(a.g.cc);a.g.Ec=h})();(function(){function b(b,e){var f=b.getAttribute("params");if(f){var f=c.parseBindingsString(f,e,b,{valueAccessors:!0,bindingParams:!0}),f=a.a.Ea(f,function(c){return a.m(c,null,{i:b})}),g=a.a.Ea(f,function(c){var e=c.p();return c.ca()?a.m({read:function(){return a.a.c(c())},write:a.Da(e)&&function(a){c()(a)},i:b}):e});g.hasOwnProperty("$raw")||(g.$raw=f);return g}return{$raw:{}}}a.g.getComponentNameForNode=function(b){var c=a.a.A(b);if(a.g.wb(c)&&(-1!=c.indexOf("-")||"[object HTMLUnknownElement]"==""+b||8>=a.a.C&&b.tagName===c)){return c}};a.g.Rb=function(c,e,f,g){if(1===e.nodeType){var h=a.g.getComponentNameForNode(e);if(h){c=c||{};if(c.component){throw Error('Cannot use the "component" binding on a custom element matching a component')}var l={name:h,params:b(e,f)};c.component=g?function(){return l}:l}}return c};var c=new a.S;9>a.a.C&&(a.g.register=function(a){return function(b){t.createElement(b);return a.apply(this,arguments)}}(a.g.register),t.createDocumentFragment=function(b){return function(){var c=b(),f=a.g.Ec,g;for(g in f){f.hasOwnProperty(g)&&c.createElement(g)}return c}}(t.createDocumentFragment))})();(function(b){function c(b,c,d){c=c.template;if(!c){throw Error("Component '"+b+"' has no template")}b=a.a.wa(c);a.f.fa(d,b)}function d(a,b,c,d){var e=a.createViewModel;return e?e.call(a,d,{element:b,templateNodes:c}):d}var e=0;a.d.component={init:function(f,g,h,l,m){function k(){var a=r&&r.dispose;"function"===typeof a&&a.call(r);q=r=null}var r,q,p=a.a.W(a.f.childNodes(f));a.a.G.qa(f,k);a.m(function(){var l=a.a.c(g()),h,v;"string"===typeof l?h=l:(h=a.a.c(l.name),v=a.a.c(l.params));if(!h){throw Error("No component name specified")}var n=q=++e;a.g.get(h,function(e){if(q===n){k();if(!e){throw Error("Unknown component '"+h+"'")}c(h,e,f);var l=d(e,f,p,v);e=m.createChildContext(l,b,function(a){a.$component=l;a.$componentTemplateNodes=p});r=l;a.hb(e,f)}})},null,{i:f});return{controlsDescendantBindings:!0}}};a.f.aa.component=!0})();var Q={"class":"className","for":"htmlFor"};a.d.attr={update:function(b,c){var d=a.a.c(c())||{};a.a.D(d,function(c,d){d=a.a.c(d);var g=!1===d||null===d||d===n;g&&b.removeAttribute(c);8>=a.a.C&&c in Q?(c=Q[c],g?b.removeAttribute(c):b[c]=d):g||b.setAttribute(c,d.toString());"name"===c&&a.a.vc(b,g?"":d.toString())})}};(function(){a.d.checked={after:["value","attr"],init:function(b,c,d){function e(){var e=b.checked,f=p?g():e;if(!a.xa.Va()&&(!l||e)){var h=a.l.w(c);if(k){var m=r?h.p():h;q!==f?(e&&(a.a.ra(m,f,!0),a.a.ra(m,q,!1)),q=f):a.a.ra(m,f,e);r&&a.Da(h)&&h(m)}else{a.h.Ga(h,d,"checked",f,!0)}}}function f(){var d=a.a.c(c());b.checked=k?0<=a.a.o(d,g()):h?d:g()===d}var g=a.rc(function(){return d.has("checkedValue")?a.a.c(d.get("checkedValue")):d.has("value")?a.a.c(d.get("value")):b.value}),h="checkbox"==b.type,l="radio"==b.type;if(h||l){var m=c(),k=h&&a.a.c(m) instanceof Array,r=!(k&&m.push&&m.splice),q=k?g():n,p=l||k;l&&!b.name&&a.d.uniqueName.init(b,function(){return !0});a.m(e,null,{i:b});a.a.q(b,"click",e);a.m(f,null,{i:b});m=n}}};a.h.ga.checked=!0;a.d.checkedValue={update:function(b,c){b.value=a.a.c(c())}}})();a.d.css={update:function(b,c){var d=a.a.c(c());null!==d&&"object"==typeof d?a.a.D(d,function(c,d){d=a.a.c(d);a.a.fb(b,c,d)}):(d=a.a.cb(String(d||"")),a.a.fb(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.a.fb(b,d,!0))}};a.d.enable={update:function(b,c){var d=a.a.c(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.d.disable={update:function(b,c){a.d.enable.update(b,function(){return !a.a.c(c())})}};a.d.event={init:function(b,c,d,e,f){var g=c()||{};a.a.D(g,function(g){"string"==typeof g&&a.a.q(b,g,function(b){var m,k=c()[g];if(k){try{var r=a.a.W(arguments);e=f.$data;r.unshift(e);m=k.apply(e,r)}finally{!0!==m&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}!1===d.get(g+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.d.foreach={mc:function(b){return function(){var c=b(),d=a.a.Bb(c);if(!d||"number"==typeof d.length){return{foreach:c,templateEngine:a.X.vb}}a.a.c(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.X.vb}}},init:function(b,c){return a.d.template.init(b,a.d.foreach.mc(c))},update:function(b,c,d,e,f){return a.d.template.update(b,a.d.foreach.mc(c),d,e,f)}};a.h.va.foreach=!1;a.f.aa.foreach=!0;a.d.hasfocus={init:function(b,c,d){function e(e){b.__ko_hasfocusUpdating=!0;var f=b.ownerDocument;if("activeElement" in f){var g;try{g=f.activeElement}catch(k){g=f.body}e=g===b}f=c();a.h.Ga(f,d,"hasfocus",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),g=e.bind(null,!1);a.a.q(b,"focus",f);a.a.q(b,"focusin",f);a.a.q(b,"blur",g);a.a.q(b,"focusout",g)},update:function(b,c){var d=!!a.a.c(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():b.blur(),!d&&b.__ko_hasfocusLastValue&&b.ownerDocument.body.focus(),a.l.w(a.a.Fa,null,[b,d?"focusin":"focusout"]))}};a.h.ga.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.h.ga.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Eb(b,c())}};K("if");K("ifnot",!1,!0);K("with",!0,!1,function(a,c){return a.ac(c)});var L={};a.d.options={init:function(b){if("select"!==a.a.A(b)){throw Error("options binding applies only to SELECT elements")}for(;0<b.length;){b.remove(0)}return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.Ma(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function g(c,e){if(A&&k){a.j.ja(b,a.a.c(d.get("value")),!0)}else{if(p.length){var f=0<=a.a.o(p,a.j.u(e[0]));a.a.wc(e[0],f);A&&!f&&a.l.w(a.a.Fa,null,[b,"change"])}}}var h=b.multiple,l=0!=b.length&&h?b.scrollTop:null,m=a.a.c(c()),k=d.get("valueAllowUnset")&&d.has("value"),r=d.get("optionsIncludeDestroyed");c={};var q,p=[];k||(h?p=a.a.ib(e(),a.j.u):0<=b.selectedIndex&&p.push(a.j.u(b.options[b.selectedIndex])));m&&("undefined"==typeof m.length&&(m=[m]),q=a.a.Ma(m,function(b){return r||b===n||null===b||!a.a.c(b._destroy)}),d.has("optionsCaption")&&(m=a.a.c(d.get("optionsCaption")),null!==m&&m!==n&&q.unshift(L)));var A=!1;c.beforeRemove=function(a){b.removeChild(a)};m=g;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(m=function(b,c){g(0,c);a.l.w(d.get("optionsAfterRender"),null,[c[0],b!==L?b:n])});a.a.Db(b,q,function(c,e,g){g.length&&(p=!k&&g[0].selected?[a.j.u(g[0])]:[],A=!0);e=b.ownerDocument.createElement("option");c===L?(a.a.bb(e,d.get("optionsCaption")),a.j.ja(e,n)):(g=f(c,d.get("optionsValue"),c),a.j.ja(e,a.a.c(g)),c=f(c,d.get("optionsText"),g),a.a.bb(e,c));return[e]},c,m);a.l.w(function(){k?a.j.ja(b,a.a.c(d.get("value")),!0):(h?p.length&&e().length<p.length:p.length&&0<=b.selectedIndex?a.j.u(b.options[b.selectedIndex])!==p[0]:p.length||0<=b.selectedIndex)&&a.a.Fa(b,"change")});a.a.Sc(b);l&&20<Math.abs(l-b.scrollTop)&&(b.scrollTop=l)}};a.d.options.zb=a.a.e.J();a.d.selectedOptions={after:["options","foreach"],init:function(b,c,d){a.a.q(b,"change",function(){var e=c(),f=[];a.a.r(b.getElementsByTagName("option"),function(b){b.selected&&f.push(a.j.u(b))});a.h.Ga(e,d,"selectedOptions",f)})},update:function(b,c){if("select"!=a.a.A(b)){throw Error("values binding applies only to SELECT elements")}var d=a.a.c(c()),e=b.scrollTop;d&&"number"==typeof d.length&&a.a.r(b.getElementsByTagName("option"),function(b){var c=0<=a.a.o(d,a.j.u(b));b.selected!=c&&a.a.wc(b,c)});b.scrollTop=e}};a.h.ga.selectedOptions=!0;a.d.style={update:function(b,c){var d=a.a.c(c()||{});a.a.D(d,function(c,d){d=a.a.c(d);if(null===d||d===n||!1===d){d=""}b.style[c]=d})}};a.d.submit={init:function(b,c,d,e,f){if("function"!=typeof c()){throw Error("The value for a submit binding must be a function")}a.a.q(b,"submit",function(a){var d,e=c();try{d=e.call(f.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.bb(b,c())}};a.f.aa.text=!0;(function(){if(x&&x.navigator){var b=function(a){if(a){return parseFloat(a[1])}},c=x.opera&&x.opera.version&&parseInt(x.opera.version()),d=x.navigator.userAgent,e=b(d.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),f=b(d.match(/Firefox\/([^ ]*)/))}if(10>a.a.C){var g=a.a.e.J(),h=a.a.e.J(),l=function(b){var c=this.activeElement;(c=c&&a.a.e.get(c,h))&&c(b)},m=function(b,c){var d=b.ownerDocument;a.a.e.get(d,g)||(a.a.e.set(d,g,!0),a.a.q(d,"selectionchange",l));a.a.e.set(b,h,c)}}a.d.textInput={init:function(b,d,g){function l(c,d){a.a.q(b,c,d)}function h(){var c=a.a.c(d());if(null===c||c===n){c=""}u!==n&&c===u?a.a.setTimeout(h,4):b.value!==c&&(s=c,b.value=c)}function y(){t||(u=b.value,t=a.a.setTimeout(v,4))}function v(){clearTimeout(t);u=t=n;var c=b.value;s!==c&&(s=c,a.h.Ga(d(),g,"textInput",c))}var s=b.value,t,u,x=9==a.a.C?y:v;10>a.a.C?(l("propertychange",function(a){"value"===a.propertyName&&x(a)}),8==a.a.C&&(l("keyup",v),l("keydown",v)),8<=a.a.C&&(m(b,x),l("dragend",y))):(l("input",v),5>e&&"textarea"===a.a.A(b)?(l("keydown",y),l("paste",y),l("cut",y)):11>c?l("keydown",y):4>f&&(l("DOMAutoComplete",v),l("dragdrop",v),l("drop",v)));l("change",v);a.m(h,null,{i:b})}};a.h.ga.textInput=!0;a.d.textinput={preprocess:function(a,b,c){c("textInput",a)}}})();a.d.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.d.uniqueName.Nc;a.a.vc(b,d)}}};a.d.uniqueName.Nc=0;a.d.value={after:["options","foreach"],init:function(b,c,d){if("input"!=b.tagName.toLowerCase()||"checkbox"!=b.type&&"radio"!=b.type){var e=["change"],f=d.get("valueUpdate"),g=!1,h=null;f&&("string"==typeof f&&(f=[f]),a.a.ta(e,f),e=a.a.Wb(e));var l=function(){h=null;g=!1;var e=c(),f=a.j.u(b);a.h.Ga(e,d,"value",f)};!a.a.C||"input"!=b.tagName.toLowerCase()||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.o(e,"propertychange")||(a.a.q(b,"propertychange",function(){g=!0}),a.a.q(b,"focus",function(){g=!1}),a.a.q(b,"blur",function(){g&&l()}));a.a.r(e,function(c){var d=l;a.a.sd(c,"after")&&(d=function(){h=a.j.u(b);a.a.setTimeout(l,0)},c=c.substring(5));a.a.q(b,c,d)});var m=function(){var e=a.a.c(c()),f=a.j.u(b);if(null!==h&&e===h){a.a.setTimeout(m,0)}else{if(e!==f){if("select"===a.a.A(b)){var g=d.get("valueAllowUnset"),f=function(){a.j.ja(b,e,g)};f();g||e===a.j.u(b)?a.a.setTimeout(f,0):a.l.w(a.a.Fa,null,[b,"change"])}else{a.j.ja(b,e)}}}};a.m(m,null,{i:b})}else{a.La(b,{checkedValue:c})}},update:function(){}};a.h.ga.value=!0;a.d.visible={update:function(b,c){var d=a.a.c(c()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};(function(b){a.d[b]={init:function(c,d,e,f,g){return a.d.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,f,g)}}})("click");a.P=function(){};a.P.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")};a.P.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")};a.P.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||t;var d=c.getElementById(b);if(!d){throw Error("Cannot find template with ID "+b)}return new a.v.n(d)}if(1==b.nodeType||8==b.nodeType){return new a.v.sa(b)}throw Error("Unknown template type: "+b)};a.P.prototype.renderTemplate=function(a,c,d,e){a=this.makeTemplateSource(a,e);return this.renderTemplateSource(a,c,d,e)};a.P.prototype.isTemplateRewritten=function(a,c){return !1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,c).data("isRewritten")};a.P.prototype.rewriteTemplate=function(a,c,d){a=this.makeTemplateSource(a,d);c=c(a.text());a.text(c);a.data("isRewritten",!0)};a.b("templateEngine",a.P);a.Ib=function(){function b(b,c,d,h){b=a.h.Ab(b);for(var l=a.h.va,m=0;m<b.length;m++){var k=b[m].key;if(l.hasOwnProperty(k)){var r=l[k];if("function"===typeof r){if(k=r(b[m].value)){throw Error(k)}}else{if(!r){throw Error("This template engine does not support the '"+k+"' binding within its templates")}}}}d="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.h.Xa(b,{valueAccessors:!0})+" } })()},'"+d.toLowerCase()+"')";return h.createJavaScriptEvaluatorBlock(d)+c}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Tc:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.Ib.jd(b,c)},d)},jd:function(a,f){return a.replace(c,function(a,c,d,e,k){return b(k,c,d,f)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",f)})},Jc:function(b,c){return a.N.yb(function(d,h){var l=d.nextSibling;l&&l.nodeName.toLowerCase()===c&&a.La(l,b,h)})}}}();a.b("__tr_ambtns",a.Ib.Jc);(function(){a.v={};a.v.n=function(b){if(this.n=b){var c=a.a.A(b);this.eb="script"===c?1:"textarea"===c?2:"template"==c&&b.content&&11===b.content.nodeType?3:4}};a.v.n.prototype.text=function(){var b=1===this.eb?"text":2===this.eb?"value":"innerHTML";if(0==arguments.length){return this.n[b]}var c=arguments[0];"innerHTML"===b?a.a.Eb(this.n,c):this.n[b]=c};var b=a.a.e.J()+"_";a.v.n.prototype.data=function(c){if(1===arguments.length){return a.a.e.get(this.n,b+c)}a.a.e.set(this.n,b+c,arguments[1])};var c=a.a.e.J();a.v.n.prototype.nodes=function(){var b=this.n;if(0==arguments.length){return(a.a.e.get(b,c)||{}).mb||(3===this.eb?b.content:4===this.eb?b:n)}a.a.e.set(b,c,{mb:arguments[0]})};a.v.sa=function(a){this.n=a};a.v.sa.prototype=new a.v.n;a.v.sa.prototype.text=function(){if(0==arguments.length){var b=a.a.e.get(this.n,c)||{};b.Jb===n&&b.mb&&(b.Jb=b.mb.innerHTML);return b.Jb}a.a.e.set(this.n,c,{Jb:arguments[0]})};a.b("templateSources",a.v);a.b("templateSources.domElement",a.v.n);a.b("templateSources.anonymousTemplate",a.v.sa)})();(function(){function b(b,c,d){var e;for(c=a.f.nextSibling(c);b&&(e=b)!==c;){b=a.f.nextSibling(e),d(e,b)}}function c(c,d){if(c.length){var e=c[0],f=c[c.length-1],g=e.parentNode,h=a.S.instance,n=h.preprocessNode;if(n){b(e,f,function(a,b){var c=a.previousSibling,d=n.call(h,a);d&&(a===e&&(e=d[0]||b),a===f&&(f=d[d.length-1]||c))});c.length=0;if(!e){return}e===f?c.push(e):(c.push(e,f),a.a.Ba(c,g))}b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.Ub(d,b)});b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.N.Cc(b,[d])});a.a.Ba(c,g)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,e,f,h,q){q=q||{};var p=(b&&d(b)||f||{}).ownerDocument,n=q.templateEngine||g;a.Ib.Tc(f,n,p);f=n.renderTemplate(f,h,q,p);if("number"!=typeof f.length||0<f.length&&"number"!=typeof f[0].nodeType){throw Error("Template engine must return an array of DOM nodes")}p=!1;switch(e){case"replaceChildren":a.f.fa(b,f);p=!0;break;case"replaceNode":a.a.uc(b,f);p=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e)}p&&(c(f,h),q.afterRender&&a.l.w(q.afterRender,null,[f,h.$data]));return f}function f(b,c,d){return a.I(b)?b():"function"===typeof b?b(c,d):b}var g;a.Fb=function(b){if(b!=n&&!(b instanceof a.P)){throw Error("templateEngine must inherit from ko.templateEngine")}g=b};a.Cb=function(b,c,k,h,q){k=k||{};if((k.templateEngine||g)==n){throw Error("Set a template engine before calling renderTemplate")}q=q||"replaceChildren";if(h){var p=d(h);return a.B(function(){var g=c&&c instanceof a.R?c:new a.R(c,null,null,null,{exportDependencies:!0}),n=f(b,g.$data,g),g=e(h,q,n,g,k);"replaceNode"==q&&(h=g,p=d(h))},null,{ya:function(){return !p||!a.a.qb(p)},i:p&&"replaceNode"==q?p.parentNode:p})}return a.N.yb(function(d){a.Cb(b,c,k,d,"replaceNode")})};a.pd=function(b,d,g,h,q){function p(a,b){c(b,t);g.afterRender&&g.afterRender(b,a);t=null}function s(a,c){t=q.createChildContext(a,g.as,function(a){a.$index=c});var d=f(b,a,t);return e(null,"ignoreTargetNode",d,t,g)}var t;return a.B(function(){var b=a.a.c(d)||[];"undefined"==typeof b.length&&(b=[b]);b=a.a.Ma(b,function(b){return g.includeDestroyed||b===n||null===b||!a.a.c(b._destroy)});a.l.w(a.a.Db,null,[h,b,s,g,p])},null,{i:h})};var h=a.a.e.J();a.d.template={init:function(b,c){var d=a.a.c(c());if("string"==typeof d||d.name){a.f.za(b)}else{if("nodes" in d){if(d=d.nodes||[],a.I(d)){throw Error('The "nodes" option must be a plain, non-observable array.')}}else{d=a.f.childNodes(b)}d=a.a.nc(d);(new a.v.sa(b)).nodes(d)}return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var g=c();c=a.a.c(g);d=!0;e=null;"string"==typeof c?c={}:(g=c.name,"if" in c&&(d=a.a.c(c["if"])),d&&"ifnot" in c&&(d=!a.a.c(c.ifnot)));"foreach" in c?e=a.pd(g||b,d&&c.foreach||[],c,b,f):d?(f="data" in c?f.ac(c.data,c.as):f,e=a.Cb(g||b,f,c,b)):a.f.za(b);f=e;(c=a.a.e.get(b,h))&&"function"==typeof c.k&&c.k();a.a.e.set(b,h,f&&f.ca()?f:n)}};a.h.va.template=function(b){b=a.h.Ab(b);return 1==b.length&&b[0].unknown||a.h.fd(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.f.aa.template=!0})();a.b("setTemplateEngine",a.Fb);a.b("renderTemplate",a.Cb);a.a.hc=function(a,c,d){if(a.length&&c.length){var e,f,g,h,l;for(e=f=0;(!d||e<d)&&(h=a[f]);++f){for(g=0;l=c[g];++g){if(h.value===l.value){h.moved=l.index;l.moved=h.index;c.splice(g,1);e=g=0;break}}e+=g}}};a.a.lb=function(){function b(b,d,e,f,g){var h=Math.min,l=Math.max,m=[],k,n=b.length,q,p=d.length,s=p-n||1,t=n+p+1,v,u,x;for(k=0;k<=n;k++){for(u=v,m.push(v=[]),x=h(p,k+s),q=l(0,k-1);q<=x;q++){v[q]=q?k?b[k-1]===d[q-1]?u[q-1]:h(u[q]||t,v[q-1]||t)+1:q+1:k+1}}h=[];l=[];s=[];k=n;for(q=p;k||q;){p=m[k][q]-1,q&&p===m[k][q-1]?l.push(h[h.length]={status:e,value:d[--q],index:q}):k&&p===m[k-1][q]?s.push(h[h.length]={status:f,value:b[--k],index:k}):(--q,--k,g.sparse||h.push({status:"retained",value:d[q]}))}a.a.hc(s,l,!g.dontLimitMoves&&10*n);return h.reverse()}return function(a,d,e){e="boolean"===typeof e?{dontLimitMoves:e}:e||{};a=a||[];d=d||[];return a.length<d.length?b(a,d,"added","deleted",e):b(d,a,"deleted","added",e)}}();a.b("utils.compareArrays",a.a.lb);(function(){function b(b,c,d,h,l){var m=[],k=a.B(function(){var k=c(d,l,a.a.Ba(m,b))||[];0<m.length&&(a.a.uc(m,k),h&&a.l.w(h,null,[d,k,l]));m.length=0;a.a.ta(m,k)},null,{i:b,ya:function(){return !a.a.Tb(m)}});return{ea:m,B:k.ca()?k:n}}var c=a.a.e.J(),d=a.a.e.J();a.a.Db=function(e,f,g,h,l){function m(b,c){w=q[c];u!==c&&(D[b]=w);w.tb(u++);a.a.Ba(w.ea,e);t.push(w);z.push(w)}function k(b,c){if(b){for(var d=0,e=c.length;d<e;d++){c[d]&&a.a.r(c[d].ea,function(a){b(a,d,c[d].ka)})}}}f=f||[];h=h||{};var r=a.a.e.get(e,c)===n,q=a.a.e.get(e,c)||[],p=a.a.ib(q,function(a){return a.ka}),s=a.a.lb(p,f,h.dontLimitMoves),t=[],v=0,u=0,x=[],z=[];f=[];for(var D=[],p=[],w,C=0,B,E;B=s[C];C++){switch(E=B.moved,B.status){case"deleted":E===n&&(w=q[v],w.B&&(w.B.k(),w.B=n),a.a.Ba(w.ea,e).length&&(h.beforeRemove&&(t.push(w),z.push(w),w.ka===d?w=null:f[C]=w),w&&x.push.apply(x,w.ea)));v++;break;case"retained":m(C,v++);break;case"added":E!==n?m(C,E):(w={ka:B.value,tb:a.O(u++)},t.push(w),z.push(w),r||(p[C]=w))}}a.a.e.set(e,c,t);k(h.beforeMove,D);a.a.r(x,h.beforeRemove?a.ba:a.removeNode);for(var C=0,r=a.f.firstChild(e),F;w=z[C];C++){w.ea||a.a.extend(w,b(e,g,w.ka,l,w.tb));for(v=0;s=w.ea[v];r=s.nextSibling,F=s,v++){s!==r&&a.f.kc(e,s,F)}!w.ad&&l&&(l(w.ka,w.ea,w.tb),w.ad=!0)}k(h.beforeRemove,f);for(C=0;C<f.length;++C){f[C]&&(f[C].ka=d)}k(h.afterMove,D);k(h.afterAdd,p)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.Db);a.X=function(){this.allowTemplateRewriting=!1};a.X.prototype=new a.P;a.X.prototype.renderTemplateSource=function(b,c,d,e){if(c=(9>a.a.C?0:b.nodes)?b.nodes():null){return a.a.W(c.cloneNode(!0).childNodes)}b=b.text();return a.a.na(b,e)};a.X.vb=new a.X;a.Fb(a.X.vb);a.b("nativeTemplateEngine",a.X);(function(){a.xb=function(){var a=this.ed=function(){if(!u||!u.tmpl){return 0}try{if(0<=u.tmpl.tag.tmpl.open.toString().indexOf("__")){return 2}}catch(a){}return 1}();this.renderTemplateSource=function(b,e,f,g){g=g||t;f=f||{};if(2>a){throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}var h=b.data("precompiled");h||(h=b.text()||"",h=u.template(null,"{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}"),b.data("precompiled",h));b=[e.$data];e=u.extend({koBindingContext:e},f.templateOptions);e=u.tmpl(h,b,e);e.appendTo(g.createElement("div"));u.fragments={};return e};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){t.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(u.tmpl.tag.ko_code={open:"__.push($1 || '');"},u.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.xb.prototype=new a.P;var b=new a.xb;0<b.ed&&a.Fb(b);a.b("jqueryTmplTemplateEngine",a.xb)})()})})()})();(function(a){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?a(require("knockout"),exports):"function"===typeof define&&define.amd?define(["knockout","exports"],a):a(ko,ko.mapping={})})(function(c,g){function U(h,j){var f,p;for(p in j){if(j.hasOwnProperty(p)&&j[p]){if(f=g.getType(h[p]),p&&h[p]&&"array"!==f&&"string"!==f){U(h[p],j[p])}else{if("array"===g.getType(h[p])&&"array"===g.getType(j[p])){f=h;for(var x=p,z=h[p],B=j[p],C={},y=z.length-1;0<=y;--y){C[z[y]]=z[y]}for(y=B.length-1;0<=y;--y){C[B[y]]=B[y]}z=[];B=void 0;for(B in C){z.push(C[B])}f[x]=z}else{h[p]=j[p]}}}}}function d(f,h){var e={};U(e,f);U(e,h);return e}function V(j,p){for(var h=d({},j),x=r.length-1;0<=x;x--){var y=r[x];h[y]&&(h[""] instanceof Object||(h[""]={}),h[""][y]=h[y],delete h[y])}p&&(h.ignore=l(p.ignore,h.ignore),h.include=l(p.include,h.include),h.copy=l(p.copy,h.copy),h.observe=l(p.observe,h.observe));h.ignore=l(h.ignore,o.ignore);h.include=l(h.include,o.include);h.copy=l(h.copy,o.copy);h.observe=l(h.observe,o.observe);h.mappedProperties=h.mappedProperties||{};h.copiedProperties=h.copiedProperties||{};return h}function l(e,f){"array"!==g.getType(e)&&(e="undefined"===g.getType(e)?[]:[e]);"array"!==g.getType(f)&&(f="undefined"===g.getType(f)?[]:[f]);return c.utils.arrayGetDistinctValues(e.concat(f))}function i(p,E,e,F,N,O,Q){var W="array"===g.getType(c.utils.unwrapObservable(E));O=O||"";if(g.isMapped(p)){var H=c.utils.unwrapObservable(p)[u];e=d(H,e)}var K=Q||N,I=function(){return e[F]&&e[F].create instanceof Function},aa=function(h){var j=k,x=c.dependentObservable;c.dependentObservable=function(y,z,B){B=B||{};y&&"object"==typeof y&&(B=y);var ad=B.deferEvaluation,af=!1;B.deferEvaluation=!0;y=new m(y,z,B);if(!ad){var ae=y,ad=c.dependentObservable;c.dependentObservable=m;y=c.isWriteableObservable(ae);c.dependentObservable=ad;ad=m({read:function(){af||(c.utils.arrayRemoveItem(j,ae),af=!0);return ae.apply(ae,arguments)},write:y&&function(ag){return ae(ag)},deferEvaluation:!0});ad.__DO=ae;y=ad;j.push(y)}return y};c.dependentObservable.fn=m.fn;c.computed=c.dependentObservable;h=c.utils.unwrapObservable(N) instanceof Array?e[F].create({data:h||E,parent:K,skip:s}):e[F].create({data:h||E,parent:K});c.dependentObservable=x;c.computed=c.dependentObservable;return h},X=function(){return e[F]&&e[F].update instanceof Function},Y=function(h,j){var x={data:j||E,parent:K,target:c.utils.unwrapObservable(h)};c.isWriteableObservable(h)&&(x.observable=h);return e[F].update(x)};if(Q=n.get(E)){return Q}F=F||"";if(W){var W=[],T=!1,P=function(h){return h};e[F]&&e[F].key&&(P=e[F].key,T=!0);c.isObservable(p)||(p=c.observableArray([]),p.mappedRemove=function(h){var j="function"==typeof h?h:function(x){return x===P(h)};return p.remove(function(x){return j(P(x))})},p.mappedRemoveAll=function(h){var j=b(h,P);return p.remove(function(x){return -1!=c.utils.arrayIndexOf(j,P(x))})},p.mappedDestroy=function(h){var j="function"==typeof h?h:function(x){return x===P(h)};return p.destroy(function(x){return j(P(x))})},p.mappedDestroyAll=function(h){var j=b(h,P);return p.destroy(function(x){return -1!=c.utils.arrayIndexOf(j,P(x))})},p.mappedIndexOf=function(h){var j=b(p(),P);h=P(h);return c.utils.arrayIndexOf(j,h)},p.mappedGet=function(h){return p()[p.mappedIndexOf(h)]},p.mappedCreate=function(h){if(-1!==p.mappedIndexOf(h)){throw Error("There already is an object with the key that you specified.")}var j=I()?aa(h):h;X()&&(h=Y(j,h),c.isWriteableObservable(j)?j(h):j=h);p.push(j);return j});Q=b(c.utils.unwrapObservable(p),P).sort();H=b(E,P);T&&H.sort();T=c.utils.compareArrays(Q,H);Q={};var L,f=c.utils.unwrapObservable(E),ab={},ac=!0,H=0;for(L=f.length;H<L;H++){var S=P(f[H]);if(void 0===S||S instanceof Object){ac=!1;break}ab[S]=f[H]}var f=[],C=0,H=0;for(L=T.length;H<L;H++){var S=T[H],R,Z=O+"["+H+"]";switch(S.status){case"added":var G=ac?ab[S.value]:q(c.utils.unwrapObservable(E),S.value,P);R=i(void 0,G,e,F,p,Z,N);I()||(R=c.utils.unwrapObservable(R));Z=t(c.utils.unwrapObservable(E),G,Q);R===s?C++:f[Z-C]=R;Q[Z]=!0;break;case"retained":G=ac?ab[S.value]:q(c.utils.unwrapObservable(E),S.value,P);R=q(p,S.value,P);i(R,G,e,F,p,Z,N);Z=t(c.utils.unwrapObservable(E),G,Q);f[Z]=R;Q[Z]=!0;break;case"deleted":R=q(p,S.value,P)}W.push({event:S.status,item:R})}p(f);e[F]&&e[F].arrayChanged&&c.utils.arrayForEach(W,function(h){e[F].arrayChanged(h.event,h.item)})}else{if(v(E)){p=c.utils.unwrapObservable(p);if(!p){if(I()){return T=aa(),X()&&(T=Y(T)),T}if(X()){return Y(T)}p={}}X()&&(p=Y(p));n.save(E,p);if(X()){return p}w(E,function(h){var j=O.length?O+"."+h:h;if(-1==c.utils.arrayIndexOf(e.ignore,j)){if(-1!=c.utils.arrayIndexOf(e.copy,j)){p[h]=E[h]}else{if("object"!=typeof E[h]&&"array"!=typeof E[h]&&0<e.observe.length&&-1==c.utils.arrayIndexOf(e.observe,j)){p[h]=E[h],e.copiedProperties[j]=!0}else{var x=n.get(E[h]),y=i(p[h],E[h],e,h,p,j,p),x=x||y;if(0<e.observe.length&&-1==c.utils.arrayIndexOf(e.observe,j)){p[h]=x(),e.copiedProperties[j]=!0}else{if(c.isWriteableObservable(p[h])){if(x=c.utils.unwrapObservable(x),p[h]()!==x){p[h](x)}}else{x=void 0===p[h]?x:c.utils.unwrapObservable(x),p[h]=x}e.mappedProperties[j]=!0}}}}})}else{switch(g.getType(E)){case"function":X()?c.isWriteableObservable(E)?(E(Y(E)),p=E):p=Y(E):p=E;break;default:if(c.isWriteableObservable(p)){return R=X()?Y(p):c.utils.unwrapObservable(E),p(R),R}I()||X();p=I()?aa():c.observable(c.utils.unwrapObservable(E));X()&&p(Y(p))}}}return p}function t(h,j,f){for(var p=0,x=h.length;p<x;p++){if(!0!==f[p]&&h[p]===j){return p}}return null}function A(f,h){var e;h&&(e=h(f));"undefined"===g.getType(e)&&(e=f);return c.utils.unwrapObservable(e)}function q(h,j,e){h=c.utils.unwrapObservable(h);for(var p=0,x=h.length;p<x;p++){var y=h[p];if(A(y,e)===j){return y}}throw Error("When calling ko.update*, the key '"+j+"' was not found!")}function b(e,f){return c.utils.arrayMap(c.utils.unwrapObservable(e),function(h){return f?A(h,f):h})}function w(f,h){if("array"===g.getType(f)){for(var e=0;e<f.length;e++){h(e)}}else{for(e in f){h(e)}}}function v(e){var f=g.getType(e);return("object"===f||"array"===f)&&null!==e}function J(){var e=[],f=[];this.save=function(h,j){var p=c.utils.arrayIndexOf(e,h);0<=p?f[p]=j:(e.push(h),f.push(j))};this.get=function(h){h=c.utils.arrayIndexOf(e,h);return 0<=h?f[h]:void 0}}function D(){var e={},f=function(h){var j;try{j=h}catch(p){j="$$$"}h=e[j];void 0===h&&(h=new J,e[j]=h);return h};this.save=function(h,j){f(h).save(h,j)};this.get=function(h){return f(h).get(h)}}var u="__ko_mapping__",m=c.dependentObservable,a=0,k,n,r=["create","update","key","arrayChanged"],s={},M={include:["_destroy"],ignore:[],copy:[],observe:[]},o=M;g.isMapped=function(e){return(e=c.utils.unwrapObservable(e))&&e[u]};g.fromJS=function(j){if(0==arguments.length){throw Error("When calling ko.fromJS, pass the object you want to convert.")}try{a++||(k=[],n=new D);var p,h;2==arguments.length&&(arguments[1][u]?h=arguments[1]:p=arguments[1]);3==arguments.length&&(p=arguments[1],h=arguments[2]);h&&(p=d(p,h[u]));p=V(p);var x=i(h,j,p);h&&(x=h);if(!--a){for(;k.length;){var y=k.pop();y&&(y(),y.__DO.throttleEvaluation=y.throttleEvaluation)}}x[u]=d(x[u],p);return x}catch(z){throw a=0,z}};g.fromJSON=function(e){var f=c.utils.parseJson(e);arguments[0]=f;return g.fromJS.apply(this,arguments)};g.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")};g.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")};g.toJS=function(e,f){o||g.resetDefaultOptions();if(0==arguments.length){throw Error("When calling ko.mapping.toJS, pass the object you want to convert.")}if("array"!==g.getType(o.ignore)){throw Error("ko.mapping.defaultOptions().ignore should be an array.")}if("array"!==g.getType(o.include)){throw Error("ko.mapping.defaultOptions().include should be an array.")}if("array"!==g.getType(o.copy)){throw Error("ko.mapping.defaultOptions().copy should be an array.")}f=V(f,e[u]);return g.visitModel(e,function(h){return c.utils.unwrapObservable(h)},f)};g.toJSON=function(f,h){var e=g.toJS(f,h);return c.utils.stringifyJson(e)};g.defaultOptions=function(){if(0<arguments.length){o=arguments[0]}else{return o}};g.resetDefaultOptions=function(){o={include:M.include.slice(0),ignore:M.ignore.slice(0),copy:M.copy.slice(0)}};g.getType=function(e){if(e&&"object"===typeof e){if(e.constructor===Date){return"date"}if(e.constructor===Array){return"array"}}return typeof e};g.visitModel=function(f,h,e){e=e||{};e.visitedObjects=e.visitedObjects||new D;var j,p=c.utils.unwrapObservable(f);if(v(p)){e=V(e,p[u]),h(f,e.parentName),j="array"===g.getType(p)?[]:{}}else{return h(f,e.parentName)}e.visitedObjects.save(f,j);var x=e.parentName;w(p,function(y){if(!(e.ignore&&-1!=c.utils.arrayIndexOf(e.ignore,y))){var C=p[y],z=e,B=x||"";"array"===g.getType(p)?x&&(B+="["+y+"]"):(x&&(B+="."),B+=y);z.parentName=B;if(!(-1===c.utils.arrayIndexOf(e.copy,y)&&-1===c.utils.arrayIndexOf(e.include,y)&&p[u]&&p[u].mappedProperties&&!p[u].mappedProperties[y]&&p[u].copiedProperties&&!p[u].copiedProperties[y]&&"array"!==g.getType(p))){switch(g.getType(c.utils.unwrapObservable(C))){case"object":case"array":case"undefined":z=e.visitedObjects.get(C);j[y]="undefined"!==g.getType(z)?z:g.visitModel(C,h,e);break;default:j[y]=h(C,e.parentName)}}}});return j}});(function(a){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?a(require("knockout"),exports):"function"===typeof define&&define.amd?define(["knockout","exports"],a):a(ko,ko.mapping={})})(function(c,g){function U(h,j){var f,p;for(p in j){if(j.hasOwnProperty(p)&&j[p]){if(f=g.getType(h[p]),p&&h[p]&&"array"!==f&&"string"!==f){U(h[p],j[p])}else{if("array"===g.getType(h[p])&&"array"===g.getType(j[p])){f=h;for(var x=p,z=h[p],B=j[p],C={},y=z.length-1;0<=y;--y){C[z[y]]=z[y]}for(y=B.length-1;0<=y;--y){C[B[y]]=B[y]}z=[];B=void 0;for(B in C){z.push(C[B])}f[x]=z}else{h[p]=j[p]}}}}}function d(f,h){var e={};U(e,f);U(e,h);return e}function V(j,p){for(var h=d({},j),x=r.length-1;0<=x;x--){var y=r[x];h[y]&&(h[""] instanceof Object||(h[""]={}),h[""][y]=h[y],delete h[y])}p&&(h.ignore=l(p.ignore,h.ignore),h.include=l(p.include,h.include),h.copy=l(p.copy,h.copy),h.observe=l(p.observe,h.observe));h.ignore=l(h.ignore,o.ignore);h.include=l(h.include,o.include);h.copy=l(h.copy,o.copy);h.observe=l(h.observe,o.observe);h.mappedProperties=h.mappedProperties||{};h.copiedProperties=h.copiedProperties||{};return h}function l(e,f){"array"!==g.getType(e)&&(e="undefined"===g.getType(e)?[]:[e]);"array"!==g.getType(f)&&(f="undefined"===g.getType(f)?[]:[f]);return c.utils.arrayGetDistinctValues(e.concat(f))}function i(p,E,e,F,N,O,Q){var W="array"===g.getType(c.utils.unwrapObservable(E));O=O||"";if(g.isMapped(p)){var H=c.utils.unwrapObservable(p)[u];e=d(H,e)}var K=Q||N,I=function(){return e[F]&&e[F].create instanceof Function},aa=function(h){var j=k,x=c.dependentObservable;c.dependentObservable=function(y,z,B){B=B||{};y&&"object"==typeof y&&(B=y);var ad=B.deferEvaluation,af=!1;B.deferEvaluation=!0;y=new m(y,z,B);if(!ad){var ae=y,ad=c.dependentObservable;c.dependentObservable=m;y=c.isWriteableObservable(ae);c.dependentObservable=ad;ad=m({read:function(){af||(c.utils.arrayRemoveItem(j,ae),af=!0);return ae.apply(ae,arguments)},write:y&&function(ag){return ae(ag)},deferEvaluation:!0});ad.__DO=ae;y=ad;j.push(y)}return y};c.dependentObservable.fn=m.fn;c.computed=c.dependentObservable;h=c.utils.unwrapObservable(N) instanceof Array?e[F].create({data:h||E,parent:K,skip:s}):e[F].create({data:h||E,parent:K});c.dependentObservable=x;c.computed=c.dependentObservable;return h},X=function(){return e[F]&&e[F].update instanceof Function},Y=function(h,j){var x={data:j||E,parent:K,target:c.utils.unwrapObservable(h)};c.isWriteableObservable(h)&&(x.observable=h);return e[F].update(x)};if(Q=n.get(E)){return Q}F=F||"";if(W){var W=[],T=!1,P=function(h){return h};e[F]&&e[F].key&&(P=e[F].key,T=!0);c.isObservable(p)||(p=c.observableArray([]),p.mappedRemove=function(h){var j="function"==typeof h?h:function(x){return x===P(h)};return p.remove(function(x){return j(P(x))})},p.mappedRemoveAll=function(h){var j=b(h,P);return p.remove(function(x){return -1!=c.utils.arrayIndexOf(j,P(x))})},p.mappedDestroy=function(h){var j="function"==typeof h?h:function(x){return x===P(h)};return p.destroy(function(x){return j(P(x))})},p.mappedDestroyAll=function(h){var j=b(h,P);return p.destroy(function(x){return -1!=c.utils.arrayIndexOf(j,P(x))})},p.mappedIndexOf=function(h){var j=b(p(),P);h=P(h);return c.utils.arrayIndexOf(j,h)},p.mappedGet=function(h){return p()[p.mappedIndexOf(h)]},p.mappedCreate=function(h){if(-1!==p.mappedIndexOf(h)){throw Error("There already is an object with the key that you specified.")}var j=I()?aa(h):h;X()&&(h=Y(j,h),c.isWriteableObservable(j)?j(h):j=h);p.push(j);return j});Q=b(c.utils.unwrapObservable(p),P).sort();H=b(E,P);T&&H.sort();T=c.utils.compareArrays(Q,H);Q={};var L,f=c.utils.unwrapObservable(E),ab={},ac=!0,H=0;for(L=f.length;H<L;H++){var S=P(f[H]);if(void 0===S||S instanceof Object){ac=!1;break}ab[S]=f[H]}var f=[],C=0,H=0;for(L=T.length;H<L;H++){var S=T[H],R,Z=O+"["+H+"]";switch(S.status){case"added":var G=ac?ab[S.value]:q(c.utils.unwrapObservable(E),S.value,P);R=i(void 0,G,e,F,p,Z,N);I()||(R=c.utils.unwrapObservable(R));Z=t(c.utils.unwrapObservable(E),G,Q);R===s?C++:f[Z-C]=R;Q[Z]=!0;break;case"retained":G=ac?ab[S.value]:q(c.utils.unwrapObservable(E),S.value,P);R=q(p,S.value,P);i(R,G,e,F,p,Z,N);Z=t(c.utils.unwrapObservable(E),G,Q);f[Z]=R;Q[Z]=!0;break;case"deleted":R=q(p,S.value,P)}W.push({event:S.status,item:R})}p(f);e[F]&&e[F].arrayChanged&&c.utils.arrayForEach(W,function(h){e[F].arrayChanged(h.event,h.item)})}else{if(v(E)){p=c.utils.unwrapObservable(p);if(!p){if(I()){return T=aa(),X()&&(T=Y(T)),T}if(X()){return Y(T)}p={}}X()&&(p=Y(p));n.save(E,p);if(X()){return p}w(E,function(h){var j=O.length?O+"."+h:h;if(-1==c.utils.arrayIndexOf(e.ignore,j)){if(-1!=c.utils.arrayIndexOf(e.copy,j)){p[h]=E[h]}else{if("object"!=typeof E[h]&&"array"!=typeof E[h]&&0<e.observe.length&&-1==c.utils.arrayIndexOf(e.observe,j)){p[h]=E[h],e.copiedProperties[j]=!0}else{var x=n.get(E[h]),y=i(p[h],E[h],e,h,p,j,p),x=x||y;if(0<e.observe.length&&-1==c.utils.arrayIndexOf(e.observe,j)){p[h]=x(),e.copiedProperties[j]=!0}else{if(c.isWriteableObservable(p[h])){if(x=c.utils.unwrapObservable(x),p[h]()!==x){p[h](x)}}else{x=void 0===p[h]?x:c.utils.unwrapObservable(x),p[h]=x}e.mappedProperties[j]=!0}}}}})}else{switch(g.getType(E)){case"function":X()?c.isWriteableObservable(E)?(E(Y(E)),p=E):p=Y(E):p=E;break;default:if(c.isWriteableObservable(p)){return R=X()?Y(p):c.utils.unwrapObservable(E),p(R),R}I()||X();p=I()?aa():c.observable(c.utils.unwrapObservable(E));X()&&p(Y(p))}}}return p}function t(h,j,f){for(var p=0,x=h.length;p<x;p++){if(!0!==f[p]&&h[p]===j){return p}}return null}function A(f,h){var e;h&&(e=h(f));"undefined"===g.getType(e)&&(e=f);return c.utils.unwrapObservable(e)}function q(h,j,e){h=c.utils.unwrapObservable(h);for(var p=0,x=h.length;p<x;p++){var y=h[p];if(A(y,e)===j){return y}}throw Error("When calling ko.update*, the key '"+j+"' was not found!")}function b(e,f){return c.utils.arrayMap(c.utils.unwrapObservable(e),function(h){return f?A(h,f):h})}function w(f,h){if("array"===g.getType(f)){for(var e=0;e<f.length;e++){h(e)}}else{for(e in f){h(e)}}}function v(e){var f=g.getType(e);return("object"===f||"array"===f)&&null!==e}function J(){var e=[],f=[];this.save=function(h,j){var p=c.utils.arrayIndexOf(e,h);0<=p?f[p]=j:(e.push(h),f.push(j))};this.get=function(h){h=c.utils.arrayIndexOf(e,h);return 0<=h?f[h]:void 0}}function D(){var e={},f=function(h){var j;try{j=h}catch(p){j="$$$"}h=e[j];void 0===h&&(h=new J,e[j]=h);return h};this.save=function(h,j){f(h).save(h,j)};this.get=function(h){return f(h).get(h)}}var u="__ko_mapping__",m=c.dependentObservable,a=0,k,n,r=["create","update","key","arrayChanged"],s={},M={include:["_destroy"],ignore:[],copy:[],observe:[]},o=M;g.isMapped=function(e){return(e=c.utils.unwrapObservable(e))&&e[u]};g.fromJS=function(j){if(0==arguments.length){throw Error("When calling ko.fromJS, pass the object you want to convert.")}try{a++||(k=[],n=new D);var p,h;2==arguments.length&&(arguments[1][u]?h=arguments[1]:p=arguments[1]);3==arguments.length&&(p=arguments[1],h=arguments[2]);h&&(p=d(p,h[u]));p=V(p);var x=i(h,j,p);h&&(x=h);if(!--a){for(;k.length;){var y=k.pop();y&&(y(),y.__DO.throttleEvaluation=y.throttleEvaluation)}}x[u]=d(x[u],p);return x}catch(z){throw a=0,z}};g.fromJSON=function(e){var f=c.utils.parseJson(e);arguments[0]=f;return g.fromJS.apply(this,arguments)};g.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")};g.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")};g.toJS=function(e,f){o||g.resetDefaultOptions();if(0==arguments.length){throw Error("When calling ko.mapping.toJS, pass the object you want to convert.")}if("array"!==g.getType(o.ignore)){throw Error("ko.mapping.defaultOptions().ignore should be an array.")}if("array"!==g.getType(o.include)){throw Error("ko.mapping.defaultOptions().include should be an array.")}if("array"!==g.getType(o.copy)){throw Error("ko.mapping.defaultOptions().copy should be an array.")}f=V(f,e[u]);return g.visitModel(e,function(h){return c.utils.unwrapObservable(h)},f)};g.toJSON=function(f,h){var e=g.toJS(f,h);return c.utils.stringifyJson(e)};g.defaultOptions=function(){if(0<arguments.length){o=arguments[0]}else{return o}};g.resetDefaultOptions=function(){o={include:M.include.slice(0),ignore:M.ignore.slice(0),copy:M.copy.slice(0)}};g.getType=function(e){if(e&&"object"===typeof e){if(e.constructor===Date){return"date"}if(e.constructor===Array){return"array"}}return typeof e};g.visitModel=function(f,h,e){e=e||{};e.visitedObjects=e.visitedObjects||new D;var j,p=c.utils.unwrapObservable(f);if(v(p)){e=V(e,p[u]),h(f,e.parentName),j="array"===g.getType(p)?[]:{}}else{return h(f,e.parentName)}e.visitedObjects.save(f,j);var x=e.parentName;w(p,function(y){if(!(e.ignore&&-1!=c.utils.arrayIndexOf(e.ignore,y))){var C=p[y],z=e,B=x||"";"array"===g.getType(p)?x&&(B+="["+y+"]"):(x&&(B+="."),B+=y);z.parentName=B;if(!(-1===c.utils.arrayIndexOf(e.copy,y)&&-1===c.utils.arrayIndexOf(e.include,y)&&p[u]&&p[u].mappedProperties&&!p[u].mappedProperties[y]&&p[u].copiedProperties&&!p[u].copiedProperties[y]&&"array"!==g.getType(p))){switch(g.getType(c.utils.unwrapObservable(C))){case"object":case"array":case"undefined":z=e.visitedObjects.get(C);j[y]="undefined"!==g.getType(z)?z:g.visitModel(C,h,e);break;default:j[y]=h(C,e.parentName)}}}});return j}});(function(){var ag=this,aq=ag._,am={},Q=Array.prototype,at=Object.prototype,Z=Function.prototype,C=Q.push,ai=Q.slice,K=Q.concat,ad=at.toString,V=at.hasOwnProperty,ao=Q.forEach,ak=Q.map,Y=Q.reduce,au=Q.reduceRight,L=Q.filter,X=Q.every,ae=Q.some,ax=Q.indexOf,H=Q.lastIndexOf,aw=Array.isArray,z=Object.keys,ab=Z.bind,av=function(a){return a instanceof av?a:this instanceof av?(this._wrapped=a,void 0):new av(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=av),exports._=av):ag._=av,av.VERSION="1.4.4";var G=av.each=av.forEach=function(f,g,c){if(null!=f){if(ao&&f.forEach===ao){f.forEach(g,c)}else{if(f.length===+f.length){for(var h=0,d=f.length;d>h;h++){if(g.call(c,f[h],h,f)===am){return}}}else{for(var b in f){if(av.has(f,b)&&g.call(c,f[b],b,f)===am){return}}}}}};av.map=av.collect=function(b,d,c){var a=[];return null==b?a:ak&&b.map===ak?b.map(d,c):(G(b,function(f,g,e){a[a.length]=d.call(c,f,g,e)}),a)};var aj="Reduce of empty array with no initial value";av.reduce=av.foldl=av.inject=function(b,d,c,a){var f=arguments.length>2;if(null==b&&(b=[]),Y&&b.reduce===Y){return a&&(d=av.bind(d,a)),f?b.reduce(d,c):b.reduce(d)}if(G(b,function(h,g,e){f?c=d.call(a,c,h,g,e):(c=h,f=!0)}),!f){throw new TypeError(aj)}return c},av.reduceRight=av.foldr=function(f,h,g,c){var j=arguments.length>2;if(null==f&&(f=[]),au&&f.reduceRight===au){return c&&(h=av.bind(h,c)),j?f.reduceRight(h,g):f.reduceRight(h)}var d=f.length;if(d!==+d){var b=av.keys(f);d=b.length}if(G(f,function(i,a,e){a=b?b[--d]:--d,j?g=h.call(c,g,f[a],a,e):(g=f[a],j=!0)}),!j){throw new TypeError(aj)}return g},av.find=av.detect=function(b,d,c){var a;return U(b,function(f,g,e){return d.call(c,f,g,e)?(a=f,!0):void 0}),a},av.filter=av.select=function(b,d,c){var a=[];return null==b?a:L&&b.filter===L?b.filter(d,c):(G(b,function(f,g,e){d.call(c,f,g,e)&&(a[a.length]=f)}),a)},av.reject=function(a,c,b){return av.filter(a,function(f,d,g){return !c.call(b,f,d,g)},b)},av.every=av.all=function(b,c,a){c||(c=av.identity);var d=!0;return null==b?d:X&&b.every===X?b.every(c,a):(G(b,function(g,f,e){return(d=d&&c.call(a,g,f,e))?void 0:am}),!!d)};var U=av.some=av.any=function(b,c,a){c||(c=av.identity);var d=!1;return null==b?d:ae&&b.some===ae?b.some(c,a):(G(b,function(g,f,e){return d||(d=c.call(a,g,f,e))?am:void 0}),!!d)};av.contains=av.include=function(a,b){return null==a?!1:ax&&a.indexOf===ax?a.indexOf(b)!=-1:U(a,function(c){return c===b})},av.invoke=function(b,d){var c=ai.call(arguments,2),a=av.isFunction(d);return av.map(b,function(e){return(a?d:e[d]).apply(e,c)})},av.pluck=function(a,b){return av.map(a,function(c){return c[b]})},av.where=function(a,c,b){return av.isEmpty(c)?b?null:[]:av[b?"find":"filter"](a,function(d){for(var e in c){if(c[e]!==d[e]){return !1}}return !0})},av.findWhere=function(a,b){return av.where(a,b,!0)},av.max=function(b,d,c){if(!d&&av.isArray(b)&&b[0]===+b[0]&&65535>b.length){return Math.max.apply(Math,b)}if(!d&&av.isEmpty(b)){return -1/0}var a={computed:-1/0,value:-1/0};return G(b,function(g,h,f){var e=d?d.call(c,g,h,f):g;e>=a.computed&&(a={value:g,computed:e})}),a.value},av.min=function(b,d,c){if(!d&&av.isArray(b)&&b[0]===+b[0]&&65535>b.length){return Math.min.apply(Math,b)}if(!d&&av.isEmpty(b)){return 1/0}var a={computed:1/0,value:1/0};return G(b,function(g,h,f){var e=d?d.call(c,g,h,f):g;a.computed>e&&(a={value:g,computed:e})}),a.value},av.shuffle=function(b){var d,c=0,a=[];return G(b,function(e){d=av.random(c++),a[c-1]=a[d],a[d]=e}),a};var ac=function(a){return av.isFunction(a)?a:function(b){return b[a]}};av.sortBy=function(b,d,c){var a=ac(d);return av.pluck(av.map(b,function(e,f,g){return{value:e,index:f,criteria:a.call(c,e,f,g)}}).sort(function(g,i){var h=g.criteria,f=i.criteria;if(h!==f){if(h>f||h===void 0){return 1}if(f>h||f===void 0){return -1}}return g.index<i.index?-1:1}),"value")};var W=function(c,f,d,a){var g={},b=ac(f||av.identity);return G(c,function(i,e){var h=b.call(d,i,e,c);a(g,h,i)}),g};av.groupBy=function(a,c,b){return W(a,c,b,function(d,f,e){(av.has(d,f)?d[f]:d[f]=[]).push(e)})},av.countBy=function(a,c,b){return W(a,c,b,function(d,e){av.has(d,e)||(d[e]=0),d[e]++})},av.sortedIndex=function(f,j,h,c){h=null==h?av.identity:ac(h);for(var k=h.call(c,j),d=0,b=f.length;b>d;){var g=d+b>>>1;k>h.call(c,f[g])?d=g+1:b=g}return d},av.toArray=function(a){return a?av.isArray(a)?ai.call(a):a.length===+a.length?av.map(a,av.identity):av.values(a):[]},av.size=function(a){return null==a?0:a.length===+a.length?a.length:av.keys(a).length},av.first=av.head=av.take=function(a,c,b){return null==a?void 0:null==c||b?a[0]:ai.call(a,0,c)},av.initial=function(a,c,b){return ai.call(a,0,a.length-(null==c||b?1:c))},av.last=function(a,c,b){return null==a?void 0:null==c||b?a[a.length-1]:ai.call(a,Math.max(a.length-c,0))},av.rest=av.tail=av.drop=function(a,c,b){return ai.call(a,null==c||b?1:c)},av.compact=function(a){return av.filter(a,av.identity)};var an=function(a,c,b){return G(a,function(d){av.isArray(d)?c?C.apply(b,d):an(d,c,b):b.push(d)}),b};av.flatten=function(a,b){return an(a,b,[])},av.without=function(a){return av.difference(a,ai.call(arguments,1))},av.uniq=av.unique=function(f,h,g,c){av.isFunction(h)&&(c=g,g=h,h=!1);var j=g?av.map(f,g,c):f,d=[],b=[];return G(j,function(i,a){(h?a&&b[b.length-1]===i:av.contains(b,i))||(b.push(i),d.push(f[a]))}),d},av.union=function(){return av.uniq(K.apply(Q,arguments))},av.intersection=function(a){var b=ai.call(arguments,1);return av.filter(av.uniq(a),function(c){return av.every(b,function(d){return av.indexOf(d,c)>=0})})},av.difference=function(a){var b=K.apply(Q,ai.call(arguments,1));return av.filter(a,function(c){return !av.contains(b,c)})},av.zip=function(){for(var b=ai.call(arguments),d=av.max(av.pluck(b,"length")),c=Array(d),a=0;d>a;a++){c[a]=av.pluck(b,""+a)}return c},av.object=function(b,d){if(null==b){return{}}for(var c={},a=0,f=b.length;f>a;a++){d?c[b[a]]=d[a]:c[b[a][0]]=b[a][1]}return c},av.indexOf=function(b,d,c){if(null==b){return -1}var a=0,f=b.length;if(c){if("number"!=typeof c){return a=av.sortedIndex(b,d),b[a]===d?a:-1}a=0>c?Math.max(0,f+c):c}if(ax&&b.indexOf===ax){return b.indexOf(d,c)}for(;f>a;a++){if(b[a]===d){return a}}return -1},av.lastIndexOf=function(b,d,c){if(null==b){return -1}var a=null!=c;if(H&&b.lastIndexOf===H){return a?b.lastIndexOf(d,c):b.lastIndexOf(d)}for(var f=a?c:b.length;f--;){if(b[f]===d){return f}}return -1},av.range=function(c,f,d){1>=arguments.length&&(f=c||0,c=0),d=arguments[2]||1;for(var a=Math.max(Math.ceil((f-c)/d),0),g=0,b=Array(a);a>g;){b[g++]=c,c+=d}return b},av.bind=function(a,c){if(a.bind===ab&&ab){return ab.apply(a,ai.call(arguments,1))}var b=ai.call(arguments,2);return function(){return a.apply(c,b.concat(ai.call(arguments)))}},av.partial=function(a){var b=ai.call(arguments,1);return function(){return a.apply(this,b.concat(ai.call(arguments)))}},av.bindAll=function(a){var b=ai.call(arguments,1);return 0===b.length&&(b=av.functions(a)),G(b,function(c){a[c]=av.bind(a[c],a)}),a},av.memoize=function(a,c){var b={};return c||(c=av.identity),function(){var d=c.apply(this,arguments);return av.has(b,d)?b[d]:b[d]=a.apply(this,arguments)}},av.delay=function(a,c){var b=ai.call(arguments,2);return setTimeout(function(){return a.apply(null,b)},c)},av.defer=function(a){return av.delay.apply(av,[a,1].concat(ai.call(arguments,1)))},av.throttle=function(f,j){var h,c,k,d,b=0,g=function(){b=new Date,k=null,d=f.apply(h,c)};return function(){var a=new Date,e=j-(a-b);return h=this,c=arguments,0>=e?(clearTimeout(k),k=null,b=a,d=f.apply(h,c)):k||(k=setTimeout(g,e)),d}},av.debounce=function(b,d,c){var a,f;return function(){var h=this,e=arguments,j=function(){a=null,c||(f=b.apply(h,e))},g=c&&!a;return clearTimeout(a),a=setTimeout(j,d),g&&(f=b.apply(h,e)),f}},av.once=function(a){var c,b=!1;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}},av.wrap=function(a,b){return function(){var c=[a];return C.apply(c,arguments),b.apply(this,c)}},av.compose=function(){var a=arguments;return function(){for(var c=arguments,b=a.length-1;b>=0;b--){c=[a[b].apply(this,c)]}return c[0]}},av.after=function(a,b){return 0>=a?b():function(){return 1>--a?b.apply(this,arguments):void 0}},av.keys=z||function(a){if(a!==Object(a)){throw new TypeError("Invalid object")}var c=[];for(var b in a){av.has(a,b)&&(c[c.length]=b)}return c},av.values=function(a){var c=[];for(var b in a){av.has(a,b)&&c.push(a[b])}return c},av.pairs=function(a){var c=[];for(var b in a){av.has(a,b)&&c.push([b,a[b]])}return c},av.invert=function(a){var c={};for(var b in a){av.has(a,b)&&(c[a[b]]=b)}return c},av.functions=av.methods=function(a){var c=[];for(var b in a){av.isFunction(a[b])&&c.push(b)}return c.sort()},av.extend=function(a){return G(ai.call(arguments,1),function(c){if(c){for(var b in c){a[b]=c[b]}}}),a},av.pick=function(a){var c={},b=K.apply(Q,ai.call(arguments,1));return G(b,function(d){d in a&&(c[d]=a[d])}),c},av.omit=function(a){var c={},b=K.apply(Q,ai.call(arguments,1));for(var d in a){av.contains(b,d)||(c[d]=a[d])}return c},av.defaults=function(a){return G(ai.call(arguments,1),function(c){if(c){for(var b in c){null==a[b]&&(a[b]=c[b])}}}),a},av.clone=function(a){return av.isObject(a)?av.isArray(a)?a.slice():av.extend({},a):a},av.tap=function(a,b){return b(a),a};var aa=function(k,q,m,g){if(k===q){return 0!==k||1/k==1/q}if(null==k||null==q){return k===q}k instanceof av&&(k=k._wrapped),q instanceof av&&(q=q._wrapped);var v=ad.call(k);if(v!=ad.call(q)){return !1}switch(v){case"[object String]":return k==q+"";case"[object Number]":return k!=+k?q!=+q:0==k?1/k==1/q:k==+q;case"[object Date]":case"[object Boolean]":return +k==+q;case"[object RegExp]":return k.source==q.source&&k.global==q.global&&k.multiline==q.multiline&&k.ignoreCase==q.ignoreCase}if("object"!=typeof k||"object"!=typeof q){return !1}for(var j=m.length;j--;){if(m[j]==k){return g[j]==q}}m.push(k),g.push(q);var b=0,l=!0;if("[object Array]"==v){if(b=k.length,l=b==q.length){for(;b--&&(l=aa(k[b],q[b],m,g));){}}}else{var d=k.constructor,h=q.constructor;if(d!==h&&!(av.isFunction(d)&&d instanceof d&&av.isFunction(h)&&h instanceof h)){return !1}for(var p in k){if(av.has(k,p)&&(b++,!(l=av.has(q,p)&&aa(k[p],q[p],m,g)))){break}}if(l){for(p in q){if(av.has(q,p)&&!b--){break}}l=!b}}return m.pop(),g.pop(),l};av.isEqual=function(a,b){return aa(a,b,[],[])},av.isEmpty=function(a){if(null==a){return !0}if(av.isArray(a)||av.isString(a)){return 0===a.length}for(var b in a){if(av.has(a,b)){return !1}}return !0},av.isElement=function(a){return !(!a||1!==a.nodeType)},av.isArray=aw||function(a){return"[object Array]"==ad.call(a)},av.isObject=function(a){return a===Object(a)},G(["Arguments","Function","String","Number","Date","RegExp"],function(a){av["is"+a]=function(b){return ad.call(b)=="[object "+a+"]"}}),av.isArguments(arguments)||(av.isArguments=function(a){return !(!a||!av.has(a,"callee"))}),"function"!=typeof/./&&(av.isFunction=function(a){return"function"==typeof a}),av.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},av.isNaN=function(a){return av.isNumber(a)&&a!=+a},av.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==ad.call(a)},av.isNull=function(a){return null===a},av.isUndefined=function(a){return a===void 0},av.has=function(a,b){return V.call(a,b)},av.noConflict=function(){return ag._=aq,this},av.identity=function(a){return a},av.times=function(b,d,c){for(var a=Array(b),f=0;b>f;f++){a[f]=d.call(c,f)}return a},av.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var af={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};af.unescape=av.invert(af.escape);var ap={escape:RegExp("["+av.keys(af.escape).join("")+"]","g"),unescape:RegExp("("+av.keys(af.unescape).join("|")+")","g")};av.each(["escape","unescape"],function(a){av[a]=function(b){return null==b?"":(""+b).replace(ap[a],function(c){return af[a][c]})}}),av.result=function(a,c){if(null==a){return null}var b=a[c];return av.isFunction(b)?b.call(a):b},av.mixin=function(a){G(av.functions(a),function(c){var b=av[c]=a[c];av.prototype[c]=function(){var d=[this._wrapped];return C.apply(d,arguments),P.call(this,b.apply(av,d))}})};var ah=0;av.uniqueId=function(a){var b=++ah+"";return a?a+b:b},av.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ar=/(.)^/,al={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},J=/\\|'|\r|\n|\t|\u2028|\u2029/g;av.template=function(h,l,k){var f;k=av.defaults({},k,av.templateSettings);var m=RegExp([(k.escape||ar).source,(k.interpolate||ar).source,(k.evaluate||ar).source].join("|")+"|$","g"),g=0,b="__p+='";h.replace(m,function(n,i,a,p,c){return b+=h.slice(g,c).replace(J,function(e){return"\\"+al[e]}),i&&(b+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),a&&(b+="'+\n((__t=("+a+"))==null?'':__t)+\n'"),p&&(b+="';\n"+p+"\n__p+='"),g=c+n.length,n}),b+="';\n",k.variable||(b="with(obj||{}){\n"+b+"}\n"),b="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+b+"return __p;\n";try{f=Function(k.variable||"obj","_",b)}catch(j){throw j.source=b,j}if(l){return f(l,av)}var d=function(a){return f.call(this,a,av)};return d.source="function("+(k.variable||"obj")+"){\n"+b+"}",d},av.chain=function(a){return av(a).chain()};var P=function(a){return this._chain?av(a).chain():a};av.mixin(av),G(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=Q[a];av.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],P.call(this,c)}}),G(["concat","join","slice"],function(a){var b=Q[a];av.prototype[a]=function(){return P.call(this,b.apply(this._wrapped,arguments))}}),av.extend(av.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);(function(C,E,G){function H(b){return"[object Function]"==S.call(b)}function I(b){return"string"==typeof b}function J(){}function K(b){return !b||"loaded"==b||"complete"==b||"uninitialized"==b}function L(){var b=T.shift();U=1,b?b.t?Q(function(){("c"==b.t?F.injectCss:F.injectJs)(b.s,0,b.a,b.x,b.e,1)},0):(b(),L()):U=0}function M(b,g,h,m,n,p,q){function s(a){if(!v&&K(t.readyState)&&(x.r=v=1,!U&&L(),t.onload=t.onreadystatechange=null,a)){"img"!=b&&Q(function(){X.removeChild(t)},50);for(var c in ac[g]){ac[g].hasOwnProperty(c)&&ac[g][c].onload()}}}var q=q||F.errorTimeout,t=E.createElement(b),v=0,w=0,x={t:h,s:g,e:n,a:p,x:q};1===ac[g]&&(w=1,ac[g]=[]),"object"==b?t.data=g:(t.src=g,t.type=b),t.width=t.height="0",t.onerror=t.onload=t.onreadystatechange=function(){s.call(this,w)},T.splice(m,0,x),"img"!=b&&(w||2===ac[g]?(X.insertBefore(t,W?null:R),Q(s,q)):ac[g].push(t))}function N(e,g,h,i,j){return U=0,g=g||"j",I(e)?M("c"==g?Z:Y,e,g,this.i++,h,i,j):(T.splice(this.i++,0,e),1==T.length&&L()),this}function O(){var b=F;return b.loader={load:N,i:0},b}var P=E.documentElement,Q=C.setTimeout,R=E.getElementsByTagName("script")[0],S={}.toString,T=[],U=0,V="MozAppearance" in P.style,W=V&&!!E.createRange().compareNode,X=W?P:R.parentNode,P=C.opera&&"[object Opera]"==S.call(C.opera),P=!!E.attachEvent&&!P,Y=V?"object":P?"script":"img",Z=P?"script":Y,aa=Array.isArray||function(b){return"[object Array]"==S.call(b)},ab=[],ac={},ad={timeout:function(c,d){return d.length&&(c.timeout=d[0]),c}},D,F;F=function(c){function d(h){var h=h.split("!"),i=ab.length,j=h.pop(),l=h.length,j={url:j,origUrl:j,prefixes:h},o,p,q;for(p=0;p<l;p++){q=h[p].split("="),(o=ad[q.shift()])&&(j=o(j,q))}for(p=0;p<i;p++){j=ab[p](j)}return j}function e(b,l,o,p,q){var r=d(b),s=r.autoCallback;r.url.split(".").pop().split("?").shift(),r.bypass||(l&&(l=H(l)?l:l[b]||l[p]||l[b.split("/").pop().split("?")[0]]),r.instead?r.instead(b,l,o,p,q):(ac[r.url]?r.noexec=!0:ac[r.url]=1,o.load(r.url,r.forceCSS||!r.forceJS&&"css"==r.url.split(".").pop().split("?").shift()?"c":G,r.noexec,r.attrs,r.timeout),(H(l)||H(s))&&o.load(function(){O(),l&&l(r.origUrl,q,p),s&&s(r.origUrl,q,p),ac[r.url]=2})))}function f(g,o){function p(b,h){if(b){if(I(b)){h||(s=function(){var i=[].slice.call(arguments);t.apply(this,i),u()}),e(b,s,o,0,q)}else{if(Object(b)===b){for(w in v=function(){var a=0,i;for(i in b){b.hasOwnProperty(i)&&a++}return a}(),b){b.hasOwnProperty(w)&&(!h&&!--v&&(H(s)?s=function(){var i=[].slice.call(arguments);t.apply(this,i),u()}:s[w]=function(i){return function(){var a=[].slice.call(arguments);i&&i.apply(this,a),u()}}(t[w])),e(b[w],s,o,w,q))}}}}else{!h&&u()}}var q=!!g.test,r=g.load||g.both,s=g.callback||J,t=s,u=g.complete||J,v,w;p(q?g.yep:g.nope,!!r),r&&p(r)}var k,m,n=this.yepnope.loader;if(I(c)){e(c,0,n,0)}else{if(aa(c)){for(k=0;k<c.length;k++){m=c[k],I(m)?e(m,0,n,0):aa(m)?F(m):Object(m)===m&&f(m,n)}}else{Object(c)===c&&f(c,n)}}},F.addPrefix=function(c,d){ad[c]=d},F.addFilter=function(b){ab.push(b)},F.errorTimeout=10000,null==E.readyState&&E.addEventListener&&(E.readyState="loading",E.addEventListener("DOMContentLoaded",D=function(){E.removeEventListener("DOMContentLoaded",D,0),E.readyState="complete"},0)),C.yepnope=O(),C.yepnope.executeStack=L,C.yepnope.injectJs=function(b,f,g,h,m,n){var p=E.createElement("script"),q,r,h=h||F.errorTimeout;p.src=b;for(r in g){p.setAttribute(r,g[r])}f=n?L:f||J,p.onreadystatechange=p.onload=function(){!q&&K(p.readyState)&&(q=1,f(),p.onload=p.onreadystatechange=null)},Q(function(){q||(q=1,f(1))},h),m?p.onload():R.parentNode.insertBefore(p,R)},C.yepnope.injectCss=function(b,f,h,k,l,m){var k=E.createElement("link"),n,f=m?L:f||J;k.href=b,k.rel="stylesheet",k.type="text/css";for(n in h){k.setAttribute(n,h[n])}l||(R.parentNode.insertBefore(k,R),Q(f,0))}})(this,document);/*
 * Amplify Store - Persistent Client-Side Storage 1.1.0
 * 
 * Copyright 2011 appendTo LLC. (http://appendto.com/team)
 * Dual licensed under the MIT or GPL licenses.
 * http://appendto.com/open-source-licenses
 * 
 * http://amplifyjs.com
 */
(function(a,g){var f=a.store=function(e,k,i,j){var j=f.type;if(i&&i.type&&i.type in f.types){j=i.type}return f.types[j](e,k,i||{})};f.types={};f.type=null;f.addType=function(i,e){if(!f.type){f.type=i}f.types[i]=e;f[i]=function(j,l,k){k=k||{};k.type=i;return f(j,l,k)}};f.error=function(){return"amplify.store quota exceeded"};var d=/^__amplify__/;function b(i,e){f.addType(i,function(l,s,n){var r,o,k,p,q=s,m=(new Date()).getTime();if(!l){q={};p=[];k=0;try{l=e.length;while(l=e.key(k++)){if(d.test(l)){o=JSON.parse(e.getItem(l));if(o.expires&&o.expires<=m){p.push(l)}else{q[l.replace(d,"")]=o.data}}}while(l=p.pop()){e.removeItem(l)}}catch(j){}return q}l="__amplify__"+l;if(s===g){r=e.getItem(l);o=r?JSON.parse(r):{expires:-1};if(o.expires&&o.expires<=m){e.removeItem(l)}else{return o.data}}else{if(s===null){e.removeItem(l)}else{o=JSON.stringify({data:s,expires:n.expires?m+n.expires:null});try{e.setItem(l,o)}catch(j){f[i]();try{e.setItem(l,o)}catch(j){throw f.error()}}}}return q})}for(var h in {localStorage:1,sessionStorage:1}){try{if(window[h].getItem){b(h,window[h])}}catch(c){}}if(window.globalStorage){try{b("globalStorage",window.globalStorage[window.location.hostname]);if(f.type==="sessionStorage"){f.type="globalStorage"}}catch(c){}}(function(){if(f.types.localStorage){return}var j=document.createElement("div"),i="amplify";j.style.display="none";document.getElementsByTagName("head")[0].appendChild(j);try{j.addBehavior("#default#userdata");j.load(i)}catch(k){j.parentNode.removeChild(j);return}f.addType("userData",function(n,u,p){j.load(i);var e,q,r,m,s,t=u,o=(new Date()).getTime();if(!n){t={};s=[];m=0;while(e=j.XMLDocument.documentElement.attributes[m++]){q=JSON.parse(e.value);if(q.expires&&q.expires<=o){s.push(e.name)}else{t[e.name]=q.data}}while(n=s.pop()){j.removeAttribute(n)}j.save(i);return t}n=n.replace(/[^-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u37f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-");if(u===g){e=j.getAttribute(n);q=e?JSON.parse(e):{expires:-1};if(q.expires&&q.expires<=o){j.removeAttribute(n)}else{return q.data}}else{if(u===null){j.removeAttribute(n)}else{r=j.getAttribute(n);q=JSON.stringify({data:u,expires:(p.expires?(o+p.expires):null)});j.setAttribute(n,q)}}try{j.save(i)}catch(l){if(r===null){j.removeAttribute(n)}else{j.setAttribute(n,r)}f.userData();try{j.setAttribute(n,q);j.save(i)}catch(l){if(r===null){j.removeAttribute(n)}else{j.setAttribute(n,r)}throw f.error()}}return t})}());(function(){var i={},j={};function e(k){return k===g?g:JSON.parse(JSON.stringify(k))}f.addType("memory",function(k,m,l){if(!k){return e(i)}if(m===g){return e(i[k])}if(j[k]){clearTimeout(j[k]);delete j[k]}if(m===null){delete i[k];return null}i[k]=m;if(l.expires){j[k]=setTimeout(function(){delete i[k];delete j[k]},l.expires)}return m})}())}(this.amplify=this.amplify||{}));(function(a){if(typeof define==="function"&&define.amd){define(["knockout","jquery","jquery-ui/autocomplete"],a)}else{a(window.ko,jQuery)}})(function(c,a){var b=function(){var d=this,e=c.utils.unwrapObservable;this.init=function(j,o,f,i,h){var l,k,n=e(o()),g={},m=typeof n.filter==="function"?n.filter:d.defaultFilter;c.utils.extend(g,d.options);c.utils.extend(g,n.options);if(typeof n.source==="function"&&!c.isObservable(n.source)){g.source=function(r,s){var q=function(t){d.processOptions(o,null,t,r,s)};n.source.call(h.$data,r.term,q)}}else{g.source=d.processOptions.bind(d,o,m,n.source)}l=typeof g.select==="function"&&g.select;k=typeof g.change==="function"&&g.change;g.select=function(q,r){if(r.item&&r.item.actual){n.value(r.item.actual);if(c.isWriteableObservable(n.dataValue)){n.dataValue(r.item.data)}}if(l){l.apply(this,arguments)}};g.change=function(q,r){if(!r.item||!r.item.actual){n.value(q.target&&q.target.value);if(c.isWriteableObservable(n.dataValue)){n.dataValue(null)}}if(k){k.apply(this,arguments)}};var p=a(j).autocomplete(g).data("ui-autocomplete");if(n.template){p._renderItem=d.renderItem.bind(d,n.template,h)}c.utils.domNodeDisposal.addDisposeCallback(j,function(){if(p&&typeof p.destroy==="function"){p.destroy();p=null}})};this.update=function(f,k){var h,i,g=e(k()),j=e(g&&g.value);if(!j&&j!==0){j=""}i=e(g.source);h=d.getPropertyNames(k);if(a.isArray(i)&&h.value){j=c.utils.arrayFirst(i,function(l){return l[h.value]==j})||j}if(h.input&&j&&typeof j==="object"){f.value=j[h.input]}else{f.value=j}};this.defaultFilter=function(f,g){g=g&&g.toLowerCase();return(f||f===0)&&c.toJSON(f).toLowerCase().indexOf(g)>-1};this.processOptions=function(p,g,f,m,n){var i,h,k,j=e(f)||[],o=[],l=this.getPropertyNames(p);for(h=0,k=j.length;h<k;h++){i=j[h];if(!g||g(i,m.term)){o.push({label:l.label?i[l.label]:i.toString(),value:l.input?i[l.input]:i.toString(),actual:l.value?i[l.value]:i,data:i})}}n(o)};this.renderItem=function(j,g,k,h){var f=a("<li></li>").appendTo(k),i=g.createChildContext(h.data);c.applyBindingsToNode(f[0],{template:j},i);f.one("remove",c.cleanNode.bind(c,f[0]));return f};this.getPropertyNames=function(g){var f=c.toJS(g());return{label:f.labelProp||f.valueProp,input:f.inputProp||f.labelProp||f.valueProp,value:f.valueProp}};this.options={autoFocus:true,delay:50}};c.bindingHandlers.jqAuto=new b()});var TwpPerformance;(function(b){var a=(function(){function c(){this.m_Profilers=[]}c.prototype.AddProfiler=function(d){this.m_Profilers.push(d)};c.prototype.RemoveProfiler=function(e){var d=this.m_Profilers.indexOf(e);if(d>=0){this.m_Profilers.splice(d,0)}};c.prototype.AddTime=function(d,e){_.each(this.m_Profilers,function(f){return f.AddTime(d,e)})};Object.defineProperty(c.prototype,"IsActive",{get:function(){return this.m_Profilers.length>0},enumerable:true,configurable:true});c.Instance=new c();return c})();b.ProfilerManager=a})(TwpPerformance||(TwpPerformance={}));var TwpPerformance;(function(e){function a(f,h,g){if(f.IsEnabled){return new c(f,h,g)}return new b()}e.CreateProfiler=a;var b=(function(){function f(){}f.prototype.End=function(){};f.prototype.EndSilent=function(){};return f})();var c=(function(){function f(g,i,h){this.m_Sections={};this.m_LogRegion=g;this.m_Title=i;this.m_Options=h;this.m_StartTick=new Date().getTime();if(!this.m_Options||this.m_Options.StartSilent!=false){this.Log("Starting")}e.ProfilerManager.Instance.AddProfiler(this)}f.prototype.AddTime=function(h,i){var g=this.m_Sections[h];if(!g){g=new d(h);this.m_Sections[h]=g}g.AddTime(i)};f.prototype.EndSilent=function(){e.ProfilerManager.Instance.RemoveProfiler(this)};f.prototype.End=function(){var g=this;this.EndSilent();var l=new Date().getTime()-this.m_StartTick;var i=(this.m_Options&&(this.m_Options.MinTimeMs||this.m_Options.MinTimeMs==0))?this.m_Options.MinTimeMs:100;var h=_.chain(_.keys(this.m_Sections)).map(function(m){return g.m_Sections[m]}).filter(function(m){return m.TimeMs>=i}).sortBy(function(m){return -m.TimeMs}).map(function(m){return m.toString()}).value();var k=_.chain(_.keys(this.m_Sections)).map(function(m){return g.m_Sections[m]}).filter(function(m){return m.TimeMs<i}).reduce(function(n,m){return n+m.TimeMs},0).value();if(k>i){h.push("Remaining Items: {0} ms".Format(k))}var j="- "+h.join("\n- ");this.Log("Ended ({0} ms)".Format(l),j)};f.prototype.Log=function(h,g){this.m_LogRegion.WriteDebug("Profiler {0}: {1}".Format(this.m_Title,h),g)};return f})();var d=(function(){function f(g){this.m_Count=0;this.m_TotalTimeMs=0;this.m_MinTimeMs=null;this.m_MaxTimeMs=null;this.m_SectionId=g}Object.defineProperty(f.prototype,"TimeMs",{get:function(){return this.m_TotalTimeMs},enumerable:true,configurable:true});f.prototype.toString=function(){var g="{0}: #{1}, {2} ms (avg {3}, min {4}, max {5})".Format(this.m_SectionId,this.m_Count,this.m_TotalTimeMs,(this.m_TotalTimeMs/this.m_Count).toFixed(1),this.m_MinTimeMs,this.m_MaxTimeMs);return g};f.prototype.AddTime=function(g){this.m_Count+=1;this.m_TotalTimeMs+=g;if(this.m_MinTimeMs==null||this.m_MinTimeMs>g){this.m_MinTimeMs=g}if(this.m_MaxTimeMs==null||this.m_MaxTimeMs<g){this.m_MaxTimeMs=g}};return f})()})(TwpPerformance||(TwpPerformance={}));var __extends=this.__extends||function(e,c){for(var f in c){if(c.hasOwnProperty(f)){e[f]=c[f]}}function a(){this.constructor=e}a.prototype=c.prototype;e.prototype=new a()};var TwpPerformance;(function(g){function a(j,k,i){var h=i||!j.IsEnabled;if(!h||g.ProfilerManager.Instance.IsActive){return new e(j,k,h)}return new c()}g.CreateProfileSection=a;function b(i,j){var h=!i.IsEnabled;if(!h||g.ProfilerManager.Instance.IsActive){return new f(i,j,h)}return new d()}g.CreateProfileSectionDebug=b;var c=(function(){function h(){}h.prototype.End=function(){};return h})();var e=(function(){function h(j,k,i){this.m_LogRegion=j;this.m_SectionId=k;this.m_IsSilent=i;this.m_StartTick=new Date().getTime();if(!this.m_IsSilent){this.Log("Started")}}h.prototype.End=function(){var i=new Date().getTime();var j=i-this.m_StartTick;if(g.ProfilerManager.Instance.IsActive){g.ProfilerManager.Instance.AddTime(this.m_LogRegion.Name+"."+this.m_SectionId,j)}if(!this.m_IsSilent){this.Log("Ended ({0} ms)".Format(j))}};Object.defineProperty(h.prototype,"StartTick",{get:function(){return this.m_StartTick},enumerable:true,configurable:true});h.prototype.Log=function(i){this.m_LogRegion.WriteDebug("ProfileSection '{0}': {1}".Format(this.m_SectionId,i))};return h})();var d=(function(h){__extends(i,h);function i(){h.apply(this,arguments)}i.prototype.Milestone=function(j){};return i})(c);var f=(function(h){__extends(i,h);function i(){h.apply(this,arguments);this.m_MilestoneTick=null;this.m_MilestoneCount=0}i.prototype.Milestone=function(j){var k=new Date().getTime();var l=k-(this.m_MilestoneTick||this.StartTick);this.m_MilestoneTick=k;this.m_MilestoneCount+=1;j=j||""+this.m_MilestoneCount;this.Log("Milestone '{0}' {1} ms".Format(j,l))};i.prototype.End=function(){if(this.m_MilestoneTick){this.Milestone()}h.prototype.End.call(this)};return i})(e)})(TwpPerformance||(TwpPerformance={}));(function(a){a.prototype.CatchNonErrors=function(b){return this.then(null,function(c){if(c instanceof Error){throw c}else{if(Log){Log.Core.Promise.WriteDebug("Promise rejection caught",JSON.stringify(c))}else{console.debug("Promise rejection caught: ",c)}}return b?b(c):undefined})}}(window.Promise));(function(a){a.Errors=[];a.SubscribeOnError=function(f){var e=window.onerror;window.onerror=function(){if(e){e.apply(this,arguments)}f.apply(this,arguments)}};a.SubscribeOnError(c);function c(f,k,i,e,g){a.Errors.push({Message:f,url:k,Line:i,Column:e,Error:g});var h="Error: '"+f+"' in '"+k+"' at line "+i;$("body").attr("JSError",h);var j=g?g.stack:undefined;AjaxHelpers.Ajax({url:Url.Core("ReportJsError"),data:{errorMsg:f,href:window.location.href,url:k,lineNumber:i,columnNumber:e,callStack:j}})}window.addEventListener("unhandledrejection",function(e){if(e.detail){d(e.detail.reason)}e.preventDefault()});function d(e){if(!e){return}else{if(e instanceof Error){var f=e.stack;var g=b(f);window.onerror("Uncaught rejection in Promise: {0}".Format(e.toString()),g.url,g.line,g.col,e)}else{throw e}}}function b(l){var k={message:null,url:null,line:null,col:null};if(!l){return k}var m=l.split("\n");if(!m){return k}k.message=m[0]||null;var f=m[1];for(var e=2;e<m.length&&f&&f.indexOf("at")===-1;++e){f=m[e]}if(f){var n=f.indexOf("http");var j=f.indexOf(":",n);j=f.indexOf(":",j+1)+3;j=f.indexOf("/",j+1)+1;var h=f.indexOf(":",j);if(h===-1){k.url=f.substring(n)}else{k.url=f.substring(n,h);var g=f.substring(h+1).split(":");k.line=parseInt(g[0],10);k.col=parseInt(g[1],10)}}return k}}(window.CrashReporter=window.CrashReporter||{}));var JQueryExtensions;(function(a){function b(e){var d=(this);d.off(e.Event,e.Selector,e.Handler)}function c(f){var d=(this);d.on(f.Event,f.Selector,f.Handler);var e={Dispose:function(){return d.Off(f)}};return e}$.fn.On=c;$.fn.Off=b})(JQueryExtensions||(JQueryExtensions={}));(function(b){var e={};function c(f){if(!e[f]){e[f]=[]}return d(f)}function d(f){return e[f]}b.Subscribe=function(h,f){if(!h){throw new Error("DataChangeMediator.Subscribe: type must be defined.")}var g=c(h);g.push(f)};b.Notify=function(i,g){var h=d(i);if(!h||!h.length){return}var f=[new a(i,g)];f=f.concat([].slice.call(arguments,2));_.each(h,function(j){j.apply(this,f)})};function a(h,g){var f=_.isArray(g)?g:[g];this.GetType=function(){return h};this.GetIds=function(){return f};this.ContainsId=function(i){return _.contains(f,i)}}}(window.DataChangeMediator=window.DataChangeMediator||{}));window.Stopwatch=(function(){function a(b){var e=null;var c=null;var d=false;this.Start=function(){e=new Date().getTime();d=true};this.Stop=function(){c=new Date().getTime();d=false};this.DurationMS=function(){if(d){return new Date().getTime()-e}else{return c-e}};if(b){this.Start()}}a.StartNew=function(){return new a(true)};return a}());(function(a){var d=null;var c=">>{0}<<";var b=false;a.Trans=function(){if(b===false){throw new Error("Calling Lang.Trans before Lang.Initialize. Consider using Lang.OnInit(...)")}if(arguments.length===0){throw new Error("Calling Lang.Trans without any message to translate")}var f=arguments[0];var g=(d||{})[f];if(!g){g=c.Format(f)}var h=g;if(arguments.length>1){var e=Array.prototype.slice.call(arguments,1);h=g.Format(e)}return h};a.Initialize=function(f,e){d=f;c=e;b=true;$(document).trigger("initializeTranslations");$(document).off("initializeTranslations")};a.OnInit=function(e){if(b){e()}$(document).on("initializeTranslations",e)}}(window.Lang=window.Lang||{}));window.TfpSelectInstance=(function(){function a(){var c=new PartialViewSelectTfp.DialogLoader(Url.Account("TfpSelectInstance"),null);var d=null;var f=null;var e=null;function b(h){d=null;f=h;e=new koUtils.ViewModelBinder($("#TfpSelectInstance"));d=h.dialog({modal:true,resizable:false,autoOpen:false,buttons:{Save:function(){var i=e.m_ViewModel.SelectedInstance();AjaxHelpers.Ajax({url:Url.Account("SetTfpInstance"),waitingPopup:{message:Lang.Trans("Updating Tfp instances for user")},data:{newTfpInstance:i},success:function(){window.location.reload()}});d.dialog("close")},Cancel:function(){d.dialog("close")}}})}function g(){AjaxHelpers.Ajax({url:Url.Account("GetTfpInstances"),data:{},success:function(h){e.Data(h);d.dialog("open")}})}this.Open=function(){if(c.IsLoaded){g()}else{c.Load(function(h){b(h);g()})}}}return a})();(function(a){a.DialogLoader=function(c,b){var d=this;this.Load=function(e){AjaxHelpers.GetHtml({url:c,showLoadingPopup:true,success:function(f){var g=$(f);g.appendTo("body");if(!_.isUndefined(b)&&b!==null){$("head").append('<link rel="stylesheet" href="{0}" type="text/css" />'.Format(b))}d.IsLoaded=true;e($("#TfpSelectInstance"))}})};this.IsLoaded=false}}(window.PartialViewSelectTfp=window.PartialViewSelectTfp||{}));function DateOnly(a){if(!a){this.Date=null}else{if(typeof a==="string"){var c=Date.parse(a);if(!isNaN(c)){var b=new Date(c);this.Date=new Date(b.getFullYear(),b.getMonth(),b.getDate())}}else{this.Date=new Date(a.getFullYear(),a.getMonth(),a.getDate())}}Object.defineProperty(this,"IsValid",{get:function(){return !!this.Date&&!isNaN(this.Date.getTime())}})}function ToString00(a){if(a<10){return"0"+a}return""+a}DateOnly.prototype.toString=function(){if($.type(this.Date)!=="date"){return""}var c=this.Date.getFullYear();var b=this.Date.getMonth()+1;var a=this.Date.getDate();return ToString00(c)+"-"+ToString00(b)+"-"+ToString00(a)};DateOnly.prototype.toJSON=function(){return this.toString()};DateOnly.prototype.Equals=function(a){if(!a instanceof DateOnly){return false}else{if(this.IsValid&&!a.IsValid){return false}else{if(!this.IsValid&&a.IsValid){return false}}}return this.Date.getFullYear()===a.Date.getFullYear()&&this.Date.getMonth()===a.Date.getMonth()&&this.Date.getDate()===a.Date.getDate()};DateOnly.Equals=function(a,b){if(a===b){return true}var c=null,d=null;if(a instanceof Date){c=new DateOnly(a)}else{if(a instanceof DateOnly){c=a}}if(b instanceof Date){d=new DateOnly(b)}else{if(b instanceof DateOnly){d=b}}if(c){return c.Equals(d)}else{if(d){return d.Equals(c)}else{return false}}};window.TimeSpan=(function(){var a=new RegExp("^(\\d+)\\.([0-1]?\\d|2[0-3]):([0-6]\\d):([0-6]\\d)$","i");var b=new RegExp("^([0-1]?\\d|2[0-3]):([0-6]\\d):([0-6]\\d)$","i");var c=new RegExp("^([0-1]?\\d|2[0-3])[:]?([0-6]\\d)$","i");function d(f){this.Ticks=null;if(_.isObject(f)){f.Days=f.Days?parseInt(f.Days,10):0;f.Hours=f.Hours?parseInt(f.Hours,10):0;f.Minutes=f.Minutes?parseInt(f.Minutes,10):0;f.Seconds=f.Seconds?parseInt(f.Seconds,10):0;f.Miliseconds=f.Miliseconds?parseInt(f.Miliseconds,10):0;this.Ticks=(f.Days*d.OneDay)+(f.Hours*d.OneHour)+(f.Minutes*d.OneMinute)+(f.Seconds*d.OneSecond)+f.Miliseconds;if(f.Negative){this.Ticks=this.Ticks*-1}}else{if(_.isNumber(f)){this.Ticks=parseInt(f,10)}}}d.prototype.GetComponents=function(){return new d.Components(this)};d.prototype.GetTotalDays=function(){return this.Ticks/d.OneDay};d.prototype.GetTotalHours=function(){return this.Ticks/d.OneHour};d.prototype.GetTotalMinutes=function(){return this.Ticks/d.OneMinute};d.prototype.GetTotalSeconds=function(){return this.Ticks/d.OneSecond};d.prototype.Clone=function(){return new d(this.Ticks)};d.prototype.Add=function(f){this.Ticks+=f.Ticks;return this};d.prototype.Subtract=function(f){this.Ticks-=f.Ticks;return this};d.prototype.RoundSeconds=function(){var f=this.GetComponents();if(f.Seconds>29){++f.Minutes}f.Seconds=0;return new d(f)};d.prototype.toString=function(){var g=this.GetComponents();var f=g.Negative?"-":"";if(g.Days){f+=g.Days+"."}f+=e(g.Hours);f+=":"+e(g.Minutes);f+=":"+e(g.Seconds);return f};d.OneDay=24*60*60*1000;d.OneHour=60*60*1000;d.OneMinute=60*1000;d.OneSecond=1000;d.prototype.ToDisplayString=function(f){var h;if(f){h=this.GetComponents()}else{h=this.RoundSeconds().GetComponents()}var g=h.Negative?"-":"";g+=e(h.Hours+(h.Days*24));g+=":"+e(h.Minutes);if(f){g+=":"+e(h.Seconds)}return g};d.TryParse=function(h){if(!_.isString(h)||h.length===0){return null}var g=false;if(h[0]==="-"){h=h.slice(1);g=true}var f=a.exec(h);if(f){return new d({Days:f[1],Hours:f[2],Minutes:f[3],Seconds:f[4],Negative:g})}f=b.exec(h);if(f){return new d({Hours:f[1],Minutes:f[2],Seconds:f[3],Negative:g})}f=c.exec(h);if(f){return new d({Hours:f[1],Minutes:f[2],Negative:g})}return null};d.Parse=function(g){if(!g){throw new Error("Could not parse TimeSpan. No input string defined.")}var f=d.TryParse(g);if(!f){throw new Error("Could not parse '{0}' as a TimeSpan.".Format(g))}return f};function e(f){return f.toString().RightJustify(2,"0")}d.FromSeconds=function(f){return new d(f*d.OneSecond)};d.Components=function(f){this.Negative=false;this.Days=0;this.Hours=0;this.Minutes=0;this.Seconds=0;if(f instanceof d){this.Negative=f.Ticks<0;var h=Math.abs(f.Ticks);this.Days=Math.floor(h/d.OneDay);var g=h-(this.Days*d.OneDay);this.Hours=Math.floor(g/d.OneHour);g=g-(this.Hours*d.OneHour);this.Minutes=Math.floor(g/d.OneMinute);g=g-(this.Minutes*d.OneMinute);this.Seconds=Math.floor(g/d.OneSecond)}else{if(_.isObject(f)){this.Negative=f.Negative||false;this.Days=f.Days||0;this.Hours=f.Hours||0;this.Minutes=f.Minutes||0;this.Seconds=f.Seconds||0;this.MiliSeconds=f.Seconds||0}}};return d}());var TfpTime;(function(d){var a=new Date();var b={IsArtificial:false};d.NowObservable=ko.observable(new Date());setInterval(function(){d.NowObservable(d.Now())},60*1000);function e(f){if(!f){throw new Error("Cannot update TfpTime with invalid data")}a=new Date();b=f;d.NowObservable(d.Now())}d.Update=e;function c(){if(!b.IsArtificial){return new Date()}if(b.IsLocked){return new Date(b.Time.getTime())}else{var f=new Date().getTime()-a.getTime();return new Date(b.Time.getTime()+f)}}d.Now=c})(TfpTime||(TfpTime={}));function AddField(f,a,c,d){var g;function b(j){g=f.toString();if(!j){return g}else{var i=isNaN(f)?"."+g:"["+g+"]";return j+i}}if(typeof a==="object"){if(f){d=b(d)}for(var e in a){if(a.hasOwnProperty(e)&&typeof e!=="function"){AddField(e,a[e],c,d)}}}else{d=b(d);var h=$("<input/>").prop("name",d).prop("type","hidden").val(a);c.append(h)}}function AddData(a,b){if(is("Array",a)){_.each(a,function(c){AddField(null,c,b,null)})}else{AddField(null,a,b,null)}}function PostDynamicForm(d,c,b,e){b=b||"post";var a=$("<form/>").prop("method",b).prop("action",d);if(e!==undefined||e!==""){$(a).prop("target",e)}AddData(c,a);a.appendTo(document.body);a.submit();a.remove()}(function(b){var c=false;function a(){if(c){return}c=true;var d=$("<iframe>").attr("name","FileDownloadRequestResponse").hide();d.appendTo(document.body);d.load(function(){var i="",f=d.contents(),e=f.find("body"),g,h=f.find("title").text();g=e.find("pre");if(_.any(g)){i=g.text()}else{i=e.html()}PopupMessage.Alert(i,h||Lang.Trans("Warning"))})}b.DownloadRequest=function(e,d){a();PostDynamicForm(e,d||{},"","FileDownloadRequestResponse")}}(window.FileContent=window.FileContent||{}));function GetProperty(a,c){var b=c.split(".");var d=a;_.each(b,function(e){d=d[e]});return d}function is(c,b){var a=Object.prototype.toString.call(b).slice(8,-1);return b!==undefined&&b!==null&&a===c}function ToFloat(a){if(!a){return 0}return parseFloat(a)}function ToInt(a){if(!a){return 0}return parseInt(a,10)}function Round(c,b){if(!b){b=0}var a=Math.pow(10,b);return Math.round(c*a)/a}Array.prototype.unique=function(f){var b=[],e=this.length;for(var c=0;c<e;c++){for(var d=c+1;d<e;d++){if(this[c]===this[d]||(f!=null&&this[c][f]===this[d][f])){d=++c}}b.push(this[c])}return b};Array.prototype.StrSort=function(c,a){var b=function(d,e){return StrSortCompare(d,e,a)};if(!c){return this.sort(b)}return this.sort(function(d,e){return b(d[c],e[c])})};Array.prototype.find=function(c,b){var d=false;for(var a=0;a<this.length;a++){if(c&&typeof(c)==="function"){if(c(this[a],b)){if(!d){d=[]}d.push(a)}}else{if(this[a]===b){if(!d){d=[]}d.push(a)}}}return d};Array.prototype.Find=function(f,c,a){var b=null;if(c){b=this.find(function(g){return GetProperty(g,c)===f})}else{b=this.find(null,f)}if(!b||a){return b}var e=this;var d=[];_.each(b,function(g){d.push(e[g])});return d};Array.prototype.FirstOrDefault=function(d,b,a){var c=this.Find(d,b,a);if(c===false){return null}return c[0]};Array.prototype.Join=function(a,d){var e=this;if(!a){a=" "}if(!d){d=a}var c="";for(var b=0;b<e.length;b++){if(b){c+=(b===e.length-1)?d:a}c+=e[b]}return c};function IsInArray(a,c){for(var b=0;b<a.length;++b){if(a[b]===c){return true}}return false}function Clone(d,e){if(null===d||"object"!==typeof d){return d}var b=null;if(d instanceof Date){b=new Date();b.setTime(d.getTime());return b}else{if(d instanceof Array){b=[];for(var c=0;c<d.length;++c){b[c]=Clone(d[c],e)}return b}else{if(d instanceof Object){if(e&&e.UseObjectSpecificClone===true&&_.isFunction(d.Clone)){return d.Clone()}else{b={};for(var a in d){if(d.hasOwnProperty(a)){b[a]=Clone(d[a],e)}}return b}}}}throw new Error("Unable to copy obj! Its type isn't supported.")}function IsChanged(b,c){if(b==null&&c==null){return false}else{if((b==null&&c!=null)||(b!=null&&c==null)){return true}else{if(typeof b==="function"){return false}else{if(b instanceof Date){var d=c instanceof Date;if(!d){return true}return b.getTime()!==c.getTime()}else{if(b instanceof Array){return IsArrayChanged(b,c)}else{if(typeof b==="object"){for(var a in b){if(b.hasOwnProperty(a)){if(b[a]==null&&c[a]==null){continue}if(IsChanged(b[a],c[a])){return true}}}}else{return b!==c}}}}}}return false}function IsArrayChanged(b,c){if(b==null&&c==null){return false}else{if((b==null&&c!=null)||(b!=null&&c==null)){return true}else{if(b.length!==c.length){return true}}}for(var a=0;a<b.length;++a){if(IsChanged(b[a],c[a])){return true}}return false}var m_GlobalEscape=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];var m_GlobalEscapeRegexp=new RegExp("(\\"+m_GlobalEscape.join("|\\")+")","g");function RegExpEscape(a){return a.replace(m_GlobalEscapeRegexp,"\\$1")}function RegExpFromStr(b,a){if(a===undefined){a="g"}return new RegExp(RegExpEscape(b),a)}String.prototype.Replace=function(b,c,a){return this.replace(RegExpFromStr(b,a),c)};String.prototype.ReplaceGlobal=function(a,b){return this.Replace(a,b,"g")};String.prototype.NoBreak=function(){var a=this.ReplaceGlobal(" ","&nbsp;");return a};String.prototype.Format=function(){var a=this;if(arguments.length===0){return a}if(arguments.length===1&&typeof(arguments[0])==="object"){var c=arguments[0];for(var d in c){if(c.hasOwnProperty(d)){var e="{"+d+"}";a=a.ReplaceGlobal(e,c[d])}}}else{for(var b=0;b<arguments.length;++b){a=a.ReplaceGlobal("{"+b+"}",arguments[b])}}return a};String.prototype.RightJustify=function(b,a){var c=this;if(a===undefined){a=" "}while(c.length<b){c=a+c}return c};String.prototype.StartsWith=function(a){return this.slice(0,a.length)===a};String.prototype.EndsWith=function(a){return this.slice(-a.length)===a};function StrSortCompare(b,c,a){if(!a){b=b.toLowerCase();c=c.toLowerCase()}if(b===c){return 0}return b<c?-1:1}function FillInComboboxFromArray(a,k,h){if(h===null){h=""}if(!k){return}var g=document.getElementById(a);if(!g){PopupMessage.Alert(Lang.Trans("Selection box {0} was not found",a),"");return}g.innerHTML="";var j=null;for(var d=0;d<k.length;++d){var f=document.createElement("option");var c=k[d];if(is("String",c)){f.text=c;f.value=c}else{for(var b in c){if(c.hasOwnProperty(b)){f[b]=c[b]}}}if(h===f.value){j=d}g.options.add(f)}if(j!==null){g.selectedIndex=j}else{if(h===""){g.value=""}}}(function(b){var a={};b.Alert=function(c,e){var d=c.replace(/\d/g,"");if(!a[d]){a[d]=true;PopupMessage.Alert(c,e||"");delete a[d]}}})(window.UniqueAlert=window.UniqueAlert||{});function isNumber(a){return !isNaN(parseInt(a,10))}function IsExplorer8(){return($.browser.msie&&parseInt($.browser.version,10)===8)}$.fn.Show=function(a){var b=this;if(this.hasClass("dataTable")){b=this.closest(".dataTables_wrapper")}if(a){b.show()}else{b.hide()}return this};$.fn.FillComboFromArray=function(a,h,i,e){var b={fnOptCallBack:function(k,j){},sort:null,firstElement:null,change:function(){},filter:function(j){return true},uniqueID:true};var d=$.extend(b,e);var c=function(j){var l=null,m=null;if($.isFunction(h)){l=h(j)}else{l=h?GetProperty(j,h):(j.text===undefined?j:j.text)}if($.isFunction(i)){m=i(j)}else{m=i?GetProperty(j,i):(j.value===undefined?j:j.value)}var k=$("<option/>");k.text(l);k.val(m);return k};var f=$(this);f.empty();var g=[];if(!d.filter){g=a}else{_.each(a,function(j){if(d.filter(j)){g.push(j)}})}if(d.uniqueID){g=g.unique(i)}if(d.sort){g=g.StrSort(h,false)}if(d.firstElement){f.append(c(d.firstElement))}_.each(g,function(j){if(d.filter&&!d.filter(j)){return}var k=c(j);if(d.fnOptCallBack){d.fnOptCallBack(k,j)}f.append(k)});if(IsInstanceOf(f,"multiselect")){f.multiselect("refresh")}if(d.change){f.change({array:a},d.change)}return f};function IsInstanceOf(b,c){var a=$(b).data(c);return a!==null&&a!==undefined}$.fn.Enable=function(a){if(a===undefined||a===null){a=true}$(this).prop("disabled",!a);$(this).each(function(c,b){if(IsInstanceOf($(b),"button")){$(b).button("refresh")}else{if(IsInstanceOf($(b),"multiselect")){if(a){$(b).multiselect("enable")}else{$(b).multiselect("disable")}}else{if(IsInstanceOf($(b),"datepicker")){if(a){$(b).datepicker("enable")}else{$(b).datepicker("disable")}}}}});return $(this)};$.fn.MakeVisibleVertical=function(a,c){c=c||1;var e=a?$(a).offset().top:0;var b=$(this);if(!b){throw"Element is not valid"}b=$(b[c-1]);var d=b.offset();$(window).scrollTop(d.top-e)};$.fn.Disable=function(a){if(a===undefined||a===null){a=true}return $(this).Enable(!a)};$.fn.DatePickerRO=function(){$(this).prop("readonly","readonly");return $(this).datepicker.apply(this,arguments)};var ValidateNumber=new RegExp("^\\d+$");var ValidateAlphanum=new RegExp("^\\w+$");var ValidateAlpha=new RegExp("^[A-Za-z]+$");function FormatFloat(b,a,e,f){if(isNaN(b)||(!b&&b!==0)){return b}var g;b=Math.round(b*Math.pow(10,a))/Math.pow(10,a);if(b<0){b=-b;g=-1}else{g=1}var d="";var c="";c=Math.round((b-Math.floor(b))*Math.pow(10,a)).toString();while(c.length<a){c="0"+c}if(a>0){d=e+c;b=Math.floor(b)}else{b=Math.round(b)}while(b>0){c=(b-Math.floor(b/1000)*1000).toString();b=Math.floor(b/1000);if(b>0){while(c.length<3){c="0"+c}}d=c+d;if(b>0){d=f+d}}if(d===""){d="0"}if(d[0]==="."){d="0"+d}if(g<0){d="-"+d}return d}function escapeHTML(a){return typeof a!=="string"?a:a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}(function(b){b.IsUrlAddress=function(c){var d=/^(http[s]?:\/\/)(www\.){0,1}[a-zA-Z0-9\.\-]+\.[a-zA-Z]{2,5}[\.]{0,1}/.test(c);return d};b.IsDecimal=function(d){var c=/^[-]?([.]|\d)+$/.test(d);if(!c){return false}return parseFloat(d)==d};b.IsInteger=function(d){var c=/^[-]?(\d)+$/.test(d);if(!c){return false}var e=parseInt(d,10);return !isNaN(e)};b.IsPositiveInteger=function(c){if(!b.IsInteger(c)){return false}return parseInt(c,10)>=0};b.IsPositiveDecimal=function(c){if(!b.IsDecimal(c)){return false}var d=parseFloat(c);return d>=0};function a(c,d){if(!c){throw d}}b.UnitTests=function(){a(b.IsInteger("3232")===true,"IsInteger failed");a(b.IsInteger("-3232")===true,"IsInteger failed");a(b.IsInteger("-3232-")===false,"IsInteger failed");a(b.IsInteger("-3.232")===false,"IsInteger failed");a(b.IsInteger("-3.232aa")===false,"IsInteger failed");a(b.IsInteger("-3.232aa")===false,"IsInteger failed");a(b.IsInteger("")===false,"IsInteger failed");a(b.IsDecimal("3232")===true,"IsDecimal failed");a(b.IsDecimal("-3232")===true,"IsDecimal failed");a(b.IsDecimal("-3232-")===false,"IsDecimal failed");a(b.IsDecimal("-3.232")===true,"IsDecimal failed");a(b.IsDecimal("-3.232.3")===false,"IsDecimal failed");a(b.IsDecimal("-3.232aa")===false,"IsDecimal failed");a(b.IsDecimal("-3.232aa")===false,"IsDecimal failed");a(b.IsDecimal("")===false,"IsDecimal failed");a(b.IsPositiveDecimal("3232.3")===true,"isPositiveDecimal failed");a(b.IsPositiveDecimal("-3232.3")===false,"isPositiveDecimal failed");a(b.IsPositiveDecimal("0")===true,"isPositiveDecimal failed");a(b.IsPositiveInteger("3232.3")===false,"isPositiveDecimal failed");a(b.IsPositiveInteger("3232")===true,"isPositiveDecimal failed");a(b.IsPositiveInteger("-3232")===false,"isPositiveDecimal failed");a(b.IsPositiveInteger("0")===true,"isPositiveDecimal failed")}})(window.InputValidator=window.InputValidator||{});(function(b){b.KeyMap={tab:9,backspace:8,enter:13,space:32,pgup:33,pgdown:34,end:35,home:36,left:37,up:38,right:39,down:40,"delete":46};b.CodeMap={};for(var a in b.KeyMap){if(b.KeyMap.hasOwnProperty(a)){b.CodeMap[b.KeyMap[a]]=a}}b.CharCodeFromEvent=function(d){var f=d||window.event;var c=f.charCode;return c};b.KeyCodeFromEvent=function(c){var f=c||window.event;var d=f.keyCode||f.which;return d};b.CharFromEvent=function(d){var c=b.CharCodeFromEvent(d);if(!c||c===13){var f=b.KeyCodeFromEvent(d);if(f===13){return"\n"}return""}return String.fromCharCode(c)}})(window.KeyHelper=window.KeyHelper||{});function BuildArgs(a,c){if(a===undefined||a===null){return""}var e="";for(var d in a){if(a.hasOwnProperty(d)){if(e===""&&!c){e+="?"}else{e+="&"}var f=a[d];if(Object.prototype.toString.call(f)==="[object Array]"){for(var b=0;b<f.length;b++){if(b>0){e+="&"}e+=d+"="+encodeURIComponent(f[b])}}else{if($.type(f)==="date"){e+=d+"="+DateFormatter.ToTfpDateTimeString(f)}else{e+=d+"="+encodeURIComponent(f)}}}}return e}(function(d){d.Object={SafeClone:function c(i,h,e){if(_.isUndefined(h)){h=-1}if(h--===0){return void 0}if(!_.isObject(i)){return i}if(_.isDate(i)){return new Date(i)}var f=null;e=e||[];e.push(i);function g(j){return _.contains(e,j)}if(_.isArray(i)){f=_.chain(i).filter(function(j){return !g(j)}).map(function(j){return d.Object.SafeClone(j,h,e)}).value()}else{f={};_.each(_.keys(i),function(j){if(!i.hasOwnProperty(j)){return}var k=i[j];if(!_.isFunction(k)&&!g(k)){f[j]=d.Object.SafeClone(k,h,e)}})}e.pop();return f},GetPropAtPath:function(f,g){if(!g){return f}var i=f;var h=(g||"").split(".");var e=_.all(_.initial(h),function(j){if(!i[j]){return false}i=i[j];return true});if(!e){return null}return i[_.last(h)]},IsTruthy:function(e,f){return !!d.Object.GetPropAtPath(e,f)},GetOrCreateObjectAtPath:function(e,f){if(!f){return e}var h=e;var g=(f||"").split(".");_.each(_.initial(g),function(i){if(!h[i]){h[i]={}}h=h[i]});if(!h[_.last(g)]){h[_.last(g)]={}}return h[_.last(g)]}};d.Class={Inherit:function(g,e){var f=d.Functional.Fluent;var h=function(){this.constructor=e};h.prototype=g.prototype;e.prototype=new h();_.extend(e,{Method:f(function(j,i){this.prototype[j]=i}),Methods:f(function(i){_.each(_.pairs(i),function(j){this.Method.apply(this,j)}.bind(this))}),ExposeMethods:d.Functional.Variadic(function(m,l,i){var j=d.Class.CreateInstanceWihtArguments(this,i);var k=_.functions(j);if(_.isString(l)){l=_.map(l.split(","),$.trim)}_.chain(k).map(function(n){return{name:n,fn:j[n]}}).filter(function(n){if(l){if(!_.contains(l,n.name)){return false}}else{if(!j.hasOwnProperty(n.namep)){return false}if(n.name[0]==="_"){return false}}return true}).each(function(n){m[n.name]=n.fn.bind(j)})}),ExposeMethodsOnReady:function(){var i=this;var j=[].slice.call(arguments);$(document).ready(function(){i.ExposeMethods.apply(i,j)})},CreateLoadInstantiator:function(i){i=i||{};i.Ctor=this;return new PartialViewLoader.CreateLoadInstantiator(i)}});e.prototype.Super=d.Functional.Variadic(function(j,i){return g.prototype[j].apply(this,i)});return e},CreateInstanceWihtArguments:function(f,e){var g=Object.create(f.prototype);f.apply(g,e);return g}},d.Functional={Variadic:function(e){var f=e.length;if(f<1){return e}if(f===1){return function(){var g=[].slice.call(arguments,0);return e.call(this,g)}}return function(){var j=arguments.length;var i=[].slice.call(arguments,0,f-1);var k=Math.max(e.length-1-j,0);var g=new Array(k);var h=i.concat(g);var l=[].slice.call(arguments,f-1);return e.apply(this,h.concat([l]))}},Fluent:function a(e){return function(){e.apply(this,arguments);return this}},GetSet:function b(g,e,f){return function(j){var k=this;if(_.isUndefined(e)){e=true}var i=g.split(".");var h=_.last(i);_.each(_.initial(i),function(l){if(_.isUndefined(k[l])){throw"Cannot find '"+l+"' in "+JSON.stringify(k)}k=k[l]});if(!_.isUndefined(j)){if(f){throw"Set function not accessible"}if(e&&_.isFunction(k[h])){k[h](j)}else{k[h]=j}return this}else{if(e&&_.isFunction(k[h])){return k[h]()}else{return k[h]}}}},Get:function(f,e){return d.Functional.GetSet.call(this,f,e,true)}};d.DLog=function(h,e){var i=new Error().stack;var g="%%% "+h;var f={Stack:i};if(!_.isUndefined(e)){f.Info=e}console.log(g,f)};d.Log=function(f){var g=new Date();var e=Round((g.getTime()-(d.Log.m_LastTimestamp||g).getTime())/1000);d.Log.m_LastTimestamp=g;var h=DateFormatter.ToTfpDateTimeString(g,true)+" ("+e+")";if(!_.isString(f)){f=JSON.stringify(f,null,4)}f=h+" : "+f;if(window.console){window.console.log(f)}};(function(e){e.Tidy=function(i,h,f){h=h||4;if(e.IsJson(i)){var g=e.TidyJson(i,h);if(_.isString(g)||f){return g}}if(e.IsXml(i)){return e.TidyXml(i,h)}return i};e.IsJson=function(f){f=$.trim(f);if(!f){return false}return f[0]==="{"||f[0]==="["};e.TidyJson=function(h){var g;try{g=JSON.parse(h)}catch(f){f.Name=f.name;return{Error:"Could not tidy json - Check the raw input!\n\n{Name}\nMessage: {message}\nDescription: {description}".Format(f)}}var i=JSON.stringify(g,null,4);return i};e.IsXml=function(f){if(!f){return false}return $.trim(f)[0]==="<"};e.TidyXml=function(o,l){l=l||4;var k=/(>)(<)(\/*)/g;var n=/ *(.*) +\n/g;var f=/(<.+>)(.+\n)/g;o=o.replace(k,"$1\n$2$3").replace(n,"$1\n").replace(f,"$1\n$2");var g="";var j=o.split("\n");var h=0;var i="other";var m={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0};g=_.reduce(j,function(t,s){var w=Boolean(s.match(/<.+\/>/));var p=Boolean(s.match(/<\/.+>/));var u=Boolean(s.match(/<[^!].*>/));var x=w?"single":p?"closing":u?"opening":"other";var q=i+"->"+x;i=x;var v="";h+=m[q]*l;for(var r=0;r<h;r++){v+=" "}if(q==="opening->closing"){return t.substr(0,t.length-1)+s+"\n"}else{return t+v+s+"\n"}},"");return g}})(d.Strings=d.Strings||{})})(window.Utils=window.Utils||{});(function(b){var a=false;b.RegisterNative=function(){a=true;return 1};b.IsNative=function(){return a}})(window.PortalIdentification=window.PortalIdentification||{});(function(f){var i;var j=new RegExp(/^(([1-9]\d*)|[0])(\.\d+)?$/);var g;var h=new RegExp(/^(([1-9]\d*)|[0])$/);f.SetLanguage=function(r){i=r;f.DecimalSeparator=(1.1).toLocaleString(i)[1];f.ThousandSeperator=f.DecimalSeparator===","?".":",";if(f.ThousandSeperator===","){g=new RegExp(/^(([1-9](,\d{3})*)|(([1-9]\d*)|[0]))?(\.\d+)?$/)}else{g=new RegExp(/^(([1-9](\.\d{3})*)|(([1-9]\d*)|[0]))?(,\d+)?$/)}};f.SetLanguage();function n(s,u,r){var t={IsValid:s,Value:u,ConvertedValue:r};return t}f.CreateConvertedEntryLegacy=function(t,r,s){if(!s){s={ValueUpdate:"input"}}var u=ko.computed({read:function(){var v=t();if(!v&&v!==0){return""}return v},write:function(w){var v=r(w,s);t("");t(v.ConvertedValue);u.HasUserChanges=true}});u.Value=t;u.HasUserChanges=false;return u};f.ConvertIntegerLegacy=function(t){if((!t&&t!==0)||t===""){return n(false,null,null)}if(!_.isString(t)){t=t.toString()}var s=InputValidator.IsInteger(t);var r=a(t,{Decimals:0});return n(s,t,r)};function k(r){return r.replace(/[^0-9\.,]+/g,"")}function e(t,r){var s=h.test(r)&&parseFloat(r)===0;t=t.replace(/[,.]/g,function(u){if(u===f.DecimalSeparator&&!s){s=true;return"."}else{if(u===f.DecimalSeparator){return""}else{return u}}});return t}function l(r){return r.replace(/[,.]/g,function(s){if(s===f.ThousandSeperator){return""}else{return s}})}function m(u,s,t,r){if(!j.test(u)){Log.Core.InputConverter.WriteDebug("Tried to render a value which was not in standard format.");return u}u=parseFloat(u).toLocaleString(i,{maximumFractionDigits:h.test(s)?s:20,minimumFractionDigits:h.test(t)?t:0,useGrouping:!!r});return u.toString()}function p(u,s){if(s===undefined||s===null||s===""){return u}if(!j.test(u)||!j.test(s)){Log.Core.InputConverter.WriteDebug("Could not round the value to its maximum since either the value or the maximum was not in the allowed format.");return u}var t=parseFloat(u);var r=parseFloat(s);if(t>r){u=r.toString()}return u}function q(u,s){if(s===undefined||s===null||s===""){return u}if(!j.test(u)||!j.test(s)){Log.Core.InputConverter.WriteDebug("Could not round the value to its minimum since either the value or the minimum was not in the allowed format.");return u}var t=parseFloat(u);var r=parseFloat(s);if(t<r){u=r.toString()}return u}function d(u,s){if(u===undefined||u===null||u===""){return u}if(!h.test(s)){return u}if(!j.test(u)){Log.Core.InputConverter.WriteDebug("Could not cut the decimals since the value was not in the allowed format.");return u}var r=u.indexOf(".");var t=u.length-1-r;if(r!==-1&&t>s){u=u.substring(0,r+1+s)}return u}function o(t,r){if(t===undefined||t===null||t===""){return t}if(!h.test(r)){return t}if(!j.test(t)){Log.Core.InputConverter.WriteDebug("Could not round the value since it was not in the allowed format.");return t}var s=parseFloat(t);r=Math.pow(10,r);s=Math.round(s*r)/r;t=s.toString();return t}f.RenderNumber=function(w,v,u){if(w===null||w===""||w===undefined){return null}if(!j.test(w)){Log.Core.InputConverter.WriteDebug("Could not render the number since the value was not in the allowed format.");return w}if(!_.isString(w)){w=w.toString()}if(v==="change"){var s=u.AddTrailingZeroes?u.Decimals:0;return m(w,u.Decimals,s,u.Group)}else{if(v==="input"){if(u.MinValue||u.AddTrailingZeroes||u.ThousandSeperator){throw new Error("Converter was called with options that can not be applied on input changes")}w=d(w,u.Decimals);var r=w.indexOf(".");var t=r>-1?w.length-1-r:0;w=m(w,null,t,false);return w}}};function b(t,s){if(t===undefined||t===""||t===null){return t}if(!_.isString(t)){t=t.toString()}if(!g.test(t)){return"Invalid Input"}var r=l(t);r=e(r);r=o(r,s.Decimals);r=q(r,s.MinValue);r=p(r,s.MaxValue);r=parseFloat(r).toString();return r}function c(t,s){if(s.MinValue||s.AddTrailingZeroes||s.ThousandSeperator){throw new Error("Converter was called with options that can not be applied on input changes")}if(t===undefined||t===""||t===null){return t}if(!_.isString(t)){t=t.toString()}var r=k(t);r=l(r);r=e(r,s.Decimals);r=d(r,s.Decimals);r=p(r,s.MaxValue);return r}f.ConvertNumber=function(t,s,r){if(s==="input"){return c(t,r)}else{if(s==="change"){return b(t,r)}}throw new Error("Could not determine the value update method.")};f.IsValidNumber=function(r){return j.test(r)};f.ConvertNumberLegacy=function(u,t){if((!u&&u!==0)||u===""){return n(false,null,null)}if(!_.isString(u)){u=u.toString()}else{u=e(u)}var s=InputValidator.IsDecimal(u);var r=a(u,t);return n(s,u,r)};function a(y,x){if((!y&&y!==0)||y===""){return""}if(!_.isString(y)){y=y.toString()}y=y.replace(/[^0-9\.]+/g,"");var s=y.indexOf(".");if(x.Decimals===0){y=y.split(".")[0]}else{if(s!==-1){y=y.split(".").join("");if(s>0){y=y.substring(0,s)+f.DecimalSeparator+y.substring(s,y.length)}else{y=f.DecimalSeparator+y}}}y=y.replace(/^0+(?![,.]|$)/,"");s=y.indexOf(".");var v=y.length-1-s;if(s!==-1&&x.ValueUpdate==="input"){if(x.Decimals>0&&v>x.Decimals){y=y.substring(0,s+1+x.Decimals)}}else{if(x.ValueUpdate==="change"){var w=parseFloat(y);var t=Math.pow(10,x.Decimals);if(x.AddTrailingZeroes===true){w=Math.round(w*t)/t;w=w.toFixed(x.Decimals)}else{if(v>0&&s!==-1&&x.Decimals){w=Math.round(w*t)/t}}y=w.toString()}}if(x.ThousandDelimiter===true){var r=y.indexOf(".")===y.length-1;y=parseFloat(y).toLocaleString(i,{maximumFractionDigits:x.Decimals!==undefined?x.Decimals:20,useGrouping:x.ThousandDelimiter});if(r){y+=f.DecimalSeparator}}if(x.DefaultValue!==undefined&&y===""){y=x.DefaultValue}var u=parseFloat(y);if(x.MaxValue&&y!==""){if(u>x.MaxValue){y=x.MaxValue.toString()}}if(x.MinValue&&y!==""){if(u<x.MinValue){y=x.MinValue.toString()}}return y}})(window.InputConverter=window.InputConverter||{});(function(g){var f=[];$(document).ready(function(){$("<div>").attr("id","PopupMessage").appendTo("#main")});function e(){if(!f.length){return null}return f.shift()}function d(){if(IsInstanceOf($("#PopupMessage"),"dialog")){return}var h=e();if(h===null){return null}if(h.type==="Alert"){b(h)}else{if(h.type==="Confirm"){c(h)}}}function a(h){if(h){h=h.toString().Replace("\n","<br>")}$("#PopupMessage").html(h)}function c(i){var h={};i.onOkButtonName=i.onOkButtonName?i.onOkButtonName:Lang.Trans("OK");i.onCancelButtinName=i.onCancelButtinName?i.onCancelButtinName:Lang.Trans("Cancel");h[i.onOkButtonName]=function(){if(i.onOk){i.onOk()}$(this).dialog("destroy");d()};h[i.onCancelButtinName]=function(){$(this).dialog("close")};$("#PopupMessage").dialog({resizable:false,modal:true,draggable:true,closeOnEscape:true,title:i.title,close:function(){if(i.onCancel){i.onCancel()}$(this).dialog("destroy");d()},buttons:h,create:function(){$(this).closest(".ui-dialog").find(".ui-button").addClass("popupbutton")}});a(i.text)}function b(j){var i={};i[Lang.Trans("OK")]=function(){$(this).dialog("close")};var h=$("#PopupMessage").dialog({resizable:false,modal:true,draggable:true,closeOnEscape:true,width:"auto",autoOpen:false,title:j.title,close:function(){if(j.onOk){j.onOk()}$(this).dialog("destroy");d()},buttons:i,create:function(){$(this).closest(".ui-dialog").find(".ui-button").addClass("popupbutton")}});a(j.text);h.dialog("open")}g.Alert=function(i,j,h){f.push({type:"Alert",onOk:h,text:i,title:j});if(f.length>1){return}d()};g.Warning=function(i,h){g.Alert(i,Lang.Trans("Warning"),h)};g.Confirm=function(l,m,j,h,k,i){f.push({type:"Confirm",onOk:j,onCancel:h,text:l,title:m,onOkButtonName:k,onCancelButtinName:i});if(f.length>1){return}d()};g.ConfirmIf=function(h,k,l,j,i){if(h){g.Confirm(k,l,j,i)}else{j()}}}(window.PopupMessage=window.PopupMessage||{}));(function(b){var e=/\/Date\((-?\d+)(?:-\d+)?\)\//i;var d=/^\d{4}-((0[1-9])|(1[012]))-((0[1-9]|[12]\d)|3[01])$/;var c=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:[.,]\d+)?Z$/i;b.ParseValue=function(g){if(e.exec(g)){var f=new Date(parseInt(g.substr(6),10));return f}else{if(d.exec(g)){return new DateOnly(g)}else{if(c.exec(g)){return new Date(g)}}}return g};b.ParseJSonData=function(g){if(!_.isObject(g)){return b.ParseValue(g)}if(_.isArray(g)){return _.map(g,function(j){return b.ParseJSonData(j)})}var h={};for(var f in g){if(g.hasOwnProperty(f)){var i=g[f];if(_.isString(i)){h[f]=b.ParseValue(i)}else{if(_.isArray(i)){h[f]=_.map(i,b.ParseJSonData)}else{if(_.isObject(i)){h[f]=b.ParseJSonData(i)}else{h[f]=i}}}}}return h};b.ParseTwpJsonString=function(f){return b.parse(f,function(g,h){return b.ParseValue(h)})};function a(h){if(h==null||typeof(h)!=="object"){return h}if(h instanceof Date){var g=h.getTime();return"/Date("+g.toString()+")/"}for(var f in h){if(h.hasOwnProperty(f)){h[f]=a(h[f])}}return h}b.ConvertDateToString=function(g){var f=Clone(g);return a(f)}}(window.JSON=window.JSON||{}));window.WaitingPopup=(function(){var c=new d();function f(i,j,l){this.m_Popup=null;this.m_PopupDelay=l===undefined?150:l;this.DelayedShowTimerId=null;this.ViewModel=new g(i);var k=$("<div>").addClass("TFPPanel").append($("<h2>").attr("data-bind","text: DisplayText")).append($("<img>").attr("src",Url.CoreImage("ajax-loader_transparent.gif")).attr("alt",Lang.Trans("Loading...")));if(j){k.append($("<br/>"));var h=$("<button>").text(Lang.Trans("Cancel")).button().click(j);k.append(h)}this.m_Popup=$("<div>").addClass("AjaxLoadingPopup").hide().append(k).appendTo("#main");if(this.m_Popup[0]&&!ko.dataFor(this.m_Popup[0])){ko.applyBindings(this.ViewModel,this.m_Popup[0])}}f.prototype.Show=function(){var h=this;c.RegisterDialog(this.Id());this.DelayedShowTimerId=setTimeout(function(){e(h.m_Popup)},this.m_PopupDelay);return this};function e(h){h.position({my:"center",at:"center",of:window});h.fadeIn(100);c.Show()}f.prototype.Close=function(){clearInterval(this.DelayedShowTimerId);c.UnregisterDialog(this.Id());if(this.m_Popup){this.m_Popup.remove();this.m_Popup=null}return this};var b=0;function a(){return b++}f.prototype.Id=function(){var h=a();this.Id=function(){return h};return h};function g(h){this.DisplayText=ko.observable(h)}function d(){var h=[];var i=null;this.RegisterDialog=function(j){if(h.length===0){i=$("<div id='AjaxLoadingOverlay'>").css({opacity:"0.0"}).appendTo("#main")}h.push(j)};this.Show=function(){if(!i.hasClass("Visible")){i.addClass("Visible").animate({opacity:"0.3"},500)}};this.UnregisterDialog=function(k){var j=h.indexOf(k);if(j!==-1){h.splice(j,1)}if(h.length===0){i.remove()}}}return f})();var TwpResult={TfpValidationError:"TfpValidationError",TfpReceiptTimeoutError:"TfpReceiptTimeoutError",TwpValidationError:"TwpValidationError",NativeAppVersionError:"NativeAppVersionError",UnknownError:"UnknownError"};(function(a){var j=new RegExp("[#?]");function b(m){var l=m.split(j)[0];return l}var k=[];$(document).ajaxSend(function(l,m){k.push(m)});$(document).ajaxComplete(function(l,m){k=$.grep(k,function(n){return n!==m})});a.AbortAllAjaxRequests=function(){$.each(k,function(l,m){m.abort()})};var g=[0,401];$.ajaxSetup({converters:{"text json":function(l){return JSON.parse(l,function(m,n){return JSON.ParseValue(n)})}},cache:false});a.DefaultOptions={Timeout:30000};a.AddIgnoreErrorCode=function(l){g.push(l)};a.LatestRequest={};a.LatestRequest.url="";function h(l,n,o){var m=l||"";if(o){m+=" \nurl: "+o}$("body").attr("AjaxError",(m).substring(0,255));UniqueAlert.Alert(l,n)}function e(m,n,o,l,p){if(!m&&o==="timeout"&&l==="timeout"){h(Lang.Trans("Timeout while waiting for response from {0}",p),Lang.Trans("Warning"));return}if(_.contains(g,n.status)){return}if(!n.responseText){if(!m){h(Lang.Trans("Ajax error: {0} returned null. Status={1}, TextStatus={2}, Error={3}",p,n.status,o,l))}else{Log.Info("The ajax request returned null - it is properly offline");return}}var q=d('id="WarningMessage"',n.responseText);if(q){h(Lang.Trans("Ajax error: {0} ({1})",q,p),Lang.Trans("Warning"));return}h(Lang.Trans("Ajax error: {0} ({1})",l,p),Lang.Trans("Warning"))}function d(p,l){if(!p||!l){return""}var o="<"+p+">",m="</"+p.split(" ")[0]+">",n=l.indexOf(o),q;if(n<0){return}l=l.substring(n+o.length+2,q);q=l.indexOf(m);if(q<0){return}l=l.substring(0,q);return l}a.AjaxUpload=function(m,l){$(m).ajaxSubmit({url:l.url,iframe:true,traditional:true,clearForm:l.clearForm!==false?true:false,cache:false,dataType:"text",data:l.data,beforeSubmit:l.beforeSubmit,timeout:_.isNumber(l.timeout)?l.timeout:a.DefaultOptions.Timeout,success:function(q,r,s){q=JSON.parse(q);var n=q.Message;if(n){n=n.replace(/.*<pre>(.*)<\/pre>.*/g,"$1")}var p=l.success;var o=l.error;if(q.Success&&l.success){p.call(this,q,n)}else{if(!q.Success&&typeof o==="function"){o(n)}}if(l.complete){l.complete(s,r)}},error:function(o,p,n){e(l.expectOffline,o,p,n,l.url);if(l.error){l.error(o.responseText)}if(l.complete){l.complete(o,p)}},statusCode:{401:function(){window.alert(Lang.Trans("Request is not authorised, please refresh the view."))}},complete:function(n){f(l,n)}})};function i(m,l){var p=null;if(m.showLoadingPopup){p=new WaitingPopup(Lang.Trans("Loading data..."));p.Show()}else{if(m.waitingPopup){var o=null;var n=Lang.Trans("Saving data...");if(m.waitingPopup!==true){n=m.waitingPopup.message||m.waitingPopup;if(m.waitingPopup.onCancel!==false){o=function(){if(l){l.abort();p.Close();if(_.isFunction(m.waitingPopup.onCancel)){m.waitingPopup.onCancel()}}}}}p=new WaitingPopup(n,o);p.Show()}}return p}a.Ajax=function(m){a.LatestRequest=m;var q=null;var p=m.success;var o=m.error;var n=m.complete;var s=b(m.url);var r=new Date();if(!m.noLog){Log.Info("AjaxRequest send: Url={0}, TS={1}".Format(s,DateFormatter.ToTfpDateTimeString(r)))}else{if(m.longPoll){Log.Core.LongPoll.WriteDebug("AjaxRequest send: Url={0}, TS={1}".Format(s,DateFormatter.ToTfpDateTimeString(r)))}}var v=function(w,y,x){if(!m.noLog){Log.Info("AjaxRequest returned successfully: Url={0}, Request Time={1} ms".Format(s,new Date()-r))}else{if(m.longPoll){Log.Core.LongPoll.WriteDebug("AjaxRequest returned successfully: Url={0}, Request Time={1} ms".Format(s,new Date()-r))}}if(m.dataType==="json"){if(w.Success===null||w.Success===undefined){h(Lang.Trans("Unexpected data received from '{0}': Success property not found.",m.url));return}if(!m.silent&&w.Message){if(q){q.Close()}h(w.Message,m.errorMessageTitle?m.errorMessageTitle:Lang.Trans("Warning"),this.url)}if(w.Success&&p){p.call(this,w.Data,w.Message)}else{if(!w.Success&&typeof o==="function"){o(x,w.ErrorType,w.Message)}}}else{p.call(this,w)}};var u=function(x,y,w){if(!m.longPoll){Log.Info("AjaxRequest returned with error: Url={0}, Request Time={1} ms, errStatus={2}".Format(s,new Date()-r,x.status))}if(q){q.Close()}if(y==="abort"&&m.callErrorOnAbort!==true){if(typeof m.Abort==="function"){m.Abort(x,y,w)}return}if(!m.silent){e(m.expectOffline,x,y,w,m.url)}if(o){o(x,y,w)}};var t=function(w,x){f(m,w);if(q){q.Close()}if(n){n(w,x)}};m.traditional=m.traditional!==undefined?m.traditional:true;m.cache=m.cache!==undefined?m.cache:false;m.contentType=m.contentType!==undefined?m.contentType:"application/json; charset=utf-8";m.type=m.type!==undefined?m.type:"POST";m.dataType=m.dataType!==undefined?m.dataType:"json";m.data=(m.processData!==false&&m.dataType==="json")?JSON.stringify(m.data):m.data;m.async=m.async!==undefined?m.async:true;m.success=v;m.error=u;m.complete=t;m.statusCode=m.statusCode!==undefined?m.statusCode:{401:function(w,x,y){PopupMessage.Confirm(y+"<br/><br/>"+Lang.Trans("Redirecting to logon")+"?",Lang.Trans("Authentication Error"),function(){window.location=Url.Account("LogOn",{ReturnUrl:window.location})})}};if(!_.isNumber(m.timeout)){m.timeout=a.DefaultOptions.Timeout}var l=$.ajax(m);q=i(m,l);return l};a.GetHtml=function(p){var n=p.complete||$.noop;var o=p.error||$.noop;var q=null;var l=_.extend({dataType:"html",statusCode:{401:function(r,s,t){PopupMessage.Confirm(t+"<br/><br/>"+Lang.Trans("Redirecting to logon")+"?",Lang.Trans("Authentication Error"),function(){window.location=Url.Account("LogOn",{ReturnUrl:window.location})})}},timeout:_.isNumber(p.timeout)?p.timeout:a.DefaultOptions.Timeout},p);l.error=function(s,t,r){if(!l.silent){e(l.expectOffline,s,t,r,l.url)}o.apply(this,arguments)};l.complete=function(r){f(l,r);if(q){q.Close()}n.apply(this,arguments)};var m=$.ajax(l);q=i(l,m);return m};var c=Utils.Functional.GetSet;a.Request=function(q,o,n,l,m,r){var p=this instanceof a.Request?this:Object.create(a.Request.prototype);p.m_AjaxObj={};p.m_AjaxHandle=null;p.Url(q);p.Data(o);p.OnSuccess(n);p.OnComplete(l);p.OnError(m);p.WaitingMessage(r);return p};_.extend(a.Request.prototype,{AjaxObject:c("m_AjaxObj"),AjaxHandle:function(){return this.m_AjaxHandle},Url:c("m_AjaxObj.url"),Data:c("m_AjaxObj.data"),OnSuccess:c("m_AjaxObj.success"),OnError:c("m_AjaxObj.error"),OnComplete:c("m_AjaxObj.complete"),WaitingMessage:c("m_AjaxObj.waitingPopup"),Abort:function(){if(this.m_AjaxHandle){this.m_AjaxHandle.abort()}return this},Commit:function(){this.m_AjaxHandle=a.Ajax(this.m_AjaxObj);return this.m_AjaxHandle}});$.fn.AjaxUpload=function(l){a.AjaxUpload(this,l);return this};function f(l,n){if(!n||!n.getAllResponseHeaders||n.getResponseHeader){return}var p=l.url.split("?")[0].substring(1);var o=n.getAllResponseHeaders().length;var m=n.getResponseHeader("Content-Length");Log.Info("AjaxActionResult - {0}".Format(p),o+"+"+m)}}(window.AjaxHelpers=window.AjaxHelpers||{}));function getCookie(a){var c,d,e,b=document.cookie.split(";");for(c=0;c<b.length;c++){d=b[c].substr(0,b[c].indexOf("="));e=b[c].substr(b[c].indexOf("=")+1);d=d.replace(/^\s+|\s+$/g,"");if(d===a){return unescape(e)}}}function getLocalCookie(a){return sessionStorage.getItem(a)}function setCookie(a,e,c,d){var b=escape(e===null?"":e)+(!c?"":"; expires="+c.toUTCString());if(d){b+="; path="+d}document.cookie=a+"="+b}function setLocalCookie(a,b){sessionStorage.setItem(a,b)}function saveToCookie(c,e,d,a){var b=new Date();b.setDate(b.getDate()+a);setCookie(c,e,b,d)}function loadFromCookie(a){if(!a){return null}var b=getCookie(a);if(b===null||b===undefined||b===""){return null}return b}function SaveObjToCookie(d,e,f,a){var b=JSON.ConvertDateToString(e);var c=JSON.stringify(b);saveToCookie(d,c,f,a)}function SaveObjToLocalCookie(c,d){var a=JSON.ConvertDateToString(d);var b=JSON.stringify(a);setLocalCookie(c,b)}function LoadObjFromCookie(c){var b=loadFromCookie(c);if(b===null){return null}try{var f=$.parseJSON(b);var d=JSON.ParseJSonData(f);return d}catch(a){return b}}function LoadObjFromLocalCookie(c){var b=getLocalCookie(c);if(b===null){return null}try{var f=$.parseJSON(b);var d=JSON.ParseJSonData(f);return d}catch(a){return b}}function Cookie(g,a,c,f,b){var e=g+"-"+a;var d=365;if(b&&typeof(b)==="number"){d=b/24}this.Save=function(i,h){if(h){saveToCookie(e,i,f,d)}else{SaveObjToCookie(e,{ObjWrapper:i},f,d)}};this.Load=function(){var h=LoadObjFromCookie(e);if(h===null){return null}if(h.ObjWrapper===undefined){return h}return h.ObjWrapper};if(c&&!this.Load()){this.Save(c)}}function LocalCookie(d,a,b){var c=d+"-"+a;this.Save=function(f,e){if(e){setLocalCookie(c,f)}else{SaveObjToLocalCookie(c,{ObjWrapper:f})}};this.Load=function(){var e=LoadObjFromLocalCookie(c);if(e===null){return null}if(e.ObjWrapper===undefined){return e}return e.ObjWrapper};if(b&&!this.Load()){this.Save(b)}};var LocalStorageAccessor;(function(f){function h(k,i){try{amplify.store(k,i);return{Success:true}}catch(j){return{Success:false,Error:j}}}f.Store=h;function e(i,k){var j=amplify.store(i);if(!k){return j}return j[k]}f.Get=e;function d(i){amplify.store(i,null)}f.Erase=d;function b(j){var i=this;var k=_.keys(amplify.store());_.each(k,function(l){if(!j||j(l)){i.Erase(l)}})}f.Clear=b;var g=(function(){function i(){}i.prototype.UpdateFromStorage=function(j){};i.prototype.ToStorage=function(){return null};return i})();f.StorageContent=g;var c=(function(){function i(k,j){this.Content=j;this.Key=k;this.UpdateFromStorage()}i.prototype.UpdateContent=function(j){j(this.Content);this.UpdateStorage()};i.prototype.UpdateFromStorage=function(){var k=f.Get(this.Key);if(_.isUndefined(k)){this.UpdateStorage()}else{var j=JSON.ParseJSonData(k);this.Content.UpdateFromStorage(j)}};i.prototype.UpdateStorage=function(){var j=this.Content.ToStorage();f.Store(this.Key,j)};return i})();f.ContentStore=c;var a=(function(){function i(k,j){this.DefaultObj=window.Clone(j);this.Key=k;this.GetOrCreateStoredObject()}i.prototype.Get=function(j){var l=f.Get(this.Key,j);var k=JSON.ParseJSonData(l);return k};i.prototype.Set=function(k,m){var j=this.GetOrCreateStoredObject();var l=JSON.ConvertDateToString(m);j[k]=l;f.Store(this.Key,j)};i.prototype.GetOrCreateStoredObject=function(){var j=this.Get();if(!j){f.Store(this.Key,JSON.ConvertDateToString(this.DefaultObj));return this.DefaultObj}return j};return i})();f.Base=a})(LocalStorageAccessor||(LocalStorageAccessor={}));(function(a){var d="yy-mm-dd";var b="yy-mm-dd";var e="hh:mm";var c="M";a.Initialize=function(h,i,g){b=h;e=i;$.datepicker.setDefaults({dateFormat:b});$.datepicker.setDefaults({formatTime:e});$.timepicker.setDefaults({ampm:g||false});$.timepicker.setDefaults({timeFormat:e});$.datepicker.setDefaults({changeYear:true});$.datepicker.setDefaults({changeMonth:true});$.datepicker.setDefaults({numberOfMonths:1});Lang.OnInit(function(){$.datepicker.regional.amcs={closeText:Lang.Trans("Done"),prevText:Lang.Trans("Prev"),nextText:Lang.Trans("Next"),monthNames:[Lang.Trans("January"),Lang.Trans("February"),Lang.Trans("March"),Lang.Trans("April"),Lang.Trans("May"),Lang.Trans("June"),Lang.Trans("July"),Lang.Trans("August"),Lang.Trans("September"),Lang.Trans("October"),Lang.Trans("November"),Lang.Trans("December")],monthNamesShort:[Lang.Trans("Jan"),Lang.Trans("Feb"),Lang.Trans("Mar"),Lang.Trans("Apr"),Lang.Trans("May"),Lang.Trans("Jun"),Lang.Trans("Jul"),Lang.Trans("Aug"),Lang.Trans("Sep"),Lang.Trans("Oct"),Lang.Trans("Nov"),Lang.Trans("Dec")],dayNames:[Lang.Trans("Sunday"),Lang.Trans("Monday"),Lang.Trans("Tuesday"),Lang.Trans("Wednesday"),Lang.Trans("Thursday"),Lang.Trans("Friday"),Lang.Trans("Saturday")],dayNamesMin:[Lang.Trans("Su"),Lang.Trans("Mo"),Lang.Trans("Tu"),Lang.Trans("We"),Lang.Trans("Th"),Lang.Trans("Fr"),Lang.Trans("Sa")]};$.datepicker.setDefaults($.datepicker.regional.amcs)});TimeFormatter.Initialize()};function f(g){if(g<10){return"0"+g}return g}a.ToLogTime=function(g){g=g||new Date();var h=[g.getFullYear().toString(),"-",(g.getMonth()+1).toString().RightJustify(2,"0"),"-",g.getDate().toString().RightJustify(2,"0")," ",g.getHours().toString().RightJustify(2,"0"),":",g.getMinutes().toString().RightJustify(2,"0"),":",g.getSeconds().toString().RightJustify(2,"0"),".",g.getMilliseconds().toString().RightJustify(3,"0")];var i=h.join("");return i};a.ToTimeString=function(g,i){if(!g){return""}var j={hour:g.getHours(),minute:g.getMinutes(),second:g.getSeconds()};var h=e;if(i&&h.indexOf(":ss")===-1){h=h.replace("hh:mm","hh:mm:ss")}return $.datepicker.formatTime(h,j)};a.ToShortMonthString=function(g){if(!g){return""}var i="";try{i=$.datepicker.formatDate(c,g)}catch(h){}return i};a.ToDateString=function(g){if(!g){return""}var h=g;if(h instanceof DateOnly){if(!h.IsValid){return"("+Lang.Trans("Invalid")+")"}h=h.Date}var j="";try{j=$.datepicker.formatDate(b,h)}catch(i){}return j};a.ToDateTimeString=function(g,h){if(!g){return""}return a.ToDateString(g)+" "+a.ToTimeString(g,h)};a.ToTfpDateTimeString=function(g,h){if(!g){return null}var i=$.datepicker.formatDate(d,g);if(h!==false){i=i+" "+$.datepicker.formatTime("hh:mm:ss",{hour:g.getHours(),minute:g.getMinutes(),second:g.getSeconds()},{ampm:false})}return i};a.SetTimeOnDate=function(j,g){if(!g){return null}var i=TimeFormatter.TryParseTimeAmPm(j);if(!i||!i.Valid){return null}var h=new Date(g.getTime());h.setMilliseconds(0);h.setSeconds(i.Seconds);h.setMinutes(i.Minutes);h.setHours(i.Hours);return h};a.ToDateFromTfpString=function(k){var g=$.datepicker.parseDate(d,k.split(" ")[0]);var h=parseInt(k.substring(11,13),10);g.setHours(h);var i=parseInt(k.substring(14,16),10);g.setMinutes(i);var j=parseInt(k.substring(17,19),10);if(!isNaN(j)){g.setSeconds(j)}return g};a.ToDateFromString=function(g){var i=null;try{i=$.datepicker.parseDate(b,g)}catch(h){i=null}return i};a.ValidateDateString=function(g){var i=null;try{i=$.datepicker.parseDate(b,g)}catch(h){i=null}return i!==null};a.ValidateTimeString=function(g){return TimeFormatter.TryParseTimeAmPm(g).Valid};a.ToTimeStringFromInputAmPm=function(h){var g=TimeFormatter.TryParseTimeAmPm(h);if(!g||!g.Valid){return null}return f(g.Hours)+":"+f(g.Minutes)};a.ToTimeStringFromInput=function(h){var g=TimeFormatter.TryParseTime(h);if(!g.Valid){return null}return f(g.Hours)+":"+f(g.Minutes)}})(window.DateFormatter=window.DateFormatter||{});(function(){Date.prototype.getWeek=function(c){c=typeof(c)==="int"?c:0;var e=new Date(this.getFullYear(),0,1);var a=e.getDay()-c;a=(a>=0?a:a+7);var b=Math.floor((this.getTime()-e.getTime()-(this.getTimezoneOffset()-e.getTimezoneOffset())*60000)/86400000)+1;var g;if(a<4){g=Math.floor((b+a-1)/7)+1;if(g>52){var f=new Date(this.getFullYear()+1,0,1);var d=f.getDay()-c;d=d>=0?d:d+7;g=d<4?1:53}}else{g=Math.floor((b+a-1)/7)}return g};Date.prototype.sameDate=function(a){if(a===undefined||a===null){return false}return this.getFullYear()===a.getFullYear()&&this.getMonth()===a.getMonth()&&this.getDate()===a.getDate()};Date.prototype.GetTimeOfDay=function(){return new TimeSpan({Hours:this.getHours(),Minutes:this.getMinutes(),Seconds:this.getSeconds(),Miliseconds:this.getMilliseconds()})}})();(function(a){a.Date=function(b){return new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0,0)};a.Today=function(){return a.Date(new Date())};a.Sunday=function(b){if(!b){b=a.Today()}var c=b.getDay();var d=b.getDate()-c;return a.AddDays(b,-d)};a.AddDays=function(b,c){var d=new Date(b.getTime());d.setDate(d.getDate()+c);return d};a.AddMonths=function(b,c){var d=new Date(b.getTime());d.setMonth(d.getMonth()+c);return d};a.AddHours=function(b,c){return new Date(b.getTime()+c*60*60*1000)};a.AddMinutes=function(b,c){return new Date(b.getTime()+c*60*1000)};a.AddSeconds=function(b,c){return new Date(b.getTime()+c*1000)};a.Comparison=function(c,d){return c.getTime()-d.getTime()}})(window.DateHelper=window.DateHelper||{});(function(c){var a=[];c.Initialize=function(){Lang.OnInit(function(){$.timepicker.setDefaults({currentText:Lang.Trans("Now")});$.timepicker.setDefaults({closeText:Lang.Trans("Done")});$.timepicker.setDefaults({timeText:Lang.Trans("Time")});$.timepicker.setDefaults({hourText:Lang.Trans("Hour")});$.timepicker.setDefaults({minuteText:Lang.Trans("Minute")})})};c.Time=function(f,g,i,h){if(f===-1){this.Valid=false}else{this.Valid=true}this.Hours=this.Valid?ToInt(f):0;this.Minutes=this.Valid?ToInt(g):0;this.Seconds=this.Valid?ToInt(i):0;if(h!==undefined&&this.Hours===12){this.Hours-=12}if(h){this.Hours+=12}return this};function e(f){return f.toString().RightJustify(2,"0")}c.Time.prototype.TotalMinutes=function(){if(!this.Valid){return 0}return this.Hours*60+this.Minutes};c.Time.prototype.TotalSeconds=function(){if(!this.Valid){return 0}return(this.Hours*60+this.Minutes)*60+this.Seconds};c.Time.prototype.As24Hour=function(i,g){if(!this.Valid){return""}var h="{0}:{1}";if(g){h+=":{2}"}var f=i?e(this.Hours):this.Hours;h=h.Format(f,e(this.Minutes),e(this.Seconds));return h};c.Time.prototype.As12Hour=function(k,i){if(!this.Valid){return""}var j="{0}:{1}";if(i){j+=":{2}"}j+=" {3}";var g=(this.Hours%12);if(g===0){g=12}var h=k?e(g):g;var f=this.Hours>11?"PM":"AM";j=j.Format(h,e(this.Minutes),e(this.Seconds),f);return j};function d(h,f,g){this.RegExp=new RegExp(h,"i");this.fn24hoursConverter=g;this.ampm=f;return this}d.prototype.Match=function(h,f){if(!f&&this.ampm){return null}var g=this.RegExp.exec(h);if(!g){return null}g.shift();return this.fn24hoursConverter.apply(this,g)};function b(f,g,h){return new c.Time(f,g,h)}a.push(new d("^([0-1]?\\d|2[0-3]):([0-6]\\d):([0-6]\\d)$",false,b));a.push(new d("^([0-1]?\\d|2[0-3])[:]?([0-6]\\d)$",false,b));a.push(new d("^([0-1]?\\d|2[0-3])$",false,b));a.push(new d("^([1-9]|1[0-2])\\s*(a|p)m?$",true,function(g,f){return new c.Time(g,0,0,f.toLowerCase()==="p")}));a.push(new d("^([1-9]|1[0-2])[:]?([0-6]\\d)\\s*(a|p)m?$",true,function(g,h,f){return new c.Time(g,h,0,f.toLowerCase()==="p")}));a.push(new d("^([1-9]|1[0-2]):([0-6]\\d):([0-6]\\d)\\s*(a|p)m?$",true,function(g,h,i,f){return new c.Time(g,h,i,f.toLowerCase()==="p")}));c.TryParseTimeAmPm=function(f){return c.TryParseTime(f,true)};c.TryParseTime=function(h,f){var g=null;if(!h){return new c.Time(-1)}_.any(a,function(i){g=i.Match(h,f);if(g){return true}});if(g){return g}else{return new c.Time(-1)}}})(window.TimeFormatter=window.TimeFormatter||{});var __extends=this.__extends||function(e,c){for(var f in c){if(c.hasOwnProperty(f)){e[f]=c[f]}}function a(){this.constructor=e}a.prototype=c.prototype;e.prototype=new a()};var Log;(function(f){(function(m){m[m.Error=0]="Error";m[m.Warning=1]="Warning";m[m.Info=2]="Info";m[m.BeginSection=3]="BeginSection";m[m.EndSection=4]="EndSection";m[m.BeginRequest=5]="BeginRequest";m[m.Debug=6]="Debug"})(f.LogLevel||(f.LogLevel={}));var h=f.LogLevel;var e=false;function d(n,m){n="LogInternal:"+n;if(!e){return true}if(_.isUndefined(m)){console.debug(n)}else{console.debug(n,m)}}function b(n,m){d(n,m);f.Logger.WriteObject(0,null,n,m)}f.Error=b;function l(n,m){f.Logger.WriteObject(1,null,n,m)}f.Warning=l;function c(n,m){f.Logger.WriteObject(2,null,n,m)}f.Info=c;function a(m){f.Logger.Clear(m)}f.Clear=a;var i=(function(){function m(o,q,p,n){this.Message=q?(q+": "+p):p;this.MessageType=o;this.Timestamp=new Date();this.Data=n;this.HasDispatched=false;this.DispatchId=null}m.Clone=function(o){var n=new m(o.MessageType,null,o.Message,o.Data);n.Timestamp=o.Timestamp;return n};return m})();f.LogMessage=i;var g=(function(m){__extends(n,m);function n(){m.call(this);this.DispatchId=null;this.DispatchTime=null;this.DispatchTimeStr=null;this.LogLevel=2;this.LastServerTime=null;this.LastClientResponseTime=null}n.prototype.UpdateFromStorage=function(o){this.DispatchId=o.DispatchId;this.DispatchTime=o.DispatchTime;this.DispatchTimeStr=o.DispatchTimeStr;this.LogLevel=o.LogLevel;this.LastServerTime=o.LastServerTime;this.LastClientResponseTime=o.LastClientResponseTime;d("Read data from storage",this)};n.prototype.ToStorage=function(){var o={DispatchId:this.DispatchId,DispatchTime:this.DispatchTime,DispatchTimeStr:this.DispatchTimeStr,LogLevel:this.LogLevel,LastServerTime:this.LastServerTime,LastClientResponseTime:this.LastClientResponseTime};d("Adding data to storage",o);return o};n.prototype.ReadyForDispatch=function(){if(this.DispatchId==null){d("ReadyForDispatch - Stored DispatchId is not set, ready for dispatching");return true}var o=new Date().getTime()-this.DispatchTime.getTime();if(o>30000){d("ReadyForDispatch - Stored Dispatchtime is "+o+"ms old, Dispatching");return true}d("ReadyForDispatch - We are not ready to dispatch: DeltaDispatchTime is"+o);return false};return n})(LocalStorageAccessor.StorageContent);var j=(function(m){__extends(n,m);function n(){m.call(this,"LogStorageInfo",new g())}Object.defineProperty(n.prototype,"LogLevel",{get:function(){return this.Content.LogLevel},set:function(o){this.UpdateContent(function(p){return p.LogLevel=o})},enumerable:true,configurable:true});Object.defineProperty(n.prototype,"LastServerTime",{get:function(){return this.Content.LastServerTime},set:function(o){this.UpdateContent(function(p){return p.LastServerTime=o})},enumerable:true,configurable:true});Object.defineProperty(n.prototype,"LastClientResponseTime",{get:function(){return this.Content.LastClientResponseTime},set:function(o){this.UpdateContent(function(p){return p.LastClientResponseTime=o})},enumerable:true,configurable:true});n.prototype.StopDispatching=function(){d("Stop dispatching");this.UpdateContent(function(o){return o.DispatchId=null})};n.prototype.DispatchIfReady=function(p,q){var o=this;this.UpdateFromStorage();d("DispatchIfReady");var r=new Date();if(!this.Content.ReadyForDispatch()){d("DispatchIfReady return false");return Promise.resolve(false)}this.UpdateContent(function(s){s.DispatchId=p;s.DispatchTime=new Date();s.DispatchTimeStr=DateFormatter.ToTfpDateTimeString(s.DispatchTime)});return new Promise(function(s){var t=function(){o.StopDispatching();s(true)};_.delay(function(){o.UpdateFromStorage();if(o.Content.DispatchId!==p){d("Another thread is dispatching for us - abort dispatch");s(false)}else{d("Running Dispatch Method");q().then(t,t)}},100)})};return n})(LocalStorageAccessor.ContentStore);var k=(function(){function m(){this.m_Messages=[];this.m_IsDispatching=false;this.m_DispatchId=new Date().getTime();this.m_LogStorageInfo=new j();this.m_DispatchMessageCount=100;this.m_DispatchIntervalMs=60000;this.m_CriticalMessageCount=2000;this.m_LogLevel=this.m_LogStorageInfo.LogLevel;this.GetMessages();CrashReporter.SubscribeOnError(this.OnJsError)}m.prototype.GetMessages=function(){var n=JSON.ParseJSonData(LocalStorageAccessor.Get("LogMessages"));if(n){this.m_Messages=_.map(n,function(o){return i.Clone(o)})}};m.prototype.StartLogging=function(){f.Info("Initializing client log (level: {0})".Format(this.m_LogLevel));if(this.m_Messages.length>1){this.DispatchMessages()}setInterval(this.DispatchMessages.bind(this),this.m_DispatchIntervalMs)};Object.defineProperty(m.prototype,"Messages",{get:function(){var n=_.map(this.m_Messages,function(o){return i.Clone(o)});return n},enumerable:true,configurable:true});m.prototype.Clear=function(n){AjaxHelpers.Ajax({url:Url.Core("ReportClientLogMessages"),data:[new i(0,null,"Client log cleared: {0}".Format(n||""),null)],silent:true,expectOffline:true,noLog:true});this.DispatchMessageChunks(Number.MAX_VALUE);this.m_Messages=[];this.SaveMessages()};m.prototype.OnJsError=function(r,s,q,n,p){var o="{0} ({1}, Line: {2}, Column: {3})".Format(r,s,q,n);f.Error(o,p?p.stack:null)};m.prototype.SetLogLevel=function(n){if(n!==this.m_LogLevel){f.Info("Updating client log level (level: {0})".Format(h[n]));this.m_LogLevel=n;this.m_LogStorageInfo.LogLevel=n}};m.prototype.Write=function(o,r,p,n){if(!this.IsLogEnabled(o)){return}var q=new i(o,r,p,n);this.LogToConsole(q.MessageType,q.Timestamp,q.Message,n?("\n"+n):null);this.LogToServer(q)};m.prototype.WriteObject=function(n,r,o,q){if(!this.IsLogEnabled(n)){return}var s=Utils.Object.SafeClone(q,2);var p=new i(n,r,o,q?JSON.stringify(s):null);this.LogToConsole(p.MessageType,p.Timestamp,p.Message,q);this.LogToServer(p)};m.prototype.WriteFromLocalMw=function(n){if(n.MessageType<=this.m_LogLevel){this.LogToServer(n)}};m.prototype.IsLogEnabled=function(n){return n===6||n<=this.m_LogLevel};m.prototype.LogToServer=function(n){n.DispatchId=this.m_DispatchId;this.m_Messages.push(n);if(this.m_Messages.length>=this.m_CriticalMessageCount){this.m_Messages=_.rest(this.m_Messages,this.m_DispatchMessageCount);return this.Write(0,null,"Critical message count encountered - removed first {0} messages".Format(this.m_DispatchMessageCount),null)}this.SaveMessages();if(this.m_Messages.length>=this.m_DispatchMessageCount){this.DispatchMessages()}};m.prototype.LogToConsole=function(o,r,p,n){var q=DateFormatter.ToLogTime(r)+" "+p;if(n){if(o===6&&console.debug){console.debug(q,n)}else{if(o===1&&console.warn){console.warn(q,n)}else{if(o===0&&console.error){console.error(q,n)}else{console.log(q,n)}}}}else{if(o===6&&console.debug){console.debug(q)}else{if(o===1&&console.warn){console.warn(q)}else{if(o===0&&console.error){console.error(q)}else{console.log(q)}}}}};m.prototype.SaveMessages=function(){d("SaveMessages : {0}".Format(this.m_Messages.length),this.m_Messages);var n=JSON.ConvertDateToString(this.Messages);if(!LocalStorageAccessor.Store("LogMessages",n).Success){this.m_Messages=[];LocalStorageAccessor.Store("LogMessages",[])}};m.prototype.MarkDispatched=function(n){var o=_.first(this.m_Messages,n);d("Mark dispatched messages {0}".Format(o.length,o));_.each(o,function(p){p.HasDispatched=true});this.SaveMessages()};m.prototype.RemoveDispatched=function(){this.m_Messages=_.filter(this.m_Messages,function(n){return !n.HasDispatched});d("Removing dispatched messages - msg count now is {0}".Format(this.m_Messages.length,this.m_Messages));this.SaveMessages()};m.prototype.GetDispatchMessages=function(){var n=_.filter(this.m_Messages,function(o){return o.HasDispatched});d("GetDispatchMessages",n);return n};m.prototype.LogDateDiscrepance=function(v,u){var o=new Date();var n=o.getTime();var p=n-v;if(p<0){return f.Error("The client time has reversed, this should not be possible: timediff = "+p)}else{if(p>30000){return f.Error("The client time has progressed more than the timeout: timediff = "+p)}}if(!this.m_LogStorageInfo.LastServerTime){return}if(!this.m_LogStorageInfo.LastClientResponseTime){return}var t=this.m_LogStorageInfo.LastServerTime.getTime();var s=this.m_LogStorageInfo.LastClientResponseTime.getTime();if(u-t<0){return f.Error("The received server time is less than the current last known: timediff = "+(u-t))}var r=t+(v-s)-30000;var q=t+(n-s)+30000;if(u<r){return f.Error("The server time is earlier than the minimum expected time:"+DateFormatter.ToLogTime(new Date(r)))}if(u>q){return f.Error("The server time is later than the maximum expected time:"+DateFormatter.ToLogTime(new Date(q)))}};m.prototype.DispatchMessageChunks=function(o){var n=this;d("Dispatch Message Chunks");return new Promise(function(t,s){n.MarkDispatched(o);var u=n;var v=new Date();var p=n.GetDispatchMessages();var r=_.find(n.m_Messages,function(w){return !w.Timestamp||!w.Timestamp.getTime()||(w.Timestamp.getTime()-v.getTime()>0)});if(r){var q=new i(0,null,"Found logged entry with invalid timestamp: msg='{0}' timestamp='{1}'".Format(r.Message,r.Timestamp),null);q.DispatchId=n.m_DispatchId;p.push(q)}_.each(p,function(x){if(x.Data&&!_.isString(x.Data)){var w=JSON.stringify(x.Data);x.Data=w.substring(0,100)}});AjaxHelpers.Ajax({url:Url.Core("ReportClientLogMessages"),data:p,silent:true,expectOffline:true,noLog:true,success:function(x){d("Dispatch Message Chunks returned");var w=new Date();n.LogDateDiscrepance(v.getTime(),x.getTime());u.m_LogStorageInfo.LastServerTime=x;u.m_LogStorageInfo.LastClientResponseTime=w;u.RemoveDispatched();if(u.m_Messages.length>=o){d("Dispatch additional chunks");return n.DispatchMessageChunks(o).then(t)}else{return t()}},error:function(w){if(w.status===200){u.RemoveDispatched()}s()}})})};m.prototype.DispatchMessages=function(){var n=this;if(this.m_IsDispatching||!_.any(this.m_Messages)){return Promise.resolve()}this.m_IsDispatching=true;return this.m_LogStorageInfo.DispatchIfReady(this.m_DispatchId,function(){return n.DispatchMessageChunks(n.m_DispatchMessageCount)}).then(function(){return d("Finish dispatching")}).then(null,function(o){return d("Error dispatching",o)}).then(function(){n.m_IsDispatching=false;return null})};return m})();f.MessageLogger=k;$(document).ready(function(){if(View&&View.Model&&View.Model.LogLevel!==undefined){f.Logger.SetLogLevel(View.Model.LogLevel);f.LogRegionManager.Instance().SetEnabledRegions(View.Model.LogRegions)}});f.Logger=new k();f.Logger.StartLogging()})(Log||(Log={}));var Log;(function(a){var b=(function(){function c(d,e){this.Message=d;this.Stopwatch=Stopwatch.StartNew();this.Scope=a.Section.Scope++;if(this.Scope===0||e){this.Write("start")}}c.prototype.Milestone=function(d){this.Write(d,this.Stopwatch.DurationMS())};c.prototype.End=function(e){var d=this.Stopwatch.DurationMS();if(!_.isUndefined(window.MwPerformance)){MwPerformance.Timer.AddDuration(this.Message,d)}this.Write(null,d,e);--a.Section.Scope};c.prototype.Write=function(d,f,g){g=g||1000;var e=new Array(this.Scope+1).join(" ");var h=e+this.Message;if(d){h+=" ["+d+"]"}if(f!==undefined){h+=" ("+f+"ms)";if(f<g){a.Core.LogSection.WriteDebug(h)}else{a.Core.LogSection.Write(h)}}};c.Start=function(d,f){var e=new c(d,f);return e};c.Scope=0;return c})();a.Section=b})(Log||(Log={}));var Log;(function(a){var b=(function(){function c(d){this.m_Name=d;this.m_Id=a.LogRegionManager.Instance().Register(this)}Object.defineProperty(c.prototype,"Id",{get:function(){return this.m_Id},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"Name",{get:function(){return this.m_Name},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"IsEnabled",{get:function(){return a.LogRegionManager.Instance().IsEnabled(this)},enumerable:true,configurable:true});c.prototype.WriteError=function(e,d){a.Logger.Write(0,this.m_Name,e,d)};c.prototype.WriteWarning=function(e,d){a.Logger.Write(1,this.m_Name,e,d)};c.prototype.Write=function(e,d){a.Logger.Write(2,this.m_Name,e,d)};c.prototype.WriteDebug=function(e,d){if(this.IsEnabled){a.Logger.Write(6,this.m_Name,e,d)}};c.prototype.WriteDebugObject=function(d,e){if(this.IsEnabled){a.Logger.WriteObject(6,this.m_Name,d,e)}};c.prototype.StartSection=function(d){return TwpPerformance.CreateProfileSection(this,d,false)};c.prototype.StartSectionSilent=function(d){return TwpPerformance.CreateProfileSection(this,d,true)};c.prototype.StartSectionDebug=function(d){return TwpPerformance.CreateProfileSectionDebug(this,d)};c.prototype.StartProfiling=function(e,d){return TwpPerformance.CreateProfiler(this,e,d)};return c})();a.LogRegion=b})(Log||(Log={}));var Log;(function(a){var b=(function(){function c(){this.m_LogRegions=[];this.m_EnabledIds=null;this.m_EnabledRegions=LocalStorageAccessor.Get("LogRegions")||["*"];this.LogEnabledLogRegions()}c.Instance=function(){if(!c.m_Instance){c.m_Instance=new c()}return c.m_Instance};c.prototype.Register=function(d){this.m_LogRegions.push(d);this.m_EnabledIds=null;return this.m_LogRegions.length-1};c.prototype.SetEnabledRegions=function(d){if(this.m_EnabledRegions.join(",")==d.join(",")){return}this.m_EnabledRegions=d;LocalStorageAccessor.Store("LogRegions",this.m_EnabledRegions);this.LogEnabledLogRegions()};c.prototype.IsEnabled=function(d){if(this.m_EnabledIds===null){this.m_EnabledIds=this.CalcEnabledIds()}return this.m_EnabledIds[d.Id]};c.prototype.LogEnabledLogRegions=function(){a.Logger.Write(2,"Core.Log","Enabled log regions: {0}".Format(this.m_EnabledRegions.join(", ")),null)};c.prototype.CalcEnabledIds=function(){var d=this;var e=[];for(var f=0;f<this.m_LogRegions.length;++f){e.push(false)}_.each(this.m_EnabledRegions,function(g){if(_.last(g)==="*"){var i=g.substring(0,g.length-1);_.chain(d.m_LogRegions).filter(function(j){return j.Name.substring(0,i.length)===i}).each(function(j){return e[j.Id]=true}).value()}else{var h=_.find(d.m_LogRegions,function(j){return j.Name===g});if(h){e[h.Id]=true}}});return e};return c})();a.LogRegionManager=b})(Log||(Log={}));var Log;(function(a){var b;(function(c){c.FreeTextSearch=new a.LogRegion("Core.FreeTextSearch");c.InputConverter=new a.LogRegion("Core.InputConverter");c.Log=new a.LogRegion("Core.Log");c.LogSection=new a.LogRegion("Core.LogSection");c.LongPoll=new a.LogRegion("Core.LongPoll");c.Map=new a.LogRegion("Core.Map");c.Promise=new a.LogRegion("Core.Promise");c.Timer=new a.LogRegion("Core.Timer")})(b=a.Core||(a.Core={}))})(Log||(Log={}));var Log;(function(b){var a;(function(c){c.View=new b.LogRegion("CustomerService.View")})(a=b.CustomerService||(b.CustomerService={}))})(Log||(Log={}));var Log;(function(a){var b;(function(d){d.ApplicationCache=new a.LogRegion("MobileWeb.ApplicationCache");d.Changes=new a.LogRegion("MobileWeb.Changes");d.Error=new a.LogRegion("MobileWeb.Error");d.GeoLocation=new a.LogRegion("MobileWeb.GeoLocation");d.OutsideChanges=new a.LogRegion("MobileWeb.OutsideChanges");d.LongPolling=new a.LogRegion("MobileWeb.LongPolling");d.Performance=new a.LogRegion("MobileWeb.Performance");d.Persistence=new a.LogRegion("MobileWeb.Persistence");d.PushNotifications=new a.LogRegion("MobileWeb.PushNotifications");d.Nfc=new a.LogRegion("MobileWeb.Nfc");d.ServiceWorker=new a.LogRegion("MobileWeb.ServiceWorker");d.StatusChange=new a.LogRegion("MobileWeb.StatusChange");d.ViewModelLoader=new a.LogRegion("MobileWeb.ViewModelLoader");var c;(function(f){f.Iterator=new a.LogRegion("MobileWeb.Breadcrumbs.Iterator");f.TraceLocator=new a.LogRegion("MobileWeb.Breadcrumbs.TraceLocator")})(c=d.Breadcrumbs||(d.Breadcrumbs={}));var e;(function(f){f.ScopeManager=new a.LogRegion("MobileWeb.Segments.ScopeManager")})(e=d.Segments||(d.Segments={}))})(b=a.MobileWeb||(a.MobileWeb={}))})(Log||(Log={}));(function(a){a.Button=function(e,b,g,c,i,d,h,f){this.Id=e;this.Class=b;this.Name=g;this.Title=i;this.Icon=c;this.IconRight=d;this.Properties=h;this.Url=null;this.IsCheckbox=f};_.extend(a.Button.prototype,{CreateHtml:function(){return a.CreateButtonList([this])}});a.CreateButtonList=function(b){var c="<div class='ButtonList'><ul class='ui-helper-reset'>";_.each(b,function(d){if(d.IsCheckbox){c+="<li><input type='checkbox'"}else{c+="<li"}if(d.Id){c+=" id='"+d.Id+"'"}if(d.Title){c+=" title='"+d.Title+"'"}if(d.Class){c+=" class='"+d.Class+"'"}if(d.Click){c+=" onclick='"+d.Click+"'"}if(d.Properties){c+=" "+d.Properties}c+=">";if(d.Icon){c+="<div class='IconWrapper'><span class='ui-icon "+d.Icon+"'></span></div>"}if(d.Name){if(d.Url){c+="<a href='"+d.Url+"'>"+d.Name+"</a>"}else{c+="<span ";if(d.IsCheckbox&&d.Class){c+="class='"+d.Class+"Name'"}c+=">"+d.Name+"</span>"}}if(d.IconRight){c+="<div class='IconWrapper'><span class='ui-icon "+d.IconRight+"'></span></div>"}c+="</li>"});c+="</ul></div>";return c};a.Buttons={Add:function(b,c){return new a.Button(b,"Add",Lang.Trans("Add"),"ui-icon-plusthick",null,null,c)},Cancel:function(b,c){return new a.Button(b,"Cancel",Lang.Trans("Cancel"),"ui-icon-closethick",null,null,c)},CheckAll:function(b,c){return new a.Button(b,"CheckAll",Lang.Trans("Check all"),"ui-icon-check",null,null,c)},ClearAll:function(b,c){return new a.Button(b,"ClearAll",Lang.Trans("Clear all"),"ui-icon-trash",null,null,c)},Delete:function(b,c){return new a.Button(b,"Delete",Lang.Trans("Delete"),"ui-icon-closethick",null,null,c)},Edit:function(b,c){return new a.Button(b,"Edit",Lang.Trans("Edit"),"ui-icon-pencil",null,null,c)},New:function(b,c){return new a.Button(b,"New",Lang.Trans("New"),"ui-icon-plusthick",null,null,c)},Save:function(b,c){return new a.Button(b,"Save",Lang.Trans("Save"),"ui-icon-check",null,null,c)},ShowSelected:function(b,c){return new a.Button(b,"ShowSelected",Lang.Trans("Show selected"),null,null,null,c,true)},Comment:function(c,b){return new a.Button(null,b||"CommentButton","","ui-icon-comment",c)}}}(window.ButtonList=window.ButtonList||{}));ko.bindingHandlers.time={init:function(b,d,a){var c=a().timeOptions||{};c.InputChanged=function(){var e=d();var f=$(b).time("getTimeAsString");e(f)};c=$.extend({InputChanged:function(e){$(e).change()}},c);$(b).time(c);ko.utils.domNodeDisposal.addDisposeCallback(b,function(){$(b).time("destroy")})},update:function(b,d){var c=ko.utils.unwrapObservable(d());var a=$(b).time("getTimeAsString");if(c-a!==0){$(b).val(c);$(b).time("update")}}};(function(a){a.widget("ui.time",{options:{skipHourValidation:false,InputCancelled:null,InputChanged:null,ValidateInput:function(){return true},maxDuration:24,includeMaxValue:false,isDuration:false,allowEmpty:false,fixed24HourFormat:false},_create:function(){var b=this;this.element.addClass("TimeInput");this.element.on("blur",function(){b._formatInput.apply(b);b._InputChanged()});this.element.on("keydown",function(){b._keyDown.apply(b,arguments)});this.element.on("focus",function(){b._SaveInitialValue.apply(b)});this.internalTime=new TimeFormatter.Time(0,0)},_SaveInitialValue:function(){this.defaultValue=this.element[0].value},_keyDown:function(b){var c=this;if(b.which===13){c._formatInput.apply(c);c._InputChanged()}else{if(b.which===9){c._trigger("blur")}else{if(b.which===27){c._InputCancelled.apply(c)}}}},_InputChanged:function(){if(this.options.InputChanged){this.options.InputChanged(this.element)}},_InputCancelled:function(){this.element.val(this.defaultValue);if(this.options.InputCancelled){this.options.InputCancelled(this.element)}},_InputValidated:function(b){if(this.options.ValidateInput){return this.options.ValidateInput(this.element,b)===true}},_formatInput:function(){if(this.options.isDuration){this._FormatDuration()}else{this._FormatTime()}},update:function(){this._formatInput()},setTime:function(c){if(is("String",c)){this.element.val(c)}else{if(is("Date",c)){var b=c.getMinutes();if(b<10){b="0"+b}var d=c.getHours()+":"+b;this.element.val(d)}}this._formatInput();this._InputChanged()},getTime:function(){return this.internalTime},getTimeAsString:function(){return this.internalTime.As24Hour(true)},destroy:function(){a(this.element).off("blur");a(this.element).off("keydown");a(this.element).off("focus");a.Widget.prototype.destroy.call(this)},getDisplayString:function(){if(this.options.isDuration){return this.internalTime.As24Hour(true)}return this.internalTime.As12Hour(true)},_FormatDuration:function(){var b=a(this.element);var d=b.val();var c=TimeFormatter.TryParseTime(d);if(!this.options.allowEmpty||d.length!==0){if(!c.Valid){d=this.defaultValue}else{if(c.Hours>this.options.maxDuration){d=this.defaultValue}else{if(c.Hours===this.options.maxDuration&&this.options.includeMaxValue&&c.Minutes!==0){d=this.defaultValue}else{d=c.As24Hour()}}}c=TimeFormatter.TryParseTime(d);if(!this._InputValidated(d)){return}b.val(d);if(c.Valid){this.internalTime=c}}else{this.internalTime=c}},_FormatTime:function(){var b=a(this.element);var d=b.val();var c=TimeFormatter.TryParseTime(d,true);if(!this.options.allowEmpty||d.length!==0){if(!c.Valid){if(this.defaultValue){d=this.defaultValue;c=TimeFormatter.TryParseTime(d,true)}}else{if(this.options.fixed24HourFormat){d=c.As24Hour()}else{d=c.As12Hour()}}if(!this._InputValidated(d)){return}b.val(d);if(c.Valid){this.internalTime=c}}else{this.internalTime=c}}})})(jQuery);(function(b,d){var a=null;function c(){if($(this).hasClass("JustOpened")){return}var e=$(this).hasClass("ui-selected");$("ul#menu li.ui-selected").removeClass("ui-selected");$("ul#menu>li>ul.submenu").hide();if(!e){$(this).find("ul").show();$(this).addClass("ui-selected")}}$(document).ready(function(){var e=$("#menu>li:not(.PortalSelector):has(ul)");e.click(c);e.mouseenter(function(){$(this).addClass("Hover");if($(this).hasClass("ui-selected")){return}if($("ul#menu li.ui-selected").length>0){c.apply(this,arguments)}else{var f=this;setTimeout(function(){if($(f).hasClass("Hover")&&!$(f).hasClass("ui-selected")){c.apply(f,arguments);$(f).addClass("JustOpened");setTimeout(function(){$(f).removeClass("JustOpened")},300)}},150)}});$("#menu>li").mouseleave(function(){var f=$(this);f.removeClass("Hover");setTimeout(function(){if(f.hasClass("Hover")){return}f.find("ul").hide();f.removeClass("ui-selected")},200)});$(d).scroll(function(){$("#menucontainer").css("right",-$(this).scrollLeft())});a=new TfpSelectInstance();$("#SelectFleetInstanceMenuItem").removeAttr("href");$("#SelectFleetInstanceMenuItem").bind("click",function(){a.Open()})})}(window.Menu=window.Menu||{},window));(function(a){function b(e){var f="<ul class='PopupList'>";for(var d=0;d<e.length;++d){f+="<li><a class='"+e[d].Class+"'"+(e[d].Tooltip?" title='"+e[d].Tooltip+"'":"")+(e[d].Attribute?" "+e[d].Attribute.Name+"='"+e[d].Attribute.Value+"'":"")+" href='#'>"+e[d].Name+"</a></li>"}return f}a.widget("ui.ActionMenu",{options:{items:[],forceShowActionsButton:false,onCreatingPopupList:a.noop},_initialized:false,_popupList:null,_create:function(){if(this.element.hasClass("ActionMenu")){return}this.element.addClass("ActionMenu");if(this.options.items&&this.options.items.length>0){var d=this.options.items[0];this.element.append(a("<button class='"+d.Class+"'"+(d.Tooltip?" title='"+d.Tooltip+"'":"")+(d.Attribute?" "+d.Attribute.Name+"='"+d.Attribute.Value+"'":"")+">"+d.Name+"</button>"));if(!this.options.forceShowActionsButton&&this.options.items.length===1){this.element.children().last().button()}else{this.element.append(a("<button class='Actions' title='Actions'>"+Lang.Trans("Actions")+"</button>"));this.element.children().last().button({text:false,icons:{primary:"ui-icon-triangle-1-s"}});this.element.buttonset()}}},destroy:function(){if(this._initialized){this.element.find("PopupList").menu("destroy");this.element.find("button").button("destroy");this.element.empty()}this.element.removeClass("ActionMenu");a.Widget.prototype.destroy.call(this);this._popupList=null;this._initialized=false},show:function(){if(!this._initialized){this.options.onCreatingPopupList.apply(this.element[0],arguments);this._popupList=a(b(this.options.items)).menu();this.element.append(this._popupList);this._initialized=true}this._popupList.show().position({my:"right top",at:"right bottom",of:this._popupList.prev()});var d=this._popupList;a(document).one("click",function(){d.hide()})}});function c(){var d,e;if(a(this).is("button")){d=this;e=a(this).siblings(".PopupList")[0]}else{e=this;d=a(this).parent().find("button.Actions")[0]}setTimeout(function(){if(a(d).hasClass("ui-state-hover")||a(e).hasClass("Hover")){return}a(e).fadeOut()},200)}a.ActionMenu={};a.ActionMenu.InitEventHandlers=function(d){d.on("click",".ActionMenu button.Actions",function(){a(this).tooltip().tooltip("disable").tooltip("close");a(this).parent().ActionMenu("show");return false});d.on("mouseenter",".ActionMenu button.Actions",function(){a(this).tooltip().tooltip("enable").tooltip("option","content",Lang.Trans("More actions"))});d.on("mouseleave",".ActionMenu button.Actions",function(){a(this).tooltip().tooltip("disable").tooltip("close");c.apply(this,arguments)});d.on("mouseenter",".ActionMenu ul.PopupList",function(){a(this).addClass("Hover")});d.on("mouseleave",".ActionMenu ul.PopupList",function(){a(this).removeClass("Hover");c.apply(this,arguments)})}})(jQuery);(function(a){a.widget("ui.DropDownFilter",{_Expanded:false,options:{Expand:false},_create:function(){var b=this;this._Expanded=this.options.Expand;this._DropDownFilterElm=this.element;if(this._DropDownFilterElm.hasClass("DropDownFilter")){return}this._DropDownFilterElm.addClass("DropDownFilter ui-widget-content ui-widget-content-a");this._DropDownFilterElm.wrap("<div class='DropDownFrame'>");this._ButtonElm=a("#pageheader").find(".HeaderElm").addClass("DropDownButton").click(function(){if(b._Expanded){b.close()}else{b.open()}b._Expanded=!b._Expanded;if(_.isFunction(b.options.fnOnExpandChanged)){b.options.fnOnExpandChanged(b._Expanded)}});a("#pageheader .HeaderElm h1").append("<span class='ui-icon ui-icon-arrowthickstop-1-s'>");this._ButtonElm.mouseover(function(){b._ButtonElm.parent().addClass("HoverOver")});this._ButtonElm.mouseout(function(){b._ButtonElm.parent().removeClass("HoverOver")});if(!this._Expanded){this._DropDownFilterElm.css("display","none")}},destroy:function(){this.element.removeClass("DropDownFilter");a.Widget.prototype.destroy.call(this)},open:function(){this._DropDownFilterElm.slideDown();this._ButtonElm.find(".ui-icon").removeClass("ui-icon-arrowthickstop-1-s").addClass("ui-icon-arrowthickstop-1-n")},close:function(){this._DropDownFilterElm.slideUp();this._ButtonElm.find(".ui-icon").removeClass("ui-icon-arrowthickstop-1-n").addClass("ui-icon-arrowthickstop-1-s")}})})(jQuery);(function(e){function c(g,f){this.m_DropDownOptions={Expand:false,Show:false};this.m_AjaxOptions={};this.FilterNode=f[0];this.ViewModel=new b(g);this.m_Cookie=null;this.m_CookieOmitKeys=null;this.m_DropDownFilterCookie=null}c.prototype.DropDownOptions=function(g,f){if(!_.isUndefined(g)){this.m_DropDownOptions.Show=g}if(!_.isUndefined(f)){this.m_DropDownOptions.Expand=f}return this};c.prototype.Activate=function(){var h=null;if(this.ViewModel.StandardFilters){_.each(this.ViewModel.StandardFilters.Filters(),function(i){if(i.IsDisabled()){i.Value(null)}});h=$("<div>").addClass("StandardFilters").attr("data-bind","component: { name: 'ko.component.FilterRegion', params: { RegionViewModel: StandardFilters }}, visible: StandardFiltersVisible")}var f=null;if(this.ViewModel.CustomFields){f=$("<div>").addClass("CustomFilters").attr("data-bind","component: { name: 'ko.component.FilterRegion', params: { RegionViewModel: CustomFields }}, visible: CustomFiltersVisible")}var g=$(this.FilterNode).find("[data-bind='click: Apply']");if(g.length){if(h){h.insertBefore(g)}if(f){f.insertBefore(g)}}else{if(h){$(this.FilterNode).append(h)}if(f){$(this.FilterNode).append(f)}}if(this.m_DropDownOptions.Show){$(this.FilterNode).DropDownFilter({Expand:this.m_DropDownOptions.Expand,fnOnExpandChanged:function(i){this.m_DropDownOptions.Expand=i;if(this.m_DropDownFilterCookie){this.m_DropDownFilterCookie.Save(this.m_DropDownOptions)}}.bind(this)})}ko.applyBindings(this.ViewModel,this.FilterNode);return this};c.prototype.SetCookie=function(f,k,j){if(j&&typeof(Storage)!=="undefined"){this.m_Cookie=new LocalCookie(f)}else{this.m_Cookie=new Cookie(f,null,null,null,View.FilterCookieLifetime)}this.m_CookieOmitKeys=k;var i=this.m_Cookie.Load();if(i){var g=this.Filter();var l=a(g,i);this.Filter(l)}this.m_DropDownFilterCookie=new Cookie(f+"-DropDownFilter",null,null,null,View.FilterCookieLifetime);var h=this.m_DropDownFilterCookie.Load();if(h){$.extend(this.m_DropDownOptions,h)}return this};function a(g,f){var h=_.keys(g);return _.extend(g,_.pick(f,h))}c.prototype.SaveToCookie=function(){if(this.m_Cookie){var f=_.omit(this.Filter(),this.m_CookieOmitKeys);this.m_Cookie.Save(f)}};c.prototype.RestrictSelectionOptions=function(h,g){var f=this.Filter();f[h]=_.intersection(f[h],_.pluck(g,"ID"));this.Filter(f);return this};c.prototype.Load=function(l,k){if(this.m_AjaxLoadRequest){this.m_AjaxLoadRequest.abort()}var g=l||this.Filter();var h=d(g);var i=this;var f={data:h};f=_.extend(f,this.m_AjaxOptions);var j=this.m_AjaxOptions.complete;k=k||this.m_AjaxOptions.success;f.complete=function(m,n){i.m_AjaxLoadRequest=null;if(j){j.call(i,m,n)}};f.success=function(m){k.call(i,m,g)};this.m_AjaxLoadRequest=AjaxHelpers.Ajax(f)};function d(g){var h=Clone(g);h=CustomFields.TransformDatesToStr(h);if(h.DynamicFilterContent){CustomFields.TransformDatesToStr(h.DynamicFilterContent);var f=Clone(h.DynamicFilterContent);h.DynamicFilterContent=_.map(_.keys(f),function(i){var j={Id:i,Value:f[i]};return j})}return h}c.prototype.OnApply=function(j,h,f,i){var g=this;this.m_AjaxOptions=f||{};this.m_AjaxOptions.url=j;this.m_AjaxOptions.success=h;this.ViewModel.SetFromUrl(i);this.ViewModel.Apply=function(){var k=g.Filter();g.SaveToCookie();g.Load(k,h)};return this};c.prototype.Apply=function(){this.ViewModel.Apply();return this};c.prototype.Filter=function(f){if(f!==undefined){this.ViewModel.UpdateFromJs(f)}else{return this.ViewModel.ToJs()}};c.prototype.AddFilterItem=function(f,g){var j;if(_.isString(f)){j=this.ViewModel[f]}else{j=f}if(!j){throw new Error("Could not find valueObservable based on '{0}'".Format(f))}var i=_.findWhere(View.Model.FilterSetup,{Id:"VIEW[{0}]".Format(g.Id)});var h=i&&!i.IsVisible;this.ViewModel.StandardFilters.AddFilter(g,j,h);return this};function b(f){ko.mapping.fromJS(f,{ignore:["CustomFields"]},this);this.CustomFields=f.CustomFields===false?null:new koComponents.FilterRegion.CustomFilterViewModel(f.CustomFields||_.filter(View.Model.FilterSetup,function(g){return g.ObjectType!=="VIEW"}));this.CustomFiltersVisible=ko.observable(true);this.StandardFilters=new koComponents.FilterRegion.StandardFilterViewModel();this.StandardFiltersVisible=ko.observable(true)}b.prototype.ObjectFromUrl=function(){var f=location.hash.substring(1);if(!f){return}var g=[{RegEx:RegExp("=\\[","g"),Replace:'":['},{RegEx:/\]&/g,Replace:'],"'},{RegEx:/&/g,Replace:'","'},{RegEx:RegExp("=","g"),Replace:'":"'},{RegEx:/\[/g,Replace:'["'},{RegEx:/\]/g,Replace:'"]'}];_.each(g,function(i){f=f.replace(i.RegEx,i.Replace)});var h=f?JSON.parse('{"'+f+(f.EndsWith("]")?"}":'"}')):{};return h};b.prototype.SetFromUrl=function(f){f=!!f;var g=this.ObjectFromUrl();if(!g){return}_.each(_.keys(this),function(h){if(g.hasOwnProperty(h)){this[h](g[h])}else{if(typeof(this[h])==="function"&&!f){this[h](null)}}},this);location.hash=""};b.prototype.ToJs=function(){return _.extend(ko.mapping.toJS(this),{CustomFields:this.CustomFields.ToJs()})};b.prototype.UpdateFromJs=function(f){ko.mapping.fromJS(f,this);this.CustomFields.UpdateSelection(f.CustomFields)};e.CreateFilter=function(g,f){var h=new c(g,f);return h}}(window.ViewFilter=window.ViewFilter||{}));(function(a){var d=Utils.Class.Inherit;var c=Utils.Functional.GetSet;a.Base=function(f,e){var g=this;g.m_Dialog=null;this.m_Subscriptions=[];g.m_Elm=f;g.m_DialogOptions=null;g.m_DialogOptions=_.defaults({autoOpen:false,beforeClose:this.OnClose.bind(this),modal:true,resizable:false},e);g.m_Dialog=$(g.m_Elm).dialog(g.m_DialogOptions)};function b(e){return function(g){var f=e?this.m_Elm.dialog("option",e,g):this.m_Elm.dialog("option",g);return _.isUndefined(g)?f:this}}_.extend(a.Base.prototype,{Dialog:c("m_Dialog"),Elm:c("m_Elm"),DialogOptionObj:b(),Title:b("title"),Width:b("width"),Height:b("height"),Resizable:b("resizable"),Position:b("position"),On:function(f,e){this.m_Subscriptions.push(f);this.Elm().off(f).on(f,e)},Trigger:function(f,e){this.m_Elm.trigger(f,e)},Dispose:function(){var e=this.Elm();_.each(this.m_Subscriptions,function(f){e.off(f)});this.m_Subscriptions=[]},Open:function(){this.m_Dialog.dialog("open")},OnClose:function(){return true},Close:function(){this.m_Dialog.dialog("close")},DialogContainer:function(){var e=this.Elm().parent(".ui-widget-content");return e},ButtonPane:function(){var e=this.DialogContainer().find(".ui-dialog-buttonpane");return e},TitleBar:function(){var e=this.DialogContainer().find(".ui-dialog-titlebar");return e},Buttons:function(e){if(!e){return this.ButtonPane().find("button")}this.m_Elm.dialog("option","buttons",e);return this},Button:Utils.Functional.Variadic(function(g,h,e){var j=this.ButtonPane().find(".ui-button-text").filter(function(){if(!g){return true}return $(this).text().toLowerCase()===g.toLowerCase()});var f=j.parent("button");if(!h){return f}var i=$.map(f,function(k){var l=$(k);var m=l[h].apply(l,e);return m});return i})});a.BaseData=d(a.Base,function(f,g,e){a.Base.prototype.constructor.call(this,f,e);var h=this;h.m_Model=g||new koUtils.ViewModelBinder(f)});_.extend(a.BaseData.prototype,{Model:c("m_Model"),Data:c("m_Model.Data"),Open:function(e){this.Data(e);a.Base.prototype.Open.call(this)},ConfirmClose:function(){if(this.m_DialogOptions.SkipValidation||!this.m_Model.AnyChanges()){return true}var e=this;PopupMessage.Confirm(Lang.Trans("Changes will be lost, are you sure you want to continue?"),Lang.Trans("Unsaved changes"),function(){e.m_Model.RevertChanges();e.Close()});return false},OnClose:function(){return this.ConfirmClose()}});a.BaseSubmit=d(a.BaseData,function(f,j,h,e){var i=this;i.m_UploadUrl=j;i.m_Form=null;i.m_nForm=null;i.m_FileInput=null;i.m_SubmissionButton=null;e=_.defaults({buttons:{Upload:this.FormSubmit.bind(this),Cancel:this.Close.bind(this)}},e);var g={WrapInForm:function(k){if(k.is("form")){return k}var l=$("<form>").prop("method","post").prop("enctype","multipart/form-data").prop("action","#").addClass("UploadForm");k.wrap(l);return k.parent()},GetOrCreateSubmissionButton:function(k){var l=$(_.first(k.find("input[type='submit']")));if(_.any(l)){return l.hide()}l=$("<input>").prop("type","submit").addClass("UploadFormSubmit").hide().val("submit");k.append(l);return l}};i.m_FileInput=$(_.first(f.find("input[type='file']")));if(!i.m_FileInput){throw"An input element with type='file' needs to be defined"}i.m_Form=g.WrapInForm(i.m_FileInput);i.m_nForm=i.m_Form[0];i.m_SubmissionButton=g.GetOrCreateSubmissionButton(i.m_Form);i.m_Form.submit(this.OnSubmit.bind(this));a.BaseData.prototype.constructor.call(this,f,h,e)});_.extend(a.BaseSubmit.prototype,{UploadUrl:c("m_UploadUrl"),Form:c("m_Form"),Filename:function(){return this.m_FileInput.val()},FormData:function(e){var f;if(e){this.m_nForm.reset();this.Data(e);return this}f=this.Data();if(f){_.each(_.keys(f),function(g){if(_.isDate(f[g])){f[g]=DateFormatter.ToTfpDateTimeString(f[g],true)}})}return f},FormSubmit:function(){this.m_Form.submit()},Submit:function(){if(!this.Filename()&&!this.m_DialogOptions.SkipValidation){PopupMessage.Alert(Lang.Trans("Please select a file"));return false}var e=this.FormData();this.OnUpload(this.m_Form,e);return false},Open:function(e){this.FormData(e);a.Base.prototype.Open.call(this)},OnSubmit:function(){return this.Submit()},OnUpload:function(f,e){if(!this.m_UploadUrl){throw"No upload url is defined"}var g=this;AjaxHelpers.AjaxUpload(f,{url:this.m_UploadUrl,data:e,success:function(h){g.OnUploaded(h.Data)},error:this.OnUploadError,complete:this.OnUploadComplete.bind(this)})},OnUploaded:function(e){this.m_Elm.trigger("DocumentUploaded");this.Close();if(e&&e.Message){PopupMessage.Alert(e.Message,e.Title||Lang.Trans("Upload Successful"))}},OnUploadError:function(e){if(!e){e=Lang.Trans("Failed to upload files")}PopupMessage.Alert(e,Lang.Trans("Error"))},OnUploadComplete:function(){this.Close()}})}(window.Dialog=window.Dialog||{}));var TwpMaps;(function(h){function g(i){return i*Math.PI/180}function f(i){return(i*180/Math.PI+360)%360}function e(m,o,n,p){if(m===n&&o===p){return 0}var s=6371000;var q=g(m);var r=g(n);var l=g(n-m);var k=g(p-o);var i=Math.sin(l/2)*Math.sin(l/2)+Math.cos(q)*Math.cos(r)*Math.sin(k/2)*Math.sin(k/2);var j=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i));return s*j}function a(j,l,k,m){if(j===k&&l===m){return 360}var n=g(j);var o=g(k);var p=g(l);var q=g(m);var i=q-p;var s=Math.sin(i)*Math.cos(o);var r=Math.cos(n)*Math.sin(o)-Math.sin(n)*Math.cos(o)*Math.cos(i);return f(Math.atan2(s,r))}function b(i){if(i.Lng){return i}else{if(i.lng){return{Lat:i.lat,Lng:i.lng}}else{if(i.Lng){return{Lat:i.Lat,Lng:i.Lng}}else{if(i.longitude){return{Lat:i.latitude,Lng:i.longitude}}else{if(i.Long){return{Lat:i.Lat,Lng:i.Long}}else{PopupMessage.Alert(Lang.Trans("TwpMapsBeelineDistance error: ConvertToCoordSerializer - The coordinate format is not recognized."),Lang.Trans("Format error"))}}}}}}function d(k,l){var i=b(k);var j=b(l);return e(i.Lat,i.Lng,j.Lat,j.Lng)}h.GetBeeDistance=d;function c(k,l){var i=b(k);var j=b(l);return a(i.Lat,i.Lng,j.Lat,j.Lng)}h.GetBearing=c})(TwpMaps||(TwpMaps={}));var TwpMaps;(function(c){var b=[];var a=(function(){function d(f,e){this.m_Id=f;this.m_Coords=e}d.CalculateDccTrace=function(h,j,g,f,i){if(i===void 0){i=false}var k=h.Lat+h.Lng+j.Lat+j.Lng;var e=_.find(b,function(l){return l.m_Id===k});if(e){g(e.m_Coords);return null}return AjaxHelpers.Ajax({url:Url.Routes("Trace"),data:{from:h,to:j},silent:i,success:function(l){var m=_.map(l,function(n){return{Lat:n.Lat,Lng:n.Lng}});b.push(new d(k,m));g(m)},error:function(){f([h,j])}})};return d})();c.CachedTrace=a})(TwpMaps||(TwpMaps={}));var TwpMaps;(function(c){function b(h){if(!h.MarkerSizeLevel&&h.MarkerSizeLevel!==0){h.MarkerSizeLevel=5}var g="";if(h.MarkerText!==""&&h.MarkerText!==undefined){g+="<div class='leaflet-marker-text leaflet-marker-text-"+h.MarkerShape+"'>"+h.MarkerText+"</div>"}if(h.Labels){var e=h.Labels.DefaultColor?h.Labels.DefaultColor:"green";g+=a(h.Labels.TopLeft,e,"top","left",h.MarkerSizeLevel);g+=a(h.Labels.TopRight,e,"top","right",h.MarkerSizeLevel);g+=a(h.Labels.MiddleLeft,e,"middle","left",h.MarkerSizeLevel);g+=a(h.Labels.MiddleRight,e,"middle","right",h.MarkerSizeLevel);g+=a(h.Labels.BottomLeft,e,"bottom","left",h.MarkerSizeLevel);g+=a(h.Labels.BottomRight,e,"bottom","right",h.MarkerSizeLevel)}if(h.DirectionAngle||h.DirectionAngle===0){var f="south";if(h.DirectionAngle<-22.5&&h.DirectionAngle>-157.5){f+=""}else{if(h.DirectionAngle>22.5&&h.DirectionAngle<157.5){f+="north"}}if(h.DirectionAngle>-67.5&&h.DirectionAngle<67.5){f+="east"}if(h.DirectionAngle>112.5||h.DirectionAngle<-112.5){f+="west"}g+="<span class='leaflet-arrow leaflet-arrow-"+f+"'>&#10148;</span>"}var d=h.Blink?" blink":"";if(h.MarkerShape==="round"){return L.divIcon({className:"leaflet-marker-"+h.MarkerColor+"-"+h.MarkerShape+d,iconSize:new L.Point(h.MarkerSizeLevel*10,h.MarkerSizeLevel*10),iconAnchor:new L.Point(h.MarkerSizeLevel*5,h.MarkerSizeLevel*5),popupAnchor:[0,-200-h.MarkerSizeLevel*10],html:g})}else{if(h.MarkerShape==="circle"||h.MarkerShape==="square"||h.MarkerShape==="star"||h.MarkerShape==="penta"){return L.ExtraMarkers.icon({className:"extra-marker "+d,markerColor:h.MarkerColor,shape:h.MarkerShape,innerHTML:g})}else{if(h.MarkerShape==="terminal"){return L.divIcon({className:"leaflet-marker-terminal leaflet-marker-"+h.MarkerColor+d,iconSize:new L.Point(36,46),iconAnchor:new L.Point(18,46),popupAnchor:[0,-44],innerHTML:g})}else{return L.divIcon({className:"leaflet-marker-"+h.MarkerColor+d,iconSize:new L.Point(Math.round(h.MarkerSizeLevel*36/5),Math.round(h.MarkerSizeLevel*46/5)),iconAnchor:new L.Point(Math.round(h.MarkerSizeLevel*18/5),Math.round(h.MarkerSizeLevel*46/5)),popupAnchor:[0,Math.round(-4-h.MarkerSizeLevel*46/5)],html:g})}}}}c.GetMarkerIcon=b;function a(h,g,l,i,j){if(!h){return""}var e=g;var n="";if(typeof h==="string"){n=h}else{e=h.Color?h.Color:g;n=h.Text}if(!n){return""}var f=e?"leaflet-label"+e:"";var k=i=="left"?"right":"left";var d="'leaflet-label leaflet-label-"+e+" leaflet-label-"+l+" leaflet-label-"+i+"'";var m="'"+k+": "+j*6+"px'";return"<span class="+d+" style="+m+">"+n+"</span>"}})(TwpMaps||(TwpMaps={}));var TwpMaps;(function(b){var a=(function(){function c(n,m,o,h){var d=this;if(o===void 0){o={PolylineOptions:{}}}this.m_Map=n;this.m_Coords=m;this.m_TraceOptions=o;this.m_PopupOpenedByClick=false;var k=_.map(this.m_Coords,function(u){return new L.LatLng(u.Lat,u.Lng)});this.CalculatePolylineOptions();this.m_Line=new L.Polyline(k,this.m_TraceOptions.PolylineOptions);if(this.m_TraceOptions.LabelsFn){var j=this.m_TraceOptions.LabelsFn(this);if(j){var f=this.GetLineCenter();var t=_.extend(f,{Labels:j,MarkerSizeLevel:0});this.m_LabelsMarker=new b.Marker(this.m_Map,t);this.m_LabelsMarker.Add()}}if(this.m_TraceOptions.InvisibleTraceWeight){this.m_InvisibleLine=new L.Polyline(k,{weight:this.m_TraceOptions.InvisibleTraceWeight,opacity:0})}var q=this.m_TraceOptions.PopupFn;var p=this.m_TraceOptions.PopupText!==undefined||q!==undefined;var r=this.m_TraceOptions.PopupOptions&&this.m_TraceOptions.PopupOptions.OnHover;if(r&&!this.m_TraceOptions.PopupOptions.autoPan){this.m_TraceOptions.PopupOptions.autoPan=false}var s=this;var i=false;var g=true;var l=this.m_InvisibleLine?this.m_InvisibleLine:this.m_Line;var e=function(){var u=d.m_TraceOptions.PopupText?d.m_TraceOptions.PopupText:undefined;u=!u&&q?q(d):u;if(typeof u==="string"){l.bindPopup(u,d.m_TraceOptions.PopupOptions)}else{l.bindPopup(u,d.m_TraceOptions.PopupOptions)}};if(r&&p){l.on("popupopen",function(){i=true});l.on("popupclose",function(){i=false});l.on("mouseover",function(u){if(!i){e();l.openPopup(u.latlng);s.m_PopupOpenedByClick=false;g=false}});l.on("mouseout",function(){if(!s.m_PopupOpenedByClick&&i){l.closePopup();l.unbindPopup()}})}l.on("click",function(u){if(d.m_TraceOptions.ClickFn){d.m_TraceOptions.ClickFn(u,d)}else{if(p){if(!i||!s.m_PopupOpenedByClick){e();if(g){l.openPopup(u.latlng)}g=false;s.m_PopupOpenedByClick=true}}}});this.m_Line.addTo(this.m_Map);if(this.m_InvisibleLine){this.m_InvisibleLine.addTo(this.m_Map)}if(this.m_TraceOptions.ClickFn){l.on("click",function(u){d.m_TraceOptions.ClickFn(u)})}if(this.m_TraceOptions.DrawDirection){this.DrawArrows()}}c.prototype.GetStartCoord=function(){return this.m_Coords[0]};c.prototype.GetEndCoord=function(){return this.m_Coords[this.m_Coords.length-1]};c.prototype.GetDetailsStartCoord=function(){return this.m_Coords[0].Details};c.prototype.GetDetailsEndCoord=function(){return this.m_Coords[this.m_Coords.length-1].Details};c.prototype.DrawArrows=function(){this.m_ArrowHeads=new L.polylineDecorator(this.m_Line,{patterns:[{offset:50,repeat:200,symbol:new L.Symbol.ArrowHead({pixelSize:15,pathOptions:{fillOpacity:1,weight:0}})}]}).addTo(this.m_Map)};c.prototype.CalculatePolylineOptions=function(){if(this.m_TraceOptions.PolylineOptionsFn){this.m_TraceOptions.PolylineOptions=this.m_TraceOptions.PolylineOptionsFn(this)}if(!this.m_TraceOptions.PolylineOptions){_.extend(this.m_TraceOptions,{PolylineOptions:{}})}if(!this.m_TraceOptions.PolylineOptions.color){_.extend(this.m_TraceOptions.PolylineOptions,{color:"rgba(0, 54, 97, 0.75)"})}};c.prototype.GetBounds=function(){return this.m_Line.getBounds()};c.prototype.Clear=function(){if(this.m_Line){this.m_Map.removeLayer(this.m_Line);this.m_Line.clearAllEventListeners();this.m_Line=null}if(this.m_InvisibleLine){this.m_Map.removeLayer(this.m_InvisibleLine);this.m_InvisibleLine.clearAllEventListeners();this.m_InvisibleLine=null}if(this.m_ArrowHeads){this.m_Map.removeLayer(this.m_ArrowHeads);this.m_ArrowHeads=null}if(this.m_LabelsMarker){this.m_LabelsMarker.Remove();this.m_LabelsMarker=null}};c.prototype.SetLineColor=function(d){this.m_Line.setStyle({color:d})};c.prototype.RecalculatePolylineOptions=function(){this.CalculatePolylineOptions();this.m_Line.setStyle(this.m_TraceOptions.PolylineOptions)};c.prototype.GetLineCenter=function(){var d={Lat:0,Lng:0};if(!this.m_Coords||this.m_Coords.length<2){return d}var e=this.GetLineLength()/2;var f=0;var g=this.m_Coords[0];_.any(this.m_Coords,function(h){var i=b.GetBeeDistance(g,h);if(f+i>=e){if(i>0){var j=(e-f)/i;d.Lat=g.Lat+j*(h.Lat-g.Lat);d.Lng=g.Lng+j*(h.Lng-g.Lng)}return true}length+=i;g=h;return false});return d};c.prototype.GetLineLength=function(){var d=0;if(!this.m_Coords||this.m_Coords.length<2){return d}var e=this.m_Coords[0];_.each(this.m_Coords,function(f){d+=b.GetBeeDistance(e,f);e=f});return d};return c})();b.TraceSegment=a})(TwpMaps||(TwpMaps={}));var TwpMaps;(function(b){var a=(function(){function c(d){this.m_Map=d;this.m_TraceSegments=[]}c.prototype.GetTraceSegments=function(){return this.m_TraceSegments};c.prototype.Clear=function(){this.AbortCalc();_.each(this.m_TraceSegments,function(d){d.Clear()});this.m_TraceSegments=[];return this};c.prototype.CountSegments=function(){return this.m_TraceSegments.length};c.prototype.DrawTrace=function(d,e){this.Clear();if(d.length<2){return}this.CalcTraceNext(d,0,e,true);return this};c.prototype.BoundingBox=function(){var d=this.m_TraceSegments[0].GetBounds();_.forEach(this.m_TraceSegments,function(e){d.extend(e.GetBounds())});return d};c.prototype.CalcTraceNext=function(e,h,k,l){var d=this;if(e.length<=h+1){return}if(!k.UseDcc||!l){var g=k.DrawDirection;if(!g||typeof g==="boolean"){var j=_.first(e);var i=!k.ClickFn;i=i&&!k.DrawDirection;i=i&&!k.InvisibleTraceWeight;i=i&&!k.LabelsFn;i=i&&!k.PolylineOptionsFn;i=i&&!k.PopupFn;if(i){this.m_TraceSegments=[new b.TraceSegment(this.m_Map,e,k)]}else{this.m_TraceSegments=_.map(_.rest(e),function(m){var n=new b.TraceSegment(d.m_Map,[j,m],k);j=m;return n})}return}else{var j=_.first(e);var f=0;this.m_TraceSegments=_.map(_.rest(e),function(m){var n=f%g===0;var o=new b.TraceSegment(d.m_Map,[j,m],k,n);j=m;f++;return o});return}}this.CalculateTrace(e[h],e[h+1],k).done(function(){d.CalcTraceNext(e,h+1,k,true)}).fail(function(){d.CalcTraceNext(e,h+1,k,false)})};c.prototype.CalculateTrace=function(e,h,j){var d=this;var k=function(l){var m=new b.TraceSegment(d.m_Map,l,j);d.m_TraceSegments.push(m)};var i=function(){var l=new b.TraceSegment(d.m_Map,[e,h],j);d.m_TraceSegments.push(l)};if(this.m_Request){this.AbortCalc()}var g=this;var f=b.CachedTrace.CalculateDccTrace(e,h,k,i);if(!f){return $.Deferred().resolve().promise()}this.m_Request=f;return this.m_Request};c.prototype.AbortCalc=function(){if(this.m_Request){this.m_Request.abort();this.m_Request=null}};return c})();b.Trace=a})(TwpMaps||(TwpMaps={}));var TwpMaps;(function(c){var a=(function(){function d(g,e,f,i,h){this.m_Map=g;this.m_Circle=L.circle([e,f],i,h)}d.prototype.Add=function(){this.m_Map.addLayer(this.m_Circle)};d.prototype.Remove=function(){this.m_Map.removeLayer(this.m_Circle)};d.prototype.GetBounds=function(){return this.m_Circle.getBounds()};return d})();var b=(function(){function d(e){this.m_Map=e;this.m_Entries=[]}d.prototype.Add=function(e,g){var f=new a(this.m_Map,e.Lat,e.Lng,g,e.Options);f.Add();this.m_Entries.push(f)};d.prototype.Clear=function(){_.each(this.m_Entries,function(e){e.Remove()});this.m_Entries.length=0};d.prototype.Count=function(){return this.m_Entries.length};d.prototype.BoundingBox=function(){var e=this.m_Entries[0].GetBounds();_.forEach(this.m_Entries,function(f){e.extend(f.GetBounds())});return e};d.prototype.SetBoundingBox=function(){var e=this.BoundingBox();if(e&&e.isValid()){this.m_Map.fitBounds(e)}};return d})();c.Circles=b})(TwpMaps||(TwpMaps={}));var TwpMaps;(function(b){var a=(function(){function c(g,l,j){var d=this;this.m_Map=g;this.m_StopDetail=l;this.m_PopupOpenedByClick=false;var h=l.MarkerOptions?l.MarkerOptions:{};h.icon=b.GetMarkerIcon(l);h.details=l.Details;this.m_Marker=L.marker([this.m_StopDetail.Lat,this.m_StopDetail.Lng],h);if(l.DragEndFn){this.m_Marker.on("dragend",function(m){l.DragEndFn(m,l.Details)})}if(!j){j=l.PopupFn}var i=l.PopupText!==undefined||j!==undefined;var k=l.PopupOptions&&l.PopupOptions.OnHover;if(k&&!l.PopupOptions.autoPan){l.PopupOptions.autoPan=false}this.GetContent=function(){var m=d.m_StopDetail.PopupText?d.m_StopDetail.PopupText:undefined;return !m&&j?j(d.m_StopDetail.Details):m};var e=function(){if(d.GetContent()){d.m_Marker.bindPopup(d.GetContent(),d.m_StopDetail.PopupOptions)}};var f=false;if(k&&i){this.m_Marker.on("popupopen",function(){f=true});this.m_Marker.on("popupclose",function(){f=false});this.m_Marker.on("mouseover",function(){if(!d.m_Marker.getPopup()||!f){e();d.m_Marker.openPopup();d.m_PopupOpenedByClick=false}});this.m_Marker.on("mouseout",function(){if(!d.m_PopupOpenedByClick&&d.m_Marker.getPopup()&&f){d.m_Marker.closePopup();d.m_Marker.unbindPopup()}})}if(this.m_StopDetail.ClickFn||i){this.m_Marker.on("click",function(m){if(d.m_StopDetail.ClickFn){d.m_StopDetail.ClickFn(d.m_StopDetail.Details)}else{if(i){if(!d.m_Marker.getPopup()||!f||!d.m_PopupOpenedByClick){var n=!d.m_Marker.getPopup();e();if(n){d.m_Marker.openPopup()}d.m_PopupOpenedByClick=true}}}})}}c.prototype.Add=function(){this.m_Map.addLayer(this.m_Marker)};c.prototype.Remove=function(){this.m_Map.removeLayer(this.m_Marker);this.m_Marker.unbindPopup();this.m_Marker.clearAllEventListeners();this.m_Marker=null};c.prototype.Update=function(e){this.m_StopDetail=e;this.m_Marker.setIcon(b.GetMarkerIcon(this.m_StopDetail));var d=this.m_Marker.getPopup();if(d){d.setContent(this.GetContent())}};c.prototype.OpenPopup=function(){this.m_Marker.openPopup()};c.prototype.ClosePopup=function(){this.m_Marker.closePopup()};c.prototype.GetLatLng=function(){return this.m_Marker.getLatLng()};c.prototype.GetLMarker=function(){return this.m_Marker};return c})();b.Marker=a})(TwpMaps||(TwpMaps={}));var TwpMaps;(function(b){var a=(function(){function c(d){this.m_Map=d;this.m_Entries=[];this.m_MarkerCluster=null}c.prototype.Add=function(f,e){var d=new b.Marker(this.m_Map,f,e);d.Add();this.m_Entries.push(d)};c.prototype.AddToCluster=function(g,d,f){if(!this.m_MarkerCluster){this.m_MarkerCluster=new L.MarkerClusterGroup(d)}var e=new b.Marker(this.m_Map,g,f);this.m_MarkerCluster.addLayer(e.GetLMarker());this.m_Entries.push(e)};c.prototype.Update=function(e,d){this.m_Entries[d].Update(e)};c.prototype.Count=function(){return this.m_Entries.length};c.prototype.GetMarkerCluster=function(){return this.m_MarkerCluster};c.prototype.GetMarkers=function(){return this.m_Entries};c.prototype.Clear=function(){_.each(this.m_Entries,function(d){d.Remove()});this.m_Entries.length=0;if(!!this.m_MarkerCluster){this.m_MarkerCluster.clearLayers();this.m_Map.removeLayer(this.m_MarkerCluster);this.m_MarkerCluster=null}};c.prototype.BoundingBox=function(){return new L.LatLngBounds(_.map(this.m_Entries,function(d){return d.GetLatLng()}))};c.prototype.SetBoundingBox=function(e){var d=this.BoundingBox();if(d&&d.isValid()){this.m_Map.fitBounds(d,e)}};return c})();b.Markers=a})(TwpMaps||(TwpMaps={}));var TwpMaps;(function(b){var a=(function(){function c(d,f,e){this.m_Map=f;this.m_FnCheckZoom=e;this.m_Id=d;this.m_Markers=new b.Markers(this.m_Map);this.m_Trace=new b.Trace(this.m_Map);this.m_Circles=new b.Circles(this.m_Map);this.m_HeatLayer=null;this.m_HeatLatLngs=[]}Object.defineProperty(c.prototype,"Id",{get:function(){return this.m_Id},enumerable:true,configurable:true});c.prototype.GetMarkers=function(){return this.m_Markers.GetMarkers()};c.prototype.GetTrace=function(){return this.m_Trace};c.prototype.Clear=function(){this.m_Markers.Clear();this.m_Circles.Clear();this.ClearTrace();if(this.m_HeatLayer){this.m_HeatLayer.setLatLngs([])}this.m_HeatLatLngs.length=0;return this};c.prototype.BoundingBox=function(){var d=null;if(this.m_Markers.Count()>0){if(d){d.extend(this.m_Markers.BoundingBox())}else{d=this.m_Markers.BoundingBox()}}if(this.m_HeatLatLngs&&this.m_HeatLatLngs.length>0){if(d){d.extend(new L.LatLngBounds(this.m_HeatLatLngs))}else{d=new L.LatLngBounds(this.m_HeatLatLngs)}}if(this.m_Trace&&this.m_Trace.CountSegments()>0){if(d){d.extend(this.m_Trace.BoundingBox())}else{d=this.m_Trace.BoundingBox()}}if(this.m_Circles.Count()>0){if(d){d.extend(this.m_Circles.BoundingBox())}else{d=this.m_Circles.BoundingBox()}}return d};c.prototype.SetBoundingBox=function(g){var d=this.BoundingBox();if(d&&d.isValid()){this.m_Map.fitBounds(d,g)}else{if(d&&isFinite(d.getWest()+d.getSouth()+d.getEast()+d.getNorth())){var f=L.latLng(d.getWest(),d.getSouth());this.m_Map.setView(f,16)}else{var e=L.latLng(55.699641,12.531876);this.m_Map.setView(e,16)}}return this};c.prototype.SetStops=function(h,f,e,g){var d=this;if(this.m_FnCheckZoom(h.length,this.m_Map.getZoom())){return this}if(e){this.Clear()}_.each(h,function(j,i){if(!!j.MarkerColor){j.MarkerText=j.MarkerText||j.MarkerText===""||j.MarkerText===0?j.MarkerText:(i+1).toString()}else{if(i===0){j.MarkerColor="green"}else{if(i===h.length-1){j.MarkerColor="red"}else{j.MarkerColor="blue"}}}if(!!f){d.m_Markers.AddToCluster(j,f,g)}else{d.m_Markers.Add(j,g)}});if(f){this.m_Map.addLayer(this.m_Markers.GetMarkerCluster())}return this};c.prototype.UpdateStops=function(e){var d=this;_.each(e,function(g,f){d.m_Markers.Update(g,f)});return this};c.prototype.SetTrace=function(d,e){this.ClearTrace();if(e&&e.StartIsEnd){d.push(_.first(d))}this.m_Trace.DrawTrace(d,e);return this};c.prototype.SetHeat=function(f,h,d,g){if(f&&f.length>0){this.m_HeatLatLngs=f;if(!this.m_HeatLayer){this.m_HeatLayer=L.heatLayer([],{});this.m_Map.addLayer(this.m_HeatLayer)}var e=[];_.each(f,function(i){e.push(L.latLng(i[0],i[1]))});this.m_HeatLayer.setLatLngs(e);this.m_HeatLayer.setOptions({radius:h,blur:d,maxZoom:g})}return this};c.prototype.SetCircles=function(e,f){var d=this;_.each(e,function(g){d.m_Circles.Add(g,f?f:g.Radius)});return this};c.prototype.ClearTrace=function(){this.m_Trace.Clear();return this};return c})();b.Route=a})(TwpMaps||(TwpMaps={}));var TwpMaps;(function(b){var a=(function(){function c(e,d){this.m_Map=e;this.m_FnCheckZoom=d;this.m_RoutesVector=[]}Object.defineProperty(c.prototype,"RoutesVector",{get:function(){return this.m_RoutesVector},enumerable:true,configurable:true});c.prototype.Clear=function(){_.forEach(this.m_RoutesVector,function(d){d.Clear()});this.m_RoutesVector=[]};c.prototype.BoundingBox=function(){if(!_.any(this.m_RoutesVector)){return null}var d=this.m_RoutesVector[0].BoundingBox();_.forEach(this.m_RoutesVector,function(f){var e=f.BoundingBox();if(e&&e.isValid()){d.extend(e)}});return d};c.prototype.SetBoundingBox=function(g){var d=this.BoundingBox();if(d&&d.isValid()){this.m_Map.fitBounds(d,g)}else{if(d&&isFinite(d.getWest()+d.getSouth()+d.getEast()+d.getNorth())){var f=L.latLng(d.getWest(),d.getSouth());this.m_Map.setView(f,16)}else{var e=L.latLng(55.699641,12.531876);this.m_Map.setView(e,16)}}return this};c.prototype.AddRoute=function(e){var d=this;this.m_RoutesVector.push(new b.Route(e,this.m_Map,function(f,g){return d.m_FnCheckZoom(f,g)}));return this.m_RoutesVector[this.m_RoutesVector.length-1]};c.prototype.LastRoute=function(){if(this.m_RoutesVector.length===0){return this.AddRoute()}return this.m_RoutesVector[this.m_RoutesVector.length-1]};return c})();b.Routes=a})(TwpMaps||(TwpMaps={}));var TwpMaps;(function(b){var a=(function(){function c(f,e){var d=this;this.m_MapOptions=e;this.m_MapSettings={TileLayerProviderDefault:b.TileLayerProviderDefault,TileLayerProviderCustomizedUrl:b.TileLayerProviderCustomizedUrl,AutomaticClusteringMarkersMaxCount:parseInt(b.AutomaticClusteringMarkersMaxCount),AutomaticClusteringMarkersMinZoom:parseInt(b.AutomaticClusteringMarkersMinZoom)};if(!this.m_MapOptions){this.m_MapOptions={}}if(!this.m_MapOptions.tileProvider||this.m_MapOptions.tileProvider===null){this.m_MapOptions.tileProvider=this.m_MapSettings.TileLayerProviderDefault}this.m_MapOptions=_.defaults(this.m_MapOptions,{MapRotation:45,rotate:false});if(this.m_MapOptions.tileProvider==="NL_nationaalgeoregister"){var h=new L.Proj.CRS.TMS("EPSG:28992","+proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +towgs84=565.2369,50.0087,465.658,-0.406857330322398,0.350732676542563,-1.8703473836068,4.0812 +no_defs",[-285401.92,22598.08,595401.9199999999,903401.9199999999],{resolutions:[3440.64,1720.32,860.16,430.08,215.04,107.52,53.76,26.88,13.44,6.72,3.36,1.68,0.84,0.42]});_.extend(this.m_MapOptions,{crs:h,worldCopyJump:false,zoom:11,center:new L.LatLng(52.40131,4.8443)})}if(typeof f==="string"){this.m_Map=L.map(f,this.m_MapOptions)}else{this.m_Map=L.map(f,this.m_MapOptions)}this.m_Markers=new b.Markers(this.m_Map);this.m_Routes=new b.Routes(this.m_Map,function(i,j){return d.CheckAutomaticClustering(i,j)});var g=window.location.protocol;switch(this.m_MapOptions.tileProvider){case"OSM":L.tileLayer(g+"//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}).addTo(this.m_Map);break;case"NL_nationaalgeoregister":L.tileLayer(g+"//geodata.nationaalgeoregister.nl/tms/1.0.0/brtachtergrondkaart@EPSG:28992@png8/{z}/{x}/{y}.png",{tms:true,minZoom:0,maxZoom:13}).addTo(this.m_Map);break;case"HERE":L.tileLayer(g+"//{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{scheme}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}",{attribution:"Map &copy; "+(new Date()).getFullYear()+' <a href="http://developer.here.com">HERE</a>',subdomains:["1","2","3","4"],base:"pano",type:"rctile",scheme:"normal.day",app_id:"Q75dGRu0Q5hbRqlJHbtc",app_code:"NgddUeFLLeEFnZb-6NxCVw",mapID:"newest",maxZoom:20,language:"eng",format:"png",size:"256"}).addTo(this.m_Map);break;case"customized":L.tileLayer(g+"//"+this.m_MapSettings.TileLayerProviderCustomizedUrl).addTo(this.m_Map);break}if(this.m_MapOptions.automaticClustering){this.m_Map.on("zoomanim ",function(i){var j=_.reduce(d.Routes.RoutesVector,function(l,k){return l+k.GetMarkers().length},0);d.CheckAutomaticClustering(j,i.zoom)})}}c.prototype.AddLayer=function(d){this.m_Map.addLayer(d)};c.prototype.RemoveLayer=function(d){this.m_Map.removeLayer(d)};Object.defineProperty(c.prototype,"Map",{get:function(){return this.m_Map},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"Markers",{get:function(){return this.m_Markers},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"Routes",{get:function(){return this.m_Routes},enumerable:true,configurable:true});c.prototype.FitBounds=function(){this.m_Routes.SetBoundingBox()};c.prototype.Clear=function(){this.m_Routes.Clear();this.m_Markers.Clear();return this};c.prototype.AddRoute=function(d){return this.m_Routes.AddRoute(d)};c.prototype.GetRoute=function(d){return _.find(this.m_Routes.RoutesVector,function(e){return e.Id===d})};c.prototype.RemoveRoute=function(e){e.Clear();var d=this.Routes.RoutesVector.indexOf(e);if(d>-1){this.Routes.RoutesVector.splice(d,1)}};c.prototype.InvalidateSize=function(d){this.m_Map.invalidateSize(d);return this};c.prototype.Destroy=function(){this.Clear();this.m_Map.remove()};c.prototype.SetView=function(d,g,f){var e=L.latLng(d.Lat,d.Lng);this.m_Map.setView(e,g,f)};c.prototype.SetZoom=function(d){this.m_Map.setZoom(d)};c.prototype.GetZoom=function(){return this.m_Map.getZoom()};c.prototype.SetBearing=function(f,g){if(!this.m_MapOptions.rotate){return 0}var e=this.GetBearing();var d=e;while(d>f+180){d-=360}while(d<f-180){d+=360}var i=this.m_Map._rotatePane;if(e!=d){Log.Core.Map.WriteDebug("Changing map bearing. Resetting rotation from {0} to {1}".Format(e,d));i.style.transition="transform 0s linear";this.m_Map.setBearing(d)}if(Math.abs(d-f)>110){Log.Core.Map.WriteDebug("Changing map bearing. Instant change from {0} to {1}".Format(d,f));i.style.transition="transform 0s linear";this.m_Map.setBearing(f)}else{var h=this.m_MapOptions.maxRotation;if(this.GetBearing()-f>h){f=this.GetBearing()-h}else{if(this.GetBearing()-f<-h){f=this.GetBearing()+h}}Log.Core.Map.WriteDebug("Changing map bearing {0}. From: {1} To: {2}".Format(d,e,f));i.style.transition="transform {0}s linear".Format(g||0);this.m_Map.setBearing(f)}return f};c.prototype.GetBearing=function(){if(!this.m_MapOptions.rotate){return 0}return this.m_Map.getBearing()};c.prototype.GetBounds=function(){return this.m_Map.getBounds()};c.prototype.AddDragCallBack=function(d){this.m_Map.on("drag",d)};c.prototype.AddZoomEndCallback=function(d){this.m_Map.on("zoomend",d)};c.prototype.AddLocationFoundCallback=function(e,f){var d=this;f=_.defaults(f,{ShowLivePositionMarker:true,ShowLivePositionCircle:true});var h;var g;this.m_Map.locate({watch:true});this.m_Map.on("locationfound",function(i){if(h){d.m_Map.removeLayer(h)}if(g){d.m_Map.removeLayer(g)}var j=i.accuracy/2;if(f.ShowLivePositionMarker){h=L.marker(i.latlng).addTo(d.m_Map).bindPopup("You are within "+j+" meters from this point")}if(f.ShowLivePositionCircle){g=L.circle(i.latlng,j);g.addTo(d.m_Map)}if(e){e(d.m_Map,i)}});this.m_Map.on("locationerror",function(i){Log.Error("Location Error: "+i.message,null)})};c.prototype.CheckAutomaticClustering=function(d,g){if(!this.m_MapOptions.automaticClustering){return false}var e=this.m_MapSettings.AutomaticClusteringMarkersMaxCount;var f=this.m_MapSettings.AutomaticClusteringMarkersMinZoom;if(g<f&&d>e&&!this.m_MapOptions.automaticClustering.fnIsClusteringEnabled()){PopupMessage.Alert(Lang.Trans("There are too many markers on the map, we need to group them."),Lang.Trans("Warning"));this.m_MapOptions.automaticClustering.fnActivateClustering();return true}};return c})();b.Base=a})(TwpMaps||(TwpMaps={}));var TwpMaps;(function(b){var a=(function(){function c(h,i,g,f,e){var d=this;this.m_PopupTemplateName=g;this.m_FnShowMarkerInMap=f;h.keydown(function(j){if((j.ctrlKey||j.metaKey)&&j.keyCode===70){j.preventDefault();e();$("#SearchBar")[0].focus()}});i.autocomplete({source:function(j,k){return d.AutoCompleteAddress(j,k)},minLength:4,select:function(j,k){d.GeocodeAndShowAddressInMap(k.item.address)}});i[0].onsearch=function(k){var l=k.currentTarget.value.split(", ");var j={City:l[2],Country:"",County:"",HouseNo:"",HousePostfix:"",ZipCode:l[1],Road:l[0],Lat:-1,Lng:-1,Type:""};d.GeocodeAndShowAddressInMap(j)}}c.prototype.GeocodeAndShowAddressInMap=function(e){var d=this;AjaxHelpers.Ajax({url:Url.GeocodingPortal("GeocodeAddress"),data:{address:e},success:function(f){d.ShowAddressInMap(f)},error:function(){PopupMessage.Alert(Lang.Trans("Failed to geocode address."),Lang.Trans("Failed"))}})};c.prototype.AutoCompleteAddress=function(f,g){var d=this;var e={searchText:f.term,maxResults:10};AjaxHelpers.Ajax({url:Url.GeocodingPortal("AutoCompleteAddress"),data:e,success:function(i){var h=_.map(i,function(j){var k=d.FormatAddressSerializer(j);return{label:k,address:j}});g(h)}})};c.prototype.FormatAddressSerializer=function(d){return d.Road+(d.ZipCode?", "+d.ZipCode:"")+(d.City?", "+d.City:"")};c.prototype.ShowAddressInMap=function(e){var d=this;function h(i){if(!i||!i.Lat||!i.Lng||isNaN(i.Lng)||isNaN(i.Lat)){return"N/A"}return i.Lat.toFixed(5)+" "+i.Lng.toFixed(5)}var f=function(i){i.LatLngRound=h(i);i.Address1=i.Road;if(i.HouseNo){i.Address1+=" "+i.HouseNo}i.Address2=i.ZipCode+" "+i.City;i.AddressDefined=i.City||i.Road;var j=L.DomUtil.create("div","");$(j).attr("data-bind","template: '"+d.m_PopupTemplateName+"'");ko.applyBindings(i,j);return j};var g={Lat:e.Lat,Lng:e.Lng,PopupFn:function(i){return f(i)},PopupOptions:{OnHover:true},Details:e,MarkerColor:"blue",MarkerText:""};this.m_FnShowMarkerInMap(g)};return c})();b.MapSearchBar=a})(TwpMaps||(TwpMaps={}));(function(a){a.widget("ui.combobox",{_create:function(){var b,e=this,c=this.element.hide().addClass("overriddenCombo"),d=c.children(":selected"),f=d.val()?d.text():"",g=this.wrapper=a("<span>").addClass("ui-combobox").insertAfter(c);b=a("<input>").appendTo(g).val(f).addClass("ui-state-default ui-combobox-input").attr("id",a(c).attr("id")+"AutoComplete").autocomplete(a.extend({delay:0,minLength:0,source:function(i,j){var h=new RegExp(a.ui.autocomplete.escapeRegex(i.term),"i");j(c.children("option").map(function(){var k=a(this).text();if(this.value!=null&&(!i.term||h.test(k))){return{label:k.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+a.ui.autocomplete.escapeRegex(i.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>"),value:k,option:this,desc:a(this).data("description")}}}))},select:function(h,i){i.item.option.selected=true;e._trigger("selected",h,{item:i.item.option});c.trigger("change")},change:function(h,j){if(!j.item){var i=new RegExp("^"+a.ui.autocomplete.escapeRegex(a(this).val())+"$","i"),k=false;c.children("option").each(function(){if(a(this).text().match(i)){this.selected=k=true;return false}});if(!k){a(this).val("");c.val("");b.data("autocomplete").term="";return false}}}},this.options)).addClass("ui-widget ui-widget-content ui-corner-left");b.data("autocomplete")._renderItem=function(j,i){var h="<a>"+i.label;if(i.desc){h+="<br/><span class='TipText'>"+i.desc+"<span>"}h+="</a>";return a("<li></li>").data("item.autocomplete",i).append(h).appendTo(j)};a("<a>").attr("tabIndex",-1).attr("title","Show All Items").appendTo(g).button({icons:{primary:"ui-icon-triangle-1-s"},text:false}).removeClass("ui-corner-all").addClass("ui-corner-right ui-combobox-toggle").click(function(){if(b.autocomplete("widget").is(":visible")){b.autocomplete("close");return}a(this).blur();b.autocomplete("search","");b.focus()});this.Disable(a(c).prop("disabled"))},destroy:function(){this.wrapper.remove();this.element.show();a.Widget.prototype.destroy.call(this)},HideWrapper:function(b){if(b){this.wrapper.hide()}else{this.wrapper.show()}},UpdateSelectionText:function(){a("input",this.wrapper).val(a(":selected",this.element).text())},Disable:function(b){a("input",this.wrapper).prop("disabled",b);if(b){a("a",this.wrapper).hide();a("input",this.wrapper).addClass("ui-corner-right")}else{a("a",this.wrapper).show();a("input",this.wrapper).removeClass("ui-corner-right")}}})})(jQuery);(function(X,l,n){var L=function(h){var j=function(e){function o(a,b){var c=j.defaults.columns,d=a.aoColumns.length,c=h.extend({},j.models.oColumn,c,{sSortingClass:a.oClasses.sSortable,sSortingClassJUI:a.oClasses.sSortJUI,nTh:b?b:l.createElement("th"),sTitle:c.sTitle?c.sTitle:b?b.innerHTML:"",aDataSort:c.aDataSort?c.aDataSort:[d],mData:c.mData?c.oDefaults:d});a.aoColumns.push(c);if(a.aoPreSearchCols[d]===n||null===a.aoPreSearchCols[d]){a.aoPreSearchCols[d]=h.extend({},j.models.oSearch)}else{if(c=a.aoPreSearchCols[d],c.bRegex===n&&(c.bRegex=!0),c.bSmart===n&&(c.bSmart=!0),c.bCaseInsensitive===n){c.bCaseInsensitive=!0}}m(a,d,null)}function m(a,b,c){var d=a.aoColumns[b];c!==n&&null!==c&&(c.mDataProp&&!c.mData&&(c.mData=c.mDataProp),c.sType!==n&&(d.sType=c.sType,d._bAutoType=!1),h.extend(d,c),p(d,c,"sWidth","sWidthOrig"),c.iDataSort!==n&&(d.aDataSort=[c.iDataSort]),p(d,c,"aDataSort"));var i=d.mRender?Q(d.mRender):null,f=Q(d.mData);d.fnGetData=function(a,b){var c=f(a,b);return d.mRender&&b&&""!==b?i(c,b,a):c};d.fnSetData=L(d.mData);a.oFeatures.bSort||(d.bSortable=!1);!d.bSortable||-1==h.inArray("asc",d.asSorting)&&-1==h.inArray("desc",d.asSorting)?(d.sSortingClass=a.oClasses.sSortableNone,d.sSortingClassJUI=""):-1==h.inArray("asc",d.asSorting)&&-1==h.inArray("desc",d.asSorting)?(d.sSortingClass=a.oClasses.sSortable,d.sSortingClassJUI=a.oClasses.sSortJUI):-1!=h.inArray("asc",d.asSorting)&&-1==h.inArray("desc",d.asSorting)?(d.sSortingClass=a.oClasses.sSortableAsc,d.sSortingClassJUI=a.oClasses.sSortJUIAscAllowed):-1==h.inArray("asc",d.asSorting)&&-1!=h.inArray("desc",d.asSorting)&&(d.sSortingClass=a.oClasses.sSortableDesc,d.sSortingClassJUI=a.oClasses.sSortJUIDescAllowed)}function k(a){if(!1===a.oFeatures.bAutoWidth){return !1}da(a);for(var b=0,c=a.aoColumns.length;b<c;b++){a.aoColumns[b].nTh.style.width=a.aoColumns[b].sWidth}}function G(a,b){var c=r(a,"bVisible");return"number"===typeof c[b]?c[b]:null}function R(a,b){var c=r(a,"bVisible"),c=h.inArray(b,c);return -1!==c?c:null}function t(a){return r(a,"bVisible").length}function r(a,b){var c=[];h.map(a.aoColumns,function(a,i){a[b]&&c.push(i)});return c}function B(a){for(var b=j.ext.aTypes,c=b.length,d=0;d<c;d++){var i=b[d](a);if(null!==i){return i}}return"string"}function u(a,b){for(var c=b.split(","),d=[],i=0,f=a.aoColumns.length;i<f;i++){for(var g=0;g<f;g++){if(a.aoColumns[i].sName==c[g]){d.push(g);break}}}return d}function M(a){for(var b="",c=0,d=a.aoColumns.length;c<d;c++){b+=a.aoColumns[c].sName+","}return b.length==d?"":b.slice(0,-1)}function ta(a,b,c,d){var i,f,g,e,w;if(b){for(i=b.length-1;0<=i;i--){var j=b[i].aTargets;h.isArray(j)||D(a,1,"aTargets must be an array of targets, not a "+typeof j);f=0;for(g=j.length;f<g;f++){if("number"===typeof j[f]&&0<=j[f]){for(;a.aoColumns.length<=j[f];){o(a)}d(j[f],b[i])}else{if("number"===typeof j[f]&&0>j[f]){d(a.aoColumns.length+j[f],b[i])}else{if("string"===typeof j[f]){e=0;for(w=a.aoColumns.length;e<w;e++){("_all"==j[f]||h(a.aoColumns[e].nTh).hasClass(j[f]))&&d(e,b[i])}}}}}}}if(c){i=0;for(a=c.length;i<a;i++){d(i,c[i])}}}function H(a,b){var c;c=h.isArray(b)?b.slice():h.extend(!0,{},b);var d=a.aoData.length,i=h.extend(!0,{},j.models.oRow);i._aData=c;a.aoData.push(i);for(var f,i=0,g=a.aoColumns.length;i<g;i++){c=a.aoColumns[i],"function"===typeof c.fnRender&&c.bUseRendered&&null!==c.mData?F(a,d,i,S(a,d,i)):F(a,d,i,v(a,d,i)),c._bAutoType&&"string"!=c.sType&&(f=v(a,d,i,"type"),null!==f&&""!==f&&(f=B(f),null===c.sType?c.sType=f:c.sType!=f&&"html"!=c.sType&&(c.sType="string")))}a.aiDisplayMaster.push(d);a.oFeatures.bDeferRender||ea(a,d);return d}function ua(a){var b,c,d,i,f,g,e;if(a.bDeferLoading||null===a.sAjaxSource){for(b=a.nTBody.firstChild;b;){if("TR"==b.nodeName.toUpperCase()){c=a.aoData.length;b._DT_RowIndex=c;a.aoData.push(h.extend(!0,{},j.models.oRow,{nTr:b}));a.aiDisplayMaster.push(c);f=b.firstChild;for(d=0;f;){g=f.nodeName.toUpperCase();if("TD"==g||"TH"==g){F(a,c,d,h.trim(f.innerHTML)),d++}f=f.nextSibling}}b=b.nextSibling}}i=T(a);d=[];b=0;for(c=i.length;b<c;b++){for(f=i[b].firstChild;f;){g=f.nodeName.toUpperCase(),("TD"==g||"TH"==g)&&d.push(f),f=f.nextSibling}}c=0;for(i=a.aoColumns.length;c<i;c++){e=a.aoColumns[c];null===e.sTitle&&(e.sTitle=e.nTh.innerHTML);var w=e._bAutoType,o="function"===typeof e.fnRender,k=null!==e.sClass,n=e.bVisible,m,p;if(w||o||k||!n){g=0;for(b=a.aoData.length;g<b;g++){f=a.aoData[g],m=d[g*i+c],w&&"string"!=e.sType&&(p=v(a,g,c,"type"),""!==p&&(p=B(p),null===e.sType?e.sType=p:e.sType!=p&&"html"!=e.sType&&(e.sType="string"))),e.mRender?m.innerHTML=v(a,g,c,"display"):e.mData!==c&&(m.innerHTML=v(a,g,c,"display")),o&&(p=S(a,g,c),m.innerHTML=p,e.bUseRendered&&F(a,g,c,p)),k&&(m.className+=" "+e.sClass),n?f._anHidden[c]=null:(f._anHidden[c]=m,m.parentNode.removeChild(m)),e.fnCreatedCell&&e.fnCreatedCell.call(a.oInstance,m,v(a,g,c,"display"),f._aData,g,c)}}}if(0!==a.aoRowCreatedCallback.length){b=0;for(c=a.aoData.length;b<c;b++){f=a.aoData[b],A(a,"aoRowCreatedCallback",null,[f.nTr,f._aData,b])}}}function I(a,b){return b._DT_RowIndex!==n?b._DT_RowIndex:null}function fa(a,b,c){for(var b=J(a,b),d=0,a=a.aoColumns.length;d<a;d++){if(b[d]===c){return d}}return -1}function Y(a,b,c,d){for(var i=[],f=0,g=d.length;f<g;f++){i.push(v(a,b,d[f],c))}return i}function v(a,b,c,d){var i=a.aoColumns[c];if((c=i.fnGetData(a.aoData[b]._aData,d))===n){return a.iDrawError!=a.iDraw&&null===i.sDefaultContent&&(D(a,0,"Requested unknown parameter "+("function"==typeof i.mData?"{mData function}":"'"+i.mData+"'")+" from the data source for row "+b),a.iDrawError=a.iDraw),i.sDefaultContent}if(null===c&&null!==i.sDefaultContent){c=i.sDefaultContent}else{if("function"===typeof c){return c()}}return"display"==d&&null===c?"":c}function F(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,d)}function Q(a){if(null===a){return function(){return null}}if("function"===typeof a){return function(b,d,i){return a(b,d,i)}}if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("["))){var b=function(a,d,i){var f=i.split("."),g;if(""!==i){var e=0;for(g=f.length;e<g;e++){if(i=f[e].match(U)){f[e]=f[e].replace(U,"");""!==f[e]&&(a=a[f[e]]);g=[];f.splice(0,e+1);for(var f=f.join("."),e=0,h=a.length;e<h;e++){g.push(b(a[e],d,f))}a=i[0].substring(1,i[0].length-1);a=""===a?g:g.join(a);break}if(null===a||a[f[e]]===n){return n}a=a[f[e]]}}return a};return function(c,d){return b(c,d,a)}}return function(b){return b[a]}}function L(a){if(null===a){return function(){}}if("function"===typeof a){return function(b,d){a(b,"set",d)}}if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("["))){var b=function(a,d,i){var i=i.split("."),f,g,e=0;for(g=i.length-1;e<g;e++){if(f=i[e].match(U)){i[e]=i[e].replace(U,"");a[i[e]]=[];f=i.slice();f.splice(0,e+1);g=f.join(".");for(var h=0,j=d.length;h<j;h++){f={},b(f,d[h],g),a[i[e]].push(f)}return}if(null===a[i[e]]||a[i[e]]===n){a[i[e]]={}}a=a[i[e]]}a[i[i.length-1].replace(U,"")]=d};return function(c,d){return b(c,d,a)}}return function(b,d){b[a]=d}}function Z(a){for(var b=[],c=a.aoData.length,d=0;d<c;d++){b.push(a.aoData[d]._aData)}return b}function ga(a){a.aoData.splice(0,a.aoData.length);a.aiDisplayMaster.splice(0,a.aiDisplayMaster.length);a.aiDisplay.splice(0,a.aiDisplay.length);y(a)}function ha(a,b){for(var c=-1,d=0,i=a.length;d<i;d++){a[d]==b?c=d:a[d]>b&&a[d]--}-1!=c&&a.splice(c,1)}function S(a,b,c){var d=a.aoColumns[c];return d.fnRender({iDataRow:b,iDataColumn:c,oSettings:a,aData:a.aoData[b]._aData,mDataProp:d.mData},v(a,b,c,"display"))}function ea(a,b){var c=a.aoData[b],d;if(null===c.nTr){c.nTr=l.createElement("tr");c.nTr._DT_RowIndex=b;c._aData.DT_RowId&&(c.nTr.id=c._aData.DT_RowId);c._aData.DT_RowClass&&(c.nTr.className=c._aData.DT_RowClass);for(var i=0,f=a.aoColumns.length;i<f;i++){var g=a.aoColumns[i];d=l.createElement(g.sCellType);d.innerHTML="function"===typeof g.fnRender&&(!g.bUseRendered||null===g.mData)?S(a,b,i):v(a,b,i,"display");null!==g.sClass&&(d.className=g.sClass);g.bVisible?(c.nTr.appendChild(d),c._anHidden[i]=null):c._anHidden[i]=d;g.fnCreatedCell&&g.fnCreatedCell.call(a.oInstance,d,v(a,b,i,"display"),c._aData,b,i)}A(a,"aoRowCreatedCallback",null,[c.nTr,c._aData,b])}}function va(a){var b,c,d;if(0!==h("th, td",a.nTHead).length){b=0;for(d=a.aoColumns.length;b<d;b++){if(c=a.aoColumns[b].nTh,c.setAttribute("role","columnheader"),a.aoColumns[b].bSortable&&(c.setAttribute("tabindex",a.iTabIndex),c.setAttribute("aria-controls",a.sTableId)),null!==a.aoColumns[b].sClass&&h(c).addClass(a.aoColumns[b].sClass),a.aoColumns[b].sTitle!=c.innerHTML){c.innerHTML=a.aoColumns[b].sTitle}}}else{var i=l.createElement("tr");b=0;for(d=a.aoColumns.length;b<d;b++){c=a.aoColumns[b].nTh,c.innerHTML=a.aoColumns[b].sTitle,c.setAttribute("tabindex","0"),null!==a.aoColumns[b].sClass&&h(c).addClass(a.aoColumns[b].sClass),i.appendChild(c)}h(a.nTHead).html("")[0].appendChild(i);V(a.aoHeader,a.nTHead)}h(a.nTHead).children("tr").attr("role","row");if(a.bJUI){b=0;for(d=a.aoColumns.length;b<d;b++){c=a.aoColumns[b].nTh;i=l.createElement("div");i.className=a.oClasses.sSortJUIWrapper;h(c).contents().appendTo(i);var f=l.createElement("span");f.className=a.oClasses.sSortIcon;i.appendChild(f);c.appendChild(i)}}if(a.oFeatures.bSort){for(b=0;b<a.aoColumns.length;b++){!1!==a.aoColumns[b].bSortable?ia(a,a.aoColumns[b].nTh,b):h(a.aoColumns[b].nTh).addClass(a.oClasses.sSortableNone)}}""!==a.oClasses.sFooterTH&&h(a.nTFoot).children("tr").children("th").addClass(a.oClasses.sFooterTH);if(null!==a.nTFoot){c=N(a,null,a.aoFooter);b=0;for(d=a.aoColumns.length;b<d;b++){c[b]&&(a.aoColumns[b].nTf=c[b],a.aoColumns[b].sClass&&h(c[b]).addClass(a.aoColumns[b].sClass))}}}function W(a,b,c){var d,i,f,g=[],e=[],h=a.aoColumns.length,j;c===n&&(c=!1);d=0;for(i=b.length;d<i;d++){g[d]=b[d].slice();g[d].nTr=b[d].nTr;for(f=h-1;0<=f;f--){!a.aoColumns[f].bVisible&&!c&&g[d].splice(f,1)}e.push([])}d=0;for(i=g.length;d<i;d++){if(a=g[d].nTr){for(;f=a.firstChild;){a.removeChild(f)}}f=0;for(b=g[d].length;f<b;f++){if(j=h=1,e[d][f]===n){a.appendChild(g[d][f].cell);for(e[d][f]=1;g[d+h]!==n&&g[d][f].cell==g[d+h][f].cell;){e[d+h][f]=1,h++}for(;g[d][f+j]!==n&&g[d][f].cell==g[d][f+j].cell;){for(c=0;c<h;c++){e[d+c][f+j]=1}j++}g[d][f].cell.rowSpan=h;g[d][f].cell.colSpan=j}}}}function x(a){var b=A(a,"aoPreDrawCallback","preDraw",[a]);if(-1!==h.inArray(!1,b)){E(a,!1)}else{var c,d,b=[],i=0,f=a.asStripeClasses.length;c=a.aoOpenRows.length;a.bDrawing=!0;a.iInitDisplayStart!==n&&-1!=a.iInitDisplayStart&&(a._iDisplayStart=a.oFeatures.bServerSide?a.iInitDisplayStart:a.iInitDisplayStart>=a.fnRecordsDisplay()?0:a.iInitDisplayStart,a.iInitDisplayStart=-1,y(a));if(a.bDeferLoading){a.bDeferLoading=!1,a.iDraw++}else{if(a.oFeatures.bServerSide){if(!a.bDestroying&&!wa(a)){return}}else{a.iDraw++}}if(0!==a.aiDisplay.length){var g=a._iDisplayStart;d=a._iDisplayEnd;a.oFeatures.bServerSide&&(g=0,d=a.aoData.length);for(;g<d;g++){var e=a.aoData[a.aiDisplay[g]];null===e.nTr&&ea(a,a.aiDisplay[g]);var j=e.nTr;if(0!==f){var o=a.asStripeClasses[i%f];e._sRowStripe!=o&&(h(j).removeClass(e._sRowStripe).addClass(o),e._sRowStripe=o)}A(a,"aoRowCallback",null,[j,a.aoData[a.aiDisplay[g]]._aData,i,g]);b.push(j);i++;if(0!==c){for(e=0;e<c;e++){if(j==a.aoOpenRows[e].nParent){b.push(a.aoOpenRows[e].nTr);break}}}}}else{b[0]=l.createElement("tr"),a.asStripeClasses[0]&&(b[0].className=a.asStripeClasses[0]),c=a.oLanguage,f=c.sZeroRecords,1==a.iDraw&&null!==a.sAjaxSource&&!a.oFeatures.bServerSide?f=c.sLoadingRecords:c.sEmptyTable&&0===a.fnRecordsTotal()&&(f=c.sEmptyTable),c=l.createElement("td"),c.setAttribute("valign","top"),c.colSpan=t(a),c.className=a.oClasses.sRowEmpty,c.innerHTML=ja(a,f),b[i].appendChild(c)}A(a,"aoHeaderCallback","header",[h(a.nTHead).children("tr")[0],Z(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay]);A(a,"aoFooterCallback","footer",[h(a.nTFoot).children("tr")[0],Z(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay]);i=l.createDocumentFragment();c=l.createDocumentFragment();if(a.nTBody){f=a.nTBody.parentNode;c.appendChild(a.nTBody);if(!a.oScroll.bInfinite||!a._bInitComplete||a.bSorted||a.bFiltered){for(;c=a.nTBody.firstChild;){a.nTBody.removeChild(c)}}c=0;for(d=b.length;c<d;c++){i.appendChild(b[c])}a.nTBody.appendChild(i);null!==f&&f.appendChild(a.nTBody)}A(a,"aoDrawCallback","draw",[a]);a.bSorted=!1;a.bFiltered=!1;a.bDrawing=!1;a.oFeatures.bServerSide&&(E(a,!1),a._bInitComplete||$(a))}}function aa(a){a.oFeatures.bSort?O(a,a.oPreviousSearch):a.oFeatures.bFilter?K(a,a.oPreviousSearch):(y(a),x(a))}function xa(a){var b=h("<div></div>")[0];a.nTable.parentNode.insertBefore(b,a.nTable);a.nTableWrapper=h('<div id="'+a.sTableId+'_wrapper" class="'+a.oClasses.sWrapper+'" role="grid"></div>')[0];a.nTableReinsertBefore=a.nTable.nextSibling;for(var c=a.nTableWrapper,d=a.sDom.split(""),i,f,g,e,w,o,k,m=0;m<d.length;m++){f=0;g=d[m];if("<"==g){e=h("<div></div>")[0];w=d[m+1];if("'"==w||'"'==w){o="";for(k=2;d[m+k]!=w;){o+=d[m+k],k++}"H"==o?o=a.oClasses.sJUIHeader:"F"==o&&(o=a.oClasses.sJUIFooter);-1!=o.indexOf(".")?(w=o.split("."),e.id=w[0].substr(1,w[0].length-1),e.className=w[1]):"#"==o.charAt(0)?e.id=o.substr(1,o.length-1):e.className=o;m+=k}c.appendChild(e);c=e}else{if(">"==g){c=c.parentNode}else{if("l"==g&&a.oFeatures.bPaginate&&a.oFeatures.bLengthChange){i=ya(a),f=1}else{if("f"==g&&a.oFeatures.bFilter){i=za(a),f=1}else{if("r"==g&&a.oFeatures.bProcessing){i=Aa(a),f=1}else{if("t"==g){i=Ba(a),f=1}else{if("i"==g&&a.oFeatures.bInfo){i=Ca(a),f=1}else{if("p"==g&&a.oFeatures.bPaginate){i=Da(a),f=1}else{if(0!==j.ext.aoFeatures.length){e=j.ext.aoFeatures;k=0;for(w=e.length;k<w;k++){if(g==e[k].cFeature){(i=e[k].fnInit(a))&&(f=1);break}}}}}}}}}}}1==f&&null!==i&&("object"!==typeof a.aanFeatures[g]&&(a.aanFeatures[g]=[]),a.aanFeatures[g].push(i),c.appendChild(i))}b.parentNode.replaceChild(a.nTableWrapper,b)}function V(a,b){var c=h(b).children("tr"),d,i,f,g,e,j,o,k,m,p;a.splice(0,a.length);f=0;for(j=c.length;f<j;f++){a.push([])}f=0;for(j=c.length;f<j;f++){d=c[f];for(i=d.firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase()){k=1*i.getAttribute("colspan");m=1*i.getAttribute("rowspan");k=!k||0===k||1===k?1:k;m=!m||0===m||1===m?1:m;g=0;for(e=a[f];e[g];){g++}o=g;p=1===k?!0:!1;for(e=0;e<k;e++){for(g=0;g<m;g++){a[f+g][o+e]={cell:i,unique:p},a[f+g].nTr=d}}}i=i.nextSibling}}}function N(a,b,c){var d=[];c||(c=a.aoHeader,b&&(c=[],V(c,b)));for(var b=0,i=c.length;b<i;b++){for(var f=0,g=c[b].length;f<g;f++){if(c[b][f].unique&&(!d[f]||!a.bSortCellsTop)){d[f]=c[b][f].cell}}}return d}function wa(a){if(a.bAjaxDataGet){a.iDraw++;E(a,!0);var b=Ea(a);ka(a,b);a.fnServerData.call(a.oInstance,a.sAjaxSource,b,function(b){Fa(a,b)},a);return !1}return !0}function Ea(a){var b=a.aoColumns.length,c=[],d,i,f,g;c.push({name:"sEcho",value:a.iDraw});c.push({name:"iColumns",value:b});c.push({name:"sColumns",value:M(a)});c.push({name:"iDisplayStart",value:a._iDisplayStart});c.push({name:"iDisplayLength",value:!1!==a.oFeatures.bPaginate?a._iDisplayLength:-1});for(f=0;f<b;f++){d=a.aoColumns[f].mData,c.push({name:"mDataProp_"+f,value:"function"===typeof d?"function":d})}if(!1!==a.oFeatures.bFilter){c.push({name:"sSearch",value:a.oPreviousSearch.sSearch});c.push({name:"bRegex",value:a.oPreviousSearch.bRegex});for(f=0;f<b;f++){c.push({name:"sSearch_"+f,value:a.aoPreSearchCols[f].sSearch}),c.push({name:"bRegex_"+f,value:a.aoPreSearchCols[f].bRegex}),c.push({name:"bSearchable_"+f,value:a.aoColumns[f].bSearchable})}}if(!1!==a.oFeatures.bSort){var e=0;d=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(f=0;f<d.length;f++){i=a.aoColumns[d[f][0]].aDataSort;for(g=0;g<i.length;g++){c.push({name:"iSortCol_"+e,value:i[g]}),c.push({name:"sSortDir_"+e,value:d[f][1]}),e++}}c.push({name:"iSortingCols",value:e});for(f=0;f<b;f++){c.push({name:"bSortable_"+f,value:a.aoColumns[f].bSortable})}}return c}function ka(a,b){A(a,"aoServerParams","serverParams",[b])}function Fa(a,b){if(b.sEcho!==n){if(1*b.sEcho<a.iDraw){return}a.iDraw=1*b.sEcho}(!a.oScroll.bInfinite||a.oScroll.bInfinite&&(a.bSorted||a.bFiltered))&&ga(a);a._iRecordsTotal=parseInt(b.iTotalRecords,10);a._iRecordsDisplay=parseInt(b.iTotalDisplayRecords,10);var c=M(a),c=b.sColumns!==n&&""!==c&&b.sColumns!=c,d;c&&(d=u(a,b.sColumns));for(var i=Q(a.sAjaxDataProp)(b),f=0,g=i.length;f<g;f++){if(c){for(var e=[],h=0,j=a.aoColumns.length;h<j;h++){e.push(i[f][d[h]])}H(a,e)}else{H(a,i[f])}}a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=!1;x(a);a.bAjaxDataGet=!0;E(a,!1)}function za(a){var b=a.oPreviousSearch,c=a.oLanguage.sSearch,c=-1!==c.indexOf("_INPUT_")?c.replace("_INPUT_",'<input type="text" />'):""===c?'<input type="text" />':c+' <input type="text" />',d=l.createElement("div");d.className=a.oClasses.sFilter;d.innerHTML="<label>"+c+"</label>";a.aanFeatures.f||(d.id=a.sTableId+"_filter");c=h('input[type="text"]',d);d._DT_Input=c[0];c.val(b.sSearch.replace('"',"&quot;"));c.bind("keyup.DT",function(){for(var c=a.aanFeatures.f,d=this.value===""?"":this.value,g=0,e=c.length;g<e;g++){c[g]!=h(this).parents("div.dataTables_filter")[0]&&h(c[g]._DT_Input).val(d)}d!=b.sSearch&&K(a,{sSearch:d,bRegex:b.bRegex,bSmart:b.bSmart,bCaseInsensitive:b.bCaseInsensitive})});c.attr("aria-controls",a.sTableId).bind("keypress.DT",function(a){if(a.keyCode==13){return false}});return d}function K(a,b,c){var d=a.oPreviousSearch,i=a.aoPreSearchCols,f=function(a){d.sSearch=a.sSearch;d.bRegex=a.bRegex;d.bSmart=a.bSmart;d.bCaseInsensitive=a.bCaseInsensitive};if(a.oFeatures.bServerSide){f(b)}else{Ga(a,b.sSearch,c,b.bRegex,b.bSmart,b.bCaseInsensitive);f(b);for(b=0;b<a.aoPreSearchCols.length;b++){Ha(a,i[b].sSearch,b,i[b].bRegex,i[b].bSmart,i[b].bCaseInsensitive)}Ia(a)}a.bFiltered=!0;h(a.oInstance).trigger("filter",a);a._iDisplayStart=0;y(a);x(a);la(a,0)}function Ia(a){for(var b=j.ext.afnFiltering,c=r(a,"bSearchable"),d=0,i=b.length;d<i;d++){for(var f=0,g=0,e=a.aiDisplay.length;g<e;g++){var h=a.aiDisplay[g-f];b[d](a,Y(a,h,"filter",c),h)||(a.aiDisplay.splice(g-f,1),f++)}}}function Ha(a,b,c,d,i,f){if(""!==b){for(var g=0,b=ma(b,d,i,f),d=a.aiDisplay.length-1;0<=d;d--){i=Ja(v(a,a.aiDisplay[d],c,"filter"),a.aoColumns[c].sType),b.test(i)||(a.aiDisplay.splice(d,1),g++)}}}function Ga(a,b,c,d,i,f){d=ma(b,d,i,f);i=a.oPreviousSearch;c||(c=0);0!==j.ext.afnFiltering.length&&(c=1);if(0>=b.length){a.aiDisplay.splice(0,a.aiDisplay.length),a.aiDisplay=a.aiDisplayMaster.slice()}else{if(a.aiDisplay.length==a.aiDisplayMaster.length||i.sSearch.length>b.length||1==c||0!==b.indexOf(i.sSearch)){a.aiDisplay.splice(0,a.aiDisplay.length);la(a,1);for(b=0;b<a.aiDisplayMaster.length;b++){d.test(a.asDataSearch[b])&&a.aiDisplay.push(a.aiDisplayMaster[b])}}else{for(b=c=0;b<a.asDataSearch.length;b++){d.test(a.asDataSearch[b])||(a.aiDisplay.splice(b-c,1),c++)}}}}function la(a,b){if(!a.oFeatures.bServerSide){a.asDataSearch=[];for(var c=r(a,"bSearchable"),d=1===b?a.aiDisplayMaster:a.aiDisplay,i=0,f=d.length;i<f;i++){a.asDataSearch[i]=na(a,Y(a,d[i],"filter",c))}}}function na(a,b){var c=b.join("  ");-1!==c.indexOf("&")&&(c=h("<div>").html(c).text());return c.replace(/[\n\r]/g," ")}function ma(a,b,c,d){if(c){return a=b?a.split(" "):oa(a).split(" "),a="^(?=.*?"+a.join(")(?=.*?")+").*$",RegExp(a,d?"i":"")}a=b?a:oa(a);return RegExp(a,d?"i":"")}function Ja(a,b){return"function"===typeof j.ext.ofnSearch[b]?j.ext.ofnSearch[b](a):null===a?"":"html"==b?a.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"===typeof a?a.replace(/[\r\n]/g," "):a}function oa(a){return a.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),"\\$1")}function Ca(a){var b=l.createElement("div");b.className=a.oClasses.sInfo;a.aanFeatures.i||(a.aoDrawCallback.push({fn:Ka,sName:"information"}),b.id=a.sTableId+"_info");a.nTable.setAttribute("aria-describedby",a.sTableId+"_info");return b}function Ka(a){if(a.oFeatures.bInfo&&0!==a.aanFeatures.i.length){var b=a.oLanguage,c=a._iDisplayStart+1,d=a.fnDisplayEnd(),i=a.fnRecordsTotal(),f=a.fnRecordsDisplay(),g;g=0===f?b.sInfoEmpty:b.sInfo;f!=i&&(g+=" "+b.sInfoFiltered);g+=b.sInfoPostFix;g=ja(a,g);null!==b.fnInfoCallback&&(g=b.fnInfoCallback.call(a.oInstance,a,c,d,i,f,g));a=a.aanFeatures.i;b=0;for(c=a.length;b<c;b++){h(a[b]).html(g)}}}function ja(a,b){var c=a.fnFormatNumber(a._iDisplayStart+1),d=a.fnDisplayEnd(),d=a.fnFormatNumber(d),i=a.fnRecordsDisplay(),i=a.fnFormatNumber(i),f=a.fnRecordsTotal(),f=a.fnFormatNumber(f);a.oScroll.bInfinite&&(c=a.fnFormatNumber(1));return b.replace(/_START_/g,c).replace(/_END_/g,d).replace(/_TOTAL_/g,i).replace(/_MAX_/g,f)}function ba(a){var b,c,d=a.iInitDisplayStart;if(!1===a.bInitialised){setTimeout(function(){ba(a)},200)}else{xa(a);va(a);W(a,a.aoHeader);a.nTFoot&&W(a,a.aoFooter);E(a,!0);a.oFeatures.bAutoWidth&&da(a);b=0;for(c=a.aoColumns.length;b<c;b++){null!==a.aoColumns[b].sWidth&&(a.aoColumns[b].nTh.style.width=q(a.aoColumns[b].sWidth))}a.oFeatures.bSort?O(a):a.oFeatures.bFilter?K(a,a.oPreviousSearch):(a.aiDisplay=a.aiDisplayMaster.slice(),y(a),x(a));null!==a.sAjaxSource&&!a.oFeatures.bServerSide?(c=[],ka(a,c),a.fnServerData.call(a.oInstance,a.sAjaxSource,c,function(c){var f=a.sAjaxDataProp!==""?Q(a.sAjaxDataProp)(c):c;for(b=0;b<f.length;b++){H(a,f[b])}a.iInitDisplayStart=d;if(a.oFeatures.bSort){O(a)}else{a.aiDisplay=a.aiDisplayMaster.slice();y(a);x(a)}E(a,false);$(a,c)},a)):a.oFeatures.bServerSide||(E(a,!1),$(a))}}function $(a,b){a._bInitComplete=!0;A(a,"aoInitComplete","init",[a,b])}function pa(a){var b=j.defaults.oLanguage;!a.sEmptyTable&&(a.sZeroRecords&&"No data available in table"===b.sEmptyTable)&&p(a,a,"sZeroRecords","sEmptyTable");!a.sLoadingRecords&&(a.sZeroRecords&&"Loading..."===b.sLoadingRecords)&&p(a,a,"sZeroRecords","sLoadingRecords")}function ya(a){if(a.oScroll.bInfinite){return null}var b='<select size="1" '+('name="'+a.sTableId+'_length"')+">",c,d,i=a.aLengthMenu;if(2==i.length&&"object"===typeof i[0]&&"object"===typeof i[1]){c=0;for(d=i[0].length;c<d;c++){b+='<option value="'+i[0][c]+'">'+i[1][c]+"</option>"}}else{c=0;for(d=i.length;c<d;c++){b+='<option value="'+i[c]+'">'+i[c]+"</option>"}}b+="</select>";i=l.createElement("div");a.aanFeatures.l||(i.id=a.sTableId+"_length");i.className=a.oClasses.sLength;i.innerHTML="<label>"+a.oLanguage.sLengthMenu.replace("_MENU_",b)+"</label>";h('select option[value="'+a._iDisplayLength+'"]',i).attr("selected",!0);h("select",i).bind("change.DT",function(){var b=h(this).val(),i=a.aanFeatures.l;c=0;for(d=i.length;c<d;c++){i[c]!=this.parentNode&&h("select",i[c]).val(b)}a._iDisplayLength=parseInt(b,10);y(a);if(a.fnDisplayEnd()==a.fnRecordsDisplay()){a._iDisplayStart=a.fnDisplayEnd()-a._iDisplayLength;if(a._iDisplayStart<0){a._iDisplayStart=0}}if(a._iDisplayLength==-1){a._iDisplayStart=0}x(a)});h("select",i).attr("aria-controls",a.sTableId);return i}function y(a){a._iDisplayEnd=!1===a.oFeatures.bPaginate?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength>a.aiDisplay.length||-1==a._iDisplayLength?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength}function Da(a){if(a.oScroll.bInfinite){return null}var b=l.createElement("div");b.className=a.oClasses.sPaging+a.sPaginationType;j.ext.oPagination[a.sPaginationType].fnInit(a,b,function(a){y(a);x(a)});a.aanFeatures.p||a.aoDrawCallback.push({fn:function(a){j.ext.oPagination[a.sPaginationType].fnUpdate(a,function(a){y(a);x(a)})},sName:"pagination"});return b}function qa(a,b){var c=a._iDisplayStart;if("number"===typeof b){a._iDisplayStart=b*a._iDisplayLength,a._iDisplayStart>a.fnRecordsDisplay()&&(a._iDisplayStart=0)}else{if("first"==b){a._iDisplayStart=0}else{if("previous"==b){a._iDisplayStart=0<=a._iDisplayLength?a._iDisplayStart-a._iDisplayLength:0,0>a._iDisplayStart&&(a._iDisplayStart=0)}else{if("next"==b){0<=a._iDisplayLength?a._iDisplayStart+a._iDisplayLength<a.fnRecordsDisplay()&&(a._iDisplayStart+=a._iDisplayLength):a._iDisplayStart=0}else{if("last"==b){if(0<=a._iDisplayLength){var d=parseInt((a.fnRecordsDisplay()-1)/a._iDisplayLength,10)+1;a._iDisplayStart=(d-1)*a._iDisplayLength}else{a._iDisplayStart=0}}else{D(a,0,"Unknown paging action: "+b)}}}}}h(a.oInstance).trigger("page",a);return c!=a._iDisplayStart}function Aa(a){var b=l.createElement("div");a.aanFeatures.r||(b.id=a.sTableId+"_processing");b.innerHTML=a.oLanguage.sProcessing;b.className=a.oClasses.sProcessing;a.nTable.parentNode.insertBefore(b,a.nTable);return b}function E(a,b){if(a.oFeatures.bProcessing){for(var c=a.aanFeatures.r,d=0,i=c.length;d<i;d++){c[d].style.visibility=b?"visible":"hidden"}}h(a.oInstance).trigger("processing",[a,b])}function Ba(a){if(""===a.oScroll.sX&&""===a.oScroll.sY){return a.nTable}var b=l.createElement("div"),c=l.createElement("div"),d=l.createElement("div"),i=l.createElement("div"),f=l.createElement("div"),g=l.createElement("div"),e=a.nTable.cloneNode(!1),j=a.nTable.cloneNode(!1),o=a.nTable.getElementsByTagName("thead")[0],k=0===a.nTable.getElementsByTagName("tfoot").length?null:a.nTable.getElementsByTagName("tfoot")[0],m=a.oClasses;c.appendChild(d);f.appendChild(g);i.appendChild(a.nTable);b.appendChild(c);b.appendChild(i);d.appendChild(e);e.appendChild(o);null!==k&&(b.appendChild(f),g.appendChild(j),j.appendChild(k));b.className=m.sScrollWrapper;c.className=m.sScrollHead;d.className=m.sScrollHeadInner;i.className=m.sScrollBody;f.className=m.sScrollFoot;g.className=m.sScrollFootInner;a.oScroll.bAutoCss&&(c.style.overflow="hidden",c.style.position="relative",f.style.overflow="hidden",i.style.overflow="auto");c.style.border="0";c.style.width="100%";f.style.border="0";d.style.width=""!==a.oScroll.sXInner?a.oScroll.sXInner:"100%";e.removeAttribute("id");e.style.marginLeft="0";a.nTable.style.marginLeft="0";null!==k&&(j.removeAttribute("id"),j.style.marginLeft="0");d=h(a.nTable).children("caption");0<d.length&&(d=d[0],"top"===d._captionSide?e.appendChild(d):"bottom"===d._captionSide&&k&&j.appendChild(d));""!==a.oScroll.sX&&(c.style.width=q(a.oScroll.sX),i.style.width=q(a.oScroll.sX),null!==k&&(f.style.width=q(a.oScroll.sX)),h(i).scroll(function(){c.scrollLeft=this.scrollLeft;if(k!==null){f.scrollLeft=this.scrollLeft}}));""!==a.oScroll.sY&&(i.style.height=q(a.oScroll.sY));a.aoDrawCallback.push({fn:La,sName:"scrolling"});a.oScroll.bInfinite&&h(i).scroll(function(){if(!a.bDrawing&&h(this).scrollTop()!==0&&h(this).scrollTop()+h(this).height()>h(a.nTable).height()-a.oScroll.iLoadGap&&a.fnDisplayEnd()<a.fnRecordsDisplay()){qa(a,"next");y(a);x(a)}});a.nScrollHead=c;a.nScrollFoot=f;return b}function La(a){var b=a.nScrollHead.getElementsByTagName("div")[0],c=b.getElementsByTagName("table")[0],d=a.nTable.parentNode,i,f,g,e,j,o,k,m,p=[],n=[],l=null!==a.nTFoot?a.nScrollFoot.getElementsByTagName("div")[0]:null,R=null!==a.nTFoot?l.getElementsByTagName("table")[0]:null,r=a.oBrowser.bScrollOversize,s=function(a){k=a.style;k.paddingTop="0";k.paddingBottom="0";k.borderTopWidth="0";k.borderBottomWidth="0";k.height=0};h(a.nTable).children("thead, tfoot").remove();i=h(a.nTHead).clone()[0];a.nTable.insertBefore(i,a.nTable.childNodes[0]);g=a.nTHead.getElementsByTagName("tr");e=i.getElementsByTagName("tr");null!==a.nTFoot&&(j=h(a.nTFoot).clone()[0],a.nTable.insertBefore(j,a.nTable.childNodes[1]),o=a.nTFoot.getElementsByTagName("tr"),j=j.getElementsByTagName("tr"));""===a.oScroll.sX&&(d.style.width="100%",b.parentNode.style.width="100%");var t=N(a,i);i=0;for(f=t.length;i<f;i++){m=G(a,i),t[i].style.width=a.aoColumns[m].sWidth}null!==a.nTFoot&&C(function(a){a.style.width=""},j);a.oScroll.bCollapse&&""!==a.oScroll.sY&&(d.style.height=d.offsetHeight+a.nTHead.offsetHeight+"px");i=h(a.nTable).outerWidth();if(""===a.oScroll.sX){if(a.nTable.style.width="100%",r&&(h("tbody",d).height()>d.offsetHeight||"scroll"==h(d).css("overflow-y"))){a.nTable.style.width=q(h(a.nTable).outerWidth()-a.oScroll.iBarWidth)}}else{""!==a.oScroll.sXInner?a.nTable.style.width=q(a.oScroll.sXInner):i==h(d).width()&&h(d).height()<h(a.nTable).height()?(a.nTable.style.width=q(i-a.oScroll.iBarWidth),h(a.nTable).outerWidth()>i-a.oScroll.iBarWidth&&(a.nTable.style.width=q(i))):a.nTable.style.width=q(i)}i=h(a.nTable).outerWidth();C(s,e);C(function(a){p.push(q(h(a).width()))},e);C(function(a,b){a.style.width=p[b]},g);h(e).height(0);null!==a.nTFoot&&(C(s,j),C(function(a){n.push(q(h(a).width()))},j),C(function(a,b){a.style.width=n[b]},o),h(j).height(0));C(function(a,b){a.innerHTML="";a.style.width=p[b]},e);null!==a.nTFoot&&C(function(a,b){a.innerHTML="";a.style.width=n[b]},j);if(h(a.nTable).outerWidth()<i){g=d.scrollHeight>d.offsetHeight||"scroll"==h(d).css("overflow-y")?i+a.oScroll.iBarWidth:i;if(r&&(d.scrollHeight>d.offsetHeight||"scroll"==h(d).css("overflow-y"))){a.nTable.style.width=q(g-a.oScroll.iBarWidth)}d.style.width=q(g);a.nScrollHead.style.width=q(g);null!==a.nTFoot&&(a.nScrollFoot.style.width=q(g));""===a.oScroll.sX?D(a,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):""!==a.oScroll.sXInner&&D(a,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}else{d.style.width=q("100%"),a.nScrollHead.style.width=q("100%"),null!==a.nTFoot&&(a.nScrollFoot.style.width=q("100%"))}""===a.oScroll.sY&&r&&(d.style.height=q(a.nTable.offsetHeight+a.oScroll.iBarWidth));""!==a.oScroll.sY&&a.oScroll.bCollapse&&(d.style.height=q(a.oScroll.sY),r=""!==a.oScroll.sX&&a.nTable.offsetWidth>d.offsetWidth?a.oScroll.iBarWidth:0,a.nTable.offsetHeight<d.offsetHeight&&(d.style.height=q(a.nTable.offsetHeight+r)));r=h(a.nTable).outerWidth();c.style.width=q(r);b.style.width=q(r);c=h(a.nTable).height()>d.clientHeight||"scroll"==h(d).css("overflow-y");b.style.paddingRight=c?a.oScroll.iBarWidth+"px":"0px";null!==a.nTFoot&&(R.style.width=q(r),l.style.width=q(r),l.style.paddingRight=c?a.oScroll.iBarWidth+"px":"0px");h(d).scroll();if(a.bSorted||a.bFiltered){d.scrollTop=0}}function C(a,b,c){for(var d=0,i=0,f=b.length,g,e;i<f;){g=b[i].firstChild;for(e=c?c[i].firstChild:null;g;){1===g.nodeType&&(c?a(g,e,d):a(g,d),d++),g=g.nextSibling,e=c?e.nextSibling:null}i++}}function Ma(a,b){if(!a||null===a||""===a){return 0}b||(b=l.body);var c,d=l.createElement("div");d.style.width=q(a);b.appendChild(d);c=d.offsetWidth;b.removeChild(d);return c}function da(a){var b=0,c,d=0,i=a.aoColumns.length,f,e,j=h("th",a.nTHead),o=a.nTable.getAttribute("width");e=a.nTable.parentNode;for(f=0;f<i;f++){a.aoColumns[f].bVisible&&(d++,null!==a.aoColumns[f].sWidth&&(c=Ma(a.aoColumns[f].sWidthOrig,e),null!==c&&(a.aoColumns[f].sWidth=q(c)),b++))}if(i==j.length&&0===b&&d==i&&""===a.oScroll.sX&&""===a.oScroll.sY){for(f=0;f<a.aoColumns.length;f++){c=h(j[f]).width(),null!==c&&(a.aoColumns[f].sWidth=q(c))}}else{b=a.nTable.cloneNode(!1);f=a.nTHead.cloneNode(!0);d=l.createElement("tbody");c=l.createElement("tr");b.removeAttribute("id");b.appendChild(f);null!==a.nTFoot&&(b.appendChild(a.nTFoot.cloneNode(!0)),C(function(a){a.style.width=""},b.getElementsByTagName("tr")));b.appendChild(d);d.appendChild(c);d=h("thead th",b);0===d.length&&(d=h("tbody tr:eq(0)>td",b));j=N(a,f);for(f=d=0;f<i;f++){var k=a.aoColumns[f];k.bVisible&&null!==k.sWidthOrig&&""!==k.sWidthOrig?j[f-d].style.width=q(k.sWidthOrig):k.bVisible?j[f-d].style.width="":d++}for(f=0;f<i;f++){a.aoColumns[f].bVisible&&(d=Na(a,f),null!==d&&(d=d.cloneNode(!0),""!==a.aoColumns[f].sContentPadding&&(d.innerHTML+=a.aoColumns[f].sContentPadding),c.appendChild(d)))}e.appendChild(b);""!==a.oScroll.sX&&""!==a.oScroll.sXInner?b.style.width=q(a.oScroll.sXInner):""!==a.oScroll.sX?(b.style.width="",h(b).width()<e.offsetWidth&&(b.style.width=q(e.offsetWidth))):""!==a.oScroll.sY?b.style.width=q(e.offsetWidth):o&&(b.style.width=q(o));b.style.visibility="hidden";Oa(a,b);i=h("tbody tr:eq(0)",b).children();0===i.length&&(i=N(a,h("thead",b)[0]));if(""!==a.oScroll.sX){for(f=d=e=0;f<a.aoColumns.length;f++){a.aoColumns[f].bVisible&&(e=null===a.aoColumns[f].sWidthOrig?e+h(i[d]).outerWidth():e+(parseInt(a.aoColumns[f].sWidth.replace("px",""),10)+(h(i[d]).outerWidth()-h(i[d]).width())),d++)}b.style.width=q(e);a.nTable.style.width=q(e)}for(f=d=0;f<a.aoColumns.length;f++){a.aoColumns[f].bVisible&&(e=h(i[d]).width(),null!==e&&0<e&&(a.aoColumns[f].sWidth=q(e)),d++)}i=h(b).css("width");a.nTable.style.width=-1!==i.indexOf("%")?i:q(h(b).outerWidth());b.parentNode.removeChild(b)}o&&(a.nTable.style.width=q(o))}function Oa(a,b){""===a.oScroll.sX&&""!==a.oScroll.sY?(h(b).width(),b.style.width=q(h(b).outerWidth()-a.oScroll.iBarWidth)):""!==a.oScroll.sX&&(b.style.width=q(h(b).outerWidth()))}function Na(a,b){var c=Pa(a,b);if(0>c){return null}if(null===a.aoData[c].nTr){var d=l.createElement("td");d.innerHTML=v(a,c,b,"");return d}return J(a,c)[b]}function Pa(a,b){for(var c=-1,d=-1,i=0;i<a.aoData.length;i++){var e=v(a,i,b,"display")+"",e=e.replace(/<.*?>/g,"");e.length>c&&(c=e.length,d=i)}return d}function q(a){if(null===a){return"0px"}if("number"==typeof a){return 0>a?"0px":a+"px"}var b=a.charCodeAt(a.length-1);return 48>b||57<b?a:a+"px"}function Qa(){var a=l.createElement("p"),b=a.style;b.width="100%";b.height="200px";b.padding="0px";var c=l.createElement("div"),b=c.style;b.position="absolute";b.top="0px";b.left="0px";b.visibility="hidden";b.width="200px";b.height="150px";b.padding="0px";b.overflow="hidden";c.appendChild(a);l.body.appendChild(c);b=a.offsetWidth;c.style.overflow="scroll";a=a.offsetWidth;b==a&&(a=c.clientWidth);l.body.removeChild(c);return b-a}function O(a,b){var c,d,i,e,g,k,o=[],m=[],p=j.ext.oSort,l=a.aoData,q=a.aoColumns,G=a.oLanguage.oAria;if(!a.oFeatures.bServerSide&&(0!==a.aaSorting.length||null!==a.aaSortingFixed)){o=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(c=0;c<o.length;c++){if(d=o[c][0],i=R(a,d),e=a.aoColumns[d].sSortDataType,j.ext.afnSortData[e]){if(g=j.ext.afnSortData[e].call(a.oInstance,a,d,i),g.length===l.length){i=0;for(e=l.length;i<e;i++){F(a,i,d,g[i])}}else{D(a,0,"Returned data sort array (col "+d+") is the wrong length")}}}c=0;for(d=a.aiDisplayMaster.length;c<d;c++){m[a.aiDisplayMaster[c]]=c}var r=o.length,s;c=0;for(d=l.length;c<d;c++){for(i=0;i<r;i++){s=q[o[i][0]].aDataSort;g=0;for(k=s.length;g<k;g++){e=q[s[g]].sType,e=p[(e?e:"string")+"-pre"],l[c]._aSortData[s[g]]=e?e(v(a,c,s[g],"sort")):v(a,c,s[g],"sort")}}}a.aiDisplayMaster.sort(function(a,b){var c,d,e,i,f;for(c=0;c<r;c++){f=q[o[c][0]].aDataSort;d=0;for(e=f.length;d<e;d++){if(i=q[f[d]].sType,i=p[(i?i:"string")+"-"+o[c][1]](l[a]._aSortData[f[d]],l[b]._aSortData[f[d]]),0!==i){return i}}}return p["numeric-asc"](m[a],m[b])})}(b===n||b)&&!a.oFeatures.bDeferRender&&P(a);c=0;for(d=a.aoColumns.length;c<d;c++){e=q[c].sTitle.replace(/<.*?>/g,""),i=q[c].nTh,i.removeAttribute("aria-sort"),i.removeAttribute("aria-label"),q[c].bSortable?0<o.length&&o[0][0]==c?(i.setAttribute("aria-sort","asc"==o[0][1]?"ascending":"descending"),i.setAttribute("aria-label",e+("asc"==(q[c].asSorting[o[0][2]+1]?q[c].asSorting[o[0][2]+1]:q[c].asSorting[0])?G.sSortAscending:G.sSortDescending))):i.setAttribute("aria-label",e+("asc"==q[c].asSorting[0]?G.sSortAscending:G.sSortDescending)):i.setAttribute("aria-label",e)}a.bSorted=!0;h(a.oInstance).trigger("sort",a);a.oFeatures.bFilter?K(a,a.oPreviousSearch,1):(a.aiDisplay=a.aiDisplayMaster.slice(),a._iDisplayStart=0,y(a),x(a))}function ia(a,b,c,d){Ra(b,{},function(b){if(!1!==a.aoColumns[c].bSortable){var e=function(){var d,e;if(b.shiftKey){for(var f=!1,h=0;h<a.aaSorting.length;h++){if(a.aaSorting[h][0]==c){f=!0;d=a.aaSorting[h][0];e=a.aaSorting[h][2]+1;a.aoColumns[d].asSorting[e]?(a.aaSorting[h][1]=a.aoColumns[d].asSorting[e],a.aaSorting[h][2]=e):a.aaSorting.splice(h,1);break}}!1===f&&a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0])}else{1==a.aaSorting.length&&a.aaSorting[0][0]==c?(d=a.aaSorting[0][0],e=a.aaSorting[0][2]+1,a.aoColumns[d].asSorting[e]||(e=0),a.aaSorting[0][1]=a.aoColumns[d].asSorting[e],a.aaSorting[0][2]=e):(a.aaSorting.splice(0,a.aaSorting.length),a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0]))}O(a)};a.oFeatures.bProcessing?(E(a,!0),setTimeout(function(){e();a.oFeatures.bServerSide||E(a,!1)},0)):e();"function"==typeof d&&d(a)}})}function P(a){var b,c,d,e,f,g=a.aoColumns.length,j=a.oClasses;for(b=0;b<g;b++){a.aoColumns[b].bSortable&&h(a.aoColumns[b].nTh).removeClass(j.sSortAsc+" "+j.sSortDesc+" "+a.aoColumns[b].sSortingClass)}c=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(b=0;b<a.aoColumns.length;b++){if(a.aoColumns[b].bSortable){f=a.aoColumns[b].sSortingClass;e=-1;for(d=0;d<c.length;d++){if(c[d][0]==b){f="asc"==c[d][1]?j.sSortAsc:j.sSortDesc;e=d;break}}h(a.aoColumns[b].nTh).addClass(f);a.bJUI&&(f=h("span."+j.sSortIcon,a.aoColumns[b].nTh),f.removeClass(j.sSortJUIAsc+" "+j.sSortJUIDesc+" "+j.sSortJUI+" "+j.sSortJUIAscAllowed+" "+j.sSortJUIDescAllowed),f.addClass(-1==e?a.aoColumns[b].sSortingClassJUI:"asc"==c[e][1]?j.sSortJUIAsc:j.sSortJUIDesc))}else{h(a.aoColumns[b].nTh).addClass(a.aoColumns[b].sSortingClass)}}f=j.sSortColumn;if(a.oFeatures.bSort&&a.oFeatures.bSortClasses){a=J(a);e=[];for(b=0;b<g;b++){e.push("")}b=0;for(d=1;b<c.length;b++){j=parseInt(c[b][0],10),e[j]=f+d,3>d&&d++}f=RegExp(f+"[123]");var o;b=0;for(c=a.length;b<c;b++){j=b%g,d=a[b].className,o=e[j],j=d.replace(f,o),j!=d?a[b].className=h.trim(j):0<o.length&&-1==d.indexOf(o)&&(a[b].className=d+" "+o)}}}function ra(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var b,c;b=a.oScroll.bInfinite;var d={iCreate:(new Date).getTime(),iStart:b?0:a._iDisplayStart,iEnd:b?a._iDisplayLength:a._iDisplayEnd,iLength:a._iDisplayLength,aaSorting:h.extend(!0,[],a.aaSorting),oSearch:h.extend(!0,{},a.oPreviousSearch),aoSearchCols:h.extend(!0,[],a.aoPreSearchCols),abVisCols:[]};b=0;for(c=a.aoColumns.length;b<c;b++){d.abVisCols.push(a.aoColumns[b].bVisible)}A(a,"aoStateSaveParams","stateSaveParams",[a,d]);a.fnStateSave.call(a.oInstance,a,d)}}function Sa(a,b){if(a.oFeatures.bStateSave){var c=a.fnStateLoad.call(a.oInstance,a);if(c){var d=A(a,"aoStateLoadParams","stateLoadParams",[a,c]);if(-1===h.inArray(!1,d)){a.oLoadedState=h.extend(!0,{},c);a._iDisplayStart=c.iStart;a.iInitDisplayStart=c.iStart;a._iDisplayEnd=c.iEnd;a._iDisplayLength=c.iLength;a.aaSorting=c.aaSorting.slice();a.saved_aaSorting=c.aaSorting.slice();h.extend(a.oPreviousSearch,c.oSearch);h.extend(!0,a.aoPreSearchCols,c.aoSearchCols);b.saved_aoColumns=[];for(d=0;d<c.abVisCols.length;d++){b.saved_aoColumns[d]={},b.saved_aoColumns[d].bVisible=c.abVisCols[d]}A(a,"aoStateLoaded","stateLoaded",[a,c])}}}}function s(a){for(var b=0;b<j.settings.length;b++){if(j.settings[b].nTable===a){return j.settings[b]}}return null}function T(a){for(var b=[],a=a.aoData,c=0,d=a.length;c<d;c++){null!==a[c].nTr&&b.push(a[c].nTr)}return b}function J(a,b){var c=[],d,e,f,g,h,j;e=0;var o=a.aoData.length;b!==n&&(e=b,o=b+1);for(f=e;f<o;f++){if(j=a.aoData[f],null!==j.nTr){e=[];for(d=j.nTr.firstChild;d;){g=d.nodeName.toLowerCase(),("td"==g||"th"==g)&&e.push(d),d=d.nextSibling}g=d=0;for(h=a.aoColumns.length;g<h;g++){a.aoColumns[g].bVisible?c.push(e[g-d]):(c.push(j._anHidden[g]),d++)}}}return c}function D(a,b,c){a=null===a?"DataTables warning: "+c:"DataTables warning (table id = '"+a.sTableId+"'): "+c;if(0===b){if("alert"==j.ext.sErrMode){alert(a)}else{throw Error(a)}}else{X.console&&console.log&&console.log(a)}}function p(a,b,c,d){d===n&&(d=c);b[c]!==n&&(a[d]=b[c])}function Ta(a,b){var c,d;for(d in b){b.hasOwnProperty(d)&&(c=b[d],"object"===typeof e[d]&&null!==c&&!1===h.isArray(c)?h.extend(!0,a[d],c):a[d]=c)}return a}function Ra(a,b,c){h(a).bind("click.DT",b,function(b){a.blur();c(b)}).bind("keypress.DT",b,function(a){13===a.which&&c(a)}).bind("selectstart.DT",function(){return !1})}function z(a,b,c,d){c&&a[b].push({fn:c,sName:d})}function A(a,b,c,d){for(var b=a[b],e=[],f=b.length-1;0<=f;f--){e.push(b[f].fn.apply(a.oInstance,d))}null!==c&&h(a.oInstance).trigger(c,d);return e}function Ua(a){var b=h('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];l.body.appendChild(b);a.oBrowser.bScrollOversize=100===h("#DT_BrowserTest",b)[0].offsetWidth?!0:!1;l.body.removeChild(b)}function Va(a){return function(){var b=[s(this[j.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return j.ext.oApi[a].apply(this,b)}}var U=/\[.*?\]$/,Wa=X.JSON?JSON.stringify:function(a){var b=typeof a;if("object"!==b||null===a){return"string"===b&&(a='"'+a+'"'),a+""}var c,d,e=[],f=h.isArray(a);for(c in a){d=a[c],b=typeof d,"string"===b?d='"'+d+'"':"object"===b&&null!==d&&(d=Wa(d)),e.push((f?"":'"'+c+'":')+d)}return(f?"[":"{")+e+(f?"]":"}")};this.$=function(a,b){var c,d,e=[],f;d=s(this[j.ext.iApiIndex]);var g=d.aoData,o=d.aiDisplay,k=d.aiDisplayMaster;b||(b={});b=h.extend({},{filter:"none",order:"current",page:"all"},b);if("current"==b.page){c=d._iDisplayStart;for(d=d.fnDisplayEnd();c<d;c++){(f=g[o[c]].nTr)&&e.push(f)}}else{if("current"==b.order&&"none"==b.filter){c=0;for(d=k.length;c<d;c++){(f=g[k[c]].nTr)&&e.push(f)}}else{if("current"==b.order&&"applied"==b.filter){c=0;for(d=o.length;c<d;c++){(f=g[o[c]].nTr)&&e.push(f)}}else{if("original"==b.order&&"none"==b.filter){c=0;for(d=g.length;c<d;c++){(f=g[c].nTr)&&e.push(f)}}else{if("original"==b.order&&"applied"==b.filter){c=0;for(d=g.length;c<d;c++){f=g[c].nTr,-1!==h.inArray(c,o)&&f&&e.push(f)}}else{D(d,1,"Unknown selection options")}}}}}e=h(e);c=e.filter(a);e=e.find(a);return h([].concat(h.makeArray(c),h.makeArray(e)))};this._=function(a,b){var c=[],d,e,f=this.$(a,b);d=0;for(e=f.length;d<e;d++){c.push(this.fnGetData(f[d]))}return c};this.fnAddData=function(a,b){if(0===a.length){return[]}var c=[],d,e=s(this[j.ext.iApiIndex]);if("object"===typeof a[0]&&null!==a[0]){for(var f=0;f<a.length;f++){d=H(e,a[f]);if(-1==d){return c}c.push(d)}}else{d=H(e,a);if(-1==d){return c}c.push(d)}e.aiDisplay=e.aiDisplayMaster.slice();(b===n||b)&&aa(e);return c};this.fnAdjustColumnSizing=function(a){var b=s(this[j.ext.iApiIndex]);k(b);a===n||a?this.fnDraw(!1):(""!==b.oScroll.sX||""!==b.oScroll.sY)&&this.oApi._fnScrollDraw(b)};this.fnClearTable=function(a){var b=s(this[j.ext.iApiIndex]);ga(b);(a===n||a)&&x(b)};this.fnClose=function(a){for(var b=s(this[j.ext.iApiIndex]),c=0;c<b.aoOpenRows.length;c++){if(b.aoOpenRows[c].nParent==a){return(a=b.aoOpenRows[c].nTr.parentNode)&&a.removeChild(b.aoOpenRows[c].nTr),b.aoOpenRows.splice(c,1),0}}return 1};this.fnDeleteRow=function(a,b,c){var d=s(this[j.ext.iApiIndex]),e,f,a="object"===typeof a?I(d,a):a,g=d.aoData.splice(a,1);e=0;for(f=d.aoData.length;e<f;e++){null!==d.aoData[e].nTr&&(d.aoData[e].nTr._DT_RowIndex=e)}e=h.inArray(a,d.aiDisplay);d.asDataSearch.splice(e,1);ha(d.aiDisplayMaster,a);ha(d.aiDisplay,a);"function"===typeof b&&b.call(this,d,g);d._iDisplayStart>=d.fnRecordsDisplay()&&(d._iDisplayStart-=d._iDisplayLength,0>d._iDisplayStart&&(d._iDisplayStart=0));if(c===n||c){y(d),x(d)}return g};this.fnDestroy=function(a){var b=s(this[j.ext.iApiIndex]),c=b.nTableWrapper.parentNode,d=b.nTBody,i,f,a=a===n?!1:a;b.bDestroying=!0;A(b,"aoDestroyCallback","destroy",[b]);if(!a){i=0;for(f=b.aoColumns.length;i<f;i++){!1===b.aoColumns[i].bVisible&&this.fnSetColumnVis(i,!0)}}h(b.nTableWrapper).find("*").andSelf().unbind(".DT");h("tbody>tr>td."+b.oClasses.sRowEmpty,b.nTable).parent().remove();b.nTable!=b.nTHead.parentNode&&(h(b.nTable).children("thead").remove(),b.nTable.appendChild(b.nTHead));b.nTFoot&&b.nTable!=b.nTFoot.parentNode&&(h(b.nTable).children("tfoot").remove(),b.nTable.appendChild(b.nTFoot));b.nTable.parentNode.removeChild(b.nTable);h(b.nTableWrapper).remove();b.aaSorting=[];b.aaSortingFixed=[];P(b);h(T(b)).removeClass(b.asStripeClasses.join(" "));h("th, td",b.nTHead).removeClass([b.oClasses.sSortable,b.oClasses.sSortableAsc,b.oClasses.sSortableDesc,b.oClasses.sSortableNone].join(" "));b.bJUI&&(h("th span."+b.oClasses.sSortIcon+", td span."+b.oClasses.sSortIcon,b.nTHead).remove(),h("th, td",b.nTHead).each(function(){var a=h("div."+b.oClasses.sSortJUIWrapper,this),c=a.contents();h(this).append(c);a.remove()}));!a&&b.nTableReinsertBefore?c.insertBefore(b.nTable,b.nTableReinsertBefore):a||c.appendChild(b.nTable);i=0;for(f=b.aoData.length;i<f;i++){null!==b.aoData[i].nTr&&d.appendChild(b.aoData[i].nTr)}!0===b.oFeatures.bAutoWidth&&(b.nTable.style.width=q(b.sDestroyWidth));if(f=b.asDestroyStripes.length){a=h(d).children("tr");for(i=0;i<f;i++){a.filter(":nth-child("+f+"n + "+i+")").addClass(b.asDestroyStripes[i])}}i=0;for(f=j.settings.length;i<f;i++){j.settings[i]==b&&j.settings.splice(i,1)}e=b=null};this.fnDraw=function(a){var b=s(this[j.ext.iApiIndex]);!1===a?(y(b),x(b)):aa(b)};this.fnFilter=function(a,b,c,d,e,f){var g=s(this[j.ext.iApiIndex]);if(g.oFeatures.bFilter){if(c===n||null===c){c=!1}if(d===n||null===d){d=!0}if(e===n||null===e){e=!0}if(f===n||null===f){f=!0}if(b===n||null===b){if(K(g,{sSearch:a+"",bRegex:c,bSmart:d,bCaseInsensitive:f},1),e&&g.aanFeatures.f){b=g.aanFeatures.f;c=0;for(d=b.length;c<d;c++){try{b[c]._DT_Input!=l.activeElement&&h(b[c]._DT_Input).val(a)}catch(o){h(b[c]._DT_Input).val(a)}}}}else{h.extend(g.aoPreSearchCols[b],{sSearch:a+"",bRegex:c,bSmart:d,bCaseInsensitive:f}),K(g,g.oPreviousSearch,1)}}};this.fnGetData=function(a,b){var c=s(this[j.ext.iApiIndex]);if(a!==n){var d=a;if("object"===typeof a){var e=a.nodeName.toLowerCase();"tr"===e?d=I(c,a):"td"===e&&(d=I(c,a.parentNode),b=fa(c,d,a))}return b!==n?v(c,d,b,""):c.aoData[d]!==n?c.aoData[d]._aData:null}return Z(c)};this.fnGetNodes=function(a){var b=s(this[j.ext.iApiIndex]);return a!==n?b.aoData[a]!==n?b.aoData[a].nTr:null:T(b)};this.fnGetPosition=function(a){var b=s(this[j.ext.iApiIndex]),c=a.nodeName.toUpperCase();return"TR"==c?I(b,a):"TD"==c||"TH"==c?(c=I(b,a.parentNode),a=fa(b,c,a),[c,R(b,a),a]):null};this.fnIsOpen=function(a){for(var b=s(this[j.ext.iApiIndex]),c=0;c<b.aoOpenRows.length;c++){if(b.aoOpenRows[c].nParent==a){return !0}}return !1};this.fnOpen=function(a,b,c){var d=s(this[j.ext.iApiIndex]),e=T(d);if(-1!==h.inArray(a,e)){this.fnClose(a);var e=l.createElement("tr"),f=l.createElement("td");e.appendChild(f);f.className=c;f.colSpan=t(d);"string"===typeof b?f.innerHTML=b:h(f).html(b);b=h("tr",d.nTBody);-1!=h.inArray(a,b)&&h(e).insertAfter(a);d.aoOpenRows.push({nTr:e,nParent:a});return e}};this.fnPageChange=function(a,b){var c=s(this[j.ext.iApiIndex]);qa(c,a);y(c);(b===n||b)&&x(c)};this.fnSetColumnVis=function(a,b,c){var d=s(this[j.ext.iApiIndex]),e,f,g=d.aoColumns,h=d.aoData,o,m;if(g[a].bVisible!=b){if(b){for(e=f=0;e<a;e++){g[e].bVisible&&f++}m=f>=t(d);if(!m){for(e=a;e<g.length;e++){if(g[e].bVisible){o=e;break}}}e=0;for(f=h.length;e<f;e++){null!==h[e].nTr&&(m?h[e].nTr.appendChild(h[e]._anHidden[a]):h[e].nTr.insertBefore(h[e]._anHidden[a],J(d,e)[o]))}}else{e=0;for(f=h.length;e<f;e++){null!==h[e].nTr&&(o=J(d,e)[a],h[e]._anHidden[a]=o,o.parentNode.removeChild(o))}}g[a].bVisible=b;W(d,d.aoHeader);d.nTFoot&&W(d,d.aoFooter);e=0;for(f=d.aoOpenRows.length;e<f;e++){d.aoOpenRows[e].nTr.colSpan=t(d)}if(c===n||c){k(d),x(d)}ra(d)}};this.fnSettings=function(){return s(this[j.ext.iApiIndex])};this.fnSort=function(a){var b=s(this[j.ext.iApiIndex]);b.aaSorting=a;O(b)};this.fnSortListener=function(a,b,c){ia(s(this[j.ext.iApiIndex]),a,b,c)};this.fnUpdate=function(a,b,c,d,e){var f=s(this[j.ext.iApiIndex]),b="object"===typeof b?I(f,b):b;if(h.isArray(a)&&c===n){f.aoData[b]._aData=a.slice();for(c=0;c<f.aoColumns.length;c++){this.fnUpdate(v(f,b,c),b,c,!1,!1)}}else{if(h.isPlainObject(a)&&c===n){f.aoData[b]._aData=h.extend(!0,{},a);for(c=0;c<f.aoColumns.length;c++){this.fnUpdate(v(f,b,c),b,c,!1,!1)}}else{F(f,b,c,a);var a=v(f,b,c,"display"),g=f.aoColumns[c];null!==g.fnRender&&(a=S(f,b,c),g.bUseRendered&&F(f,b,c,a));null!==f.aoData[b].nTr&&(J(f,b)[c].innerHTML=a)}}c=h.inArray(b,f.aiDisplay);f.asDataSearch[c]=na(f,Y(f,b,"filter",r(f,"bSearchable")));(e===n||e)&&k(f);(d===n||d)&&aa(f);return 0};this.fnVersionCheck=j.ext.fnVersionCheck;this.oApi={_fnExternApiFunc:Va,_fnInitialise:ba,_fnInitComplete:$,_fnLanguageCompat:pa,_fnAddColumn:o,_fnColumnOptions:m,_fnAddData:H,_fnCreateTr:ea,_fnGatherData:ua,_fnBuildHead:va,_fnDrawHead:W,_fnDraw:x,_fnReDraw:aa,_fnAjaxUpdate:wa,_fnAjaxParameters:Ea,_fnAjaxUpdateDraw:Fa,_fnServerParams:ka,_fnAddOptionsHtml:xa,_fnFeatureHtmlTable:Ba,_fnScrollDraw:La,_fnAdjustColumnSizing:k,_fnFeatureHtmlFilter:za,_fnFilterComplete:K,_fnFilterCustom:Ia,_fnFilterColumn:Ha,_fnFilter:Ga,_fnBuildSearchArray:la,_fnBuildSearchRow:na,_fnFilterCreateSearch:ma,_fnDataToSearch:Ja,_fnSort:O,_fnSortAttachListener:ia,_fnSortingClasses:P,_fnFeatureHtmlPaginate:Da,_fnPageChange:qa,_fnFeatureHtmlInfo:Ca,_fnUpdateInfo:Ka,_fnFeatureHtmlLength:ya,_fnFeatureHtmlProcessing:Aa,_fnProcessingDisplay:E,_fnVisibleToColumnIndex:G,_fnColumnIndexToVisible:R,_fnNodeToDataIndex:I,_fnVisbleColumns:t,_fnCalculateEnd:y,_fnConvertToWidth:Ma,_fnCalculateColumnWidths:da,_fnScrollingWidthAdjust:Oa,_fnGetWidestNode:Na,_fnGetMaxLenString:Pa,_fnStringToCss:q,_fnDetectType:B,_fnSettingsFromNode:s,_fnGetDataMaster:Z,_fnGetTrNodes:T,_fnGetTdNodes:J,_fnEscapeRegex:oa,_fnDeleteIndex:ha,_fnReOrderIndex:u,_fnColumnOrdering:M,_fnLog:D,_fnClearTable:ga,_fnSaveState:ra,_fnLoadState:Sa,_fnCreateCookie:function(a,b,c,d,e){var f=new Date;f.setTime(f.getTime()+1000*c);var c=X.location.pathname.split("/"),a=a+"_"+c.pop().replace(/[\/:]/g,"").toLowerCase(),g;null!==e?(g="function"===typeof h.parseJSON?h.parseJSON(b):eval("("+b+")"),b=e(a,g,f.toGMTString(),c.join("/")+"/")):b=a+"="+encodeURIComponent(b)+"; expires="+f.toGMTString()+"; path="+c.join("/")+"/";a=l.cookie.split(";");e=b.split(";")[0].length;f=[];if(4096<e+l.cookie.length+10){for(var j=0,o=a.length;j<o;j++){if(-1!=a[j].indexOf(d)){var k=a[j].split("=");try{(g=eval("("+decodeURIComponent(k[1])+")"))&&g.iCreate&&f.push({name:k[0],time:g.iCreate})}catch(m){}}}for(f.sort(function(a,b){return b.time-a.time});4096<e+l.cookie.length+10;){if(0===f.length){return}d=f.pop();l.cookie=d.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c.join("/")+"/"}}l.cookie=b},_fnReadCookie:function(a){for(var b=X.location.pathname.split("/"),a=a+"_"+b[b.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",b=l.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);){d=d.substring(1,d.length)}if(0===d.indexOf(a)){return decodeURIComponent(d.substring(a.length,d.length))}}return null},_fnDetectHeader:V,_fnGetUniqueThs:N,_fnScrollBarWidth:Qa,_fnApplyToChildren:C,_fnMap:p,_fnGetRowData:Y,_fnGetCellData:v,_fnSetCellData:F,_fnGetObjectDataFn:Q,_fnSetObjectDataFn:L,_fnApplyColumnDefs:ta,_fnBindAction:Ra,_fnExtend:Ta,_fnCallbackReg:z,_fnCallbackFire:A,_fnJsonString:Wa,_fnRender:S,_fnNodeToColumnIndex:fa,_fnInfoMacros:ja,_fnBrowserDetect:Ua,_fnGetColumns:r};h.extend(j.ext.oApi,this.oApi);for(var sa in j.ext.oApi){sa&&(this[sa]=Va(sa))}var ca=this;this.each(function(){var a=0,b,c,d;c=this.getAttribute("id");var i=!1,f=!1;if("table"!=this.nodeName.toLowerCase()){D(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName)}else{a=0;for(b=j.settings.length;a<b;a++){if(j.settings[a].nTable==this){if(e===n||e.bRetrieve){return j.settings[a].oInstance}if(e.bDestroy){j.settings[a].oInstance.fnDestroy();break}else{D(j.settings[a],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy");return}}if(j.settings[a].sTableId==this.id){j.settings.splice(a,1);break}}if(null===c||""===c){this.id=c="DataTables_Table_"+j.ext._oExternConfig.iNextUnique++}var g=h.extend(!0,{},j.models.oSettings,{nTable:this,oApi:ca.oApi,oInit:e,sDestroyWidth:h(this).width(),sInstance:c,sTableId:c});j.settings.push(g);g.oInstance=1===ca.length?ca:h(this).dataTable();e||(e={});e.oLanguage&&pa(e.oLanguage);e=Ta(h.extend(!0,{},j.defaults),e);p(g.oFeatures,e,"bPaginate");p(g.oFeatures,e,"bLengthChange");p(g.oFeatures,e,"bFilter");p(g.oFeatures,e,"bSort");p(g.oFeatures,e,"bInfo");p(g.oFeatures,e,"bProcessing");p(g.oFeatures,e,"bAutoWidth");p(g.oFeatures,e,"bSortClasses");p(g.oFeatures,e,"bServerSide");p(g.oFeatures,e,"bDeferRender");p(g.oScroll,e,"sScrollX","sX");p(g.oScroll,e,"sScrollXInner","sXInner");p(g.oScroll,e,"sScrollY","sY");p(g.oScroll,e,"bScrollCollapse","bCollapse");p(g.oScroll,e,"bScrollInfinite","bInfinite");p(g.oScroll,e,"iScrollLoadGap","iLoadGap");p(g.oScroll,e,"bScrollAutoCss","bAutoCss");p(g,e,"asStripeClasses");p(g,e,"asStripClasses","asStripeClasses");p(g,e,"fnServerData");p(g,e,"fnFormatNumber");p(g,e,"sServerMethod");p(g,e,"aaSorting");p(g,e,"aaSortingFixed");p(g,e,"aLengthMenu");p(g,e,"sPaginationType");p(g,e,"sAjaxSource");p(g,e,"sAjaxDataProp");p(g,e,"iCookieDuration");p(g,e,"sCookiePrefix");p(g,e,"sDom");p(g,e,"bSortCellsTop");p(g,e,"iTabIndex");p(g,e,"oSearch","oPreviousSearch");p(g,e,"aoSearchCols","aoPreSearchCols");p(g,e,"iDisplayLength","_iDisplayLength");p(g,e,"bJQueryUI","bJUI");p(g,e,"fnCookieCallback");p(g,e,"fnStateLoad");p(g,e,"fnStateSave");p(g.oLanguage,e,"fnInfoCallback");z(g,"aoDrawCallback",e.fnDrawCallback,"user");z(g,"aoServerParams",e.fnServerParams,"user");z(g,"aoStateSaveParams",e.fnStateSaveParams,"user");z(g,"aoStateLoadParams",e.fnStateLoadParams,"user");z(g,"aoStateLoaded",e.fnStateLoaded,"user");z(g,"aoRowCallback",e.fnRowCallback,"user");z(g,"aoRowCreatedCallback",e.fnCreatedRow,"user");z(g,"aoHeaderCallback",e.fnHeaderCallback,"user");z(g,"aoFooterCallback",e.fnFooterCallback,"user");z(g,"aoInitComplete",e.fnInitComplete,"user");z(g,"aoPreDrawCallback",e.fnPreDrawCallback,"user");g.oFeatures.bServerSide&&g.oFeatures.bSort&&g.oFeatures.bSortClasses?z(g,"aoDrawCallback",P,"server_side_sort_classes"):g.oFeatures.bDeferRender&&z(g,"aoDrawCallback",P,"defer_sort_classes");e.bJQueryUI?(h.extend(g.oClasses,j.ext.oJUIClasses),e.sDom===j.defaults.sDom&&"lfrtip"===j.defaults.sDom&&(g.sDom='<"H"lfr>t<"F"ip>')):h.extend(g.oClasses,j.ext.oStdClasses);h(this).addClass(g.oClasses.sTable);if(""!==g.oScroll.sX||""!==g.oScroll.sY){g.oScroll.iBarWidth=Qa()}g.iInitDisplayStart===n&&(g.iInitDisplayStart=e.iDisplayStart,g._iDisplayStart=e.iDisplayStart);e.bStateSave&&(g.oFeatures.bStateSave=!0,Sa(g,e),z(g,"aoDrawCallback",ra,"state_save"));null!==e.iDeferLoading&&(g.bDeferLoading=!0,a=h.isArray(e.iDeferLoading),g._iRecordsDisplay=a?e.iDeferLoading[0]:e.iDeferLoading,g._iRecordsTotal=a?e.iDeferLoading[1]:e.iDeferLoading);null!==e.aaData&&(f=!0);""!==e.oLanguage.sUrl?(g.oLanguage.sUrl=e.oLanguage.sUrl,h.getJSON(g.oLanguage.sUrl,null,function(a){pa(a);h.extend(true,g.oLanguage,e.oLanguage,a);ba(g)}),i=!0):h.extend(!0,g.oLanguage,e.oLanguage);null===e.asStripeClasses&&(g.asStripeClasses=[g.oClasses.sStripeOdd,g.oClasses.sStripeEven]);b=g.asStripeClasses.length;g.asDestroyStripes=[];if(b){c=!1;d=h(this).children("tbody").children("tr:lt("+b+")");for(a=0;a<b;a++){d.hasClass(g.asStripeClasses[a])&&(c=!0,g.asDestroyStripes.push(g.asStripeClasses[a]))}c&&d.removeClass(g.asStripeClasses.join(" "))}c=[];a=this.getElementsByTagName("thead");0!==a.length&&(V(g.aoHeader,a[0]),c=N(g));if(null===e.aoColumns){d=[];a=0;for(b=c.length;a<b;a++){d.push(null)}}else{d=e.aoColumns}a=0;for(b=d.length;a<b;a++){e.saved_aoColumns!==n&&e.saved_aoColumns.length==b&&(null===d[a]&&(d[a]={}),d[a].bVisible=e.saved_aoColumns[a].bVisible),o(g,c?c[a]:null)}ta(g,e.aoColumnDefs,d,function(a,b){m(g,a,b)});a=0;for(b=g.aaSorting.length;a<b;a++){g.aaSorting[a][0]>=g.aoColumns.length&&(g.aaSorting[a][0]=0);var k=g.aoColumns[g.aaSorting[a][0]];g.aaSorting[a][2]===n&&(g.aaSorting[a][2]=0);e.aaSorting===n&&g.saved_aaSorting===n&&(g.aaSorting[a][1]=k.asSorting[0]);c=0;for(d=k.asSorting.length;c<d;c++){if(g.aaSorting[a][1]==k.asSorting[c]){g.aaSorting[a][2]=c;break}}}P(g);Ua(g);a=h(this).children("caption").each(function(){this._captionSide=h(this).css("caption-side")});b=h(this).children("thead");0===b.length&&(b=[l.createElement("thead")],this.appendChild(b[0]));g.nTHead=b[0];b=h(this).children("tbody");0===b.length&&(b=[l.createElement("tbody")],this.appendChild(b[0]));g.nTBody=b[0];g.nTBody.setAttribute("role","alert");g.nTBody.setAttribute("aria-live","polite");g.nTBody.setAttribute("aria-relevant","all");b=h(this).children("tfoot");if(0===b.length&&0<a.length&&(""!==g.oScroll.sX||""!==g.oScroll.sY)){b=[l.createElement("tfoot")],this.appendChild(b[0])}0<b.length&&(g.nTFoot=b[0],V(g.aoFooter,g.nTFoot));if(f){for(a=0;a<e.aaData.length;a++){H(g,e.aaData[a])}}else{ua(g)}g.aiDisplay=g.aiDisplayMaster.slice();g.bInitialised=!0;!1===i&&ba(g)}});ca=null;return this};j.fnVersionCheck=function(e){for(var h=function(e,h){for(;e.length<h;){e+="0"}return e},m=j.ext.sVersion.split("."),e=e.split("."),k="",n="",l=0,t=e.length;l<t;l++){k+=h(m[l],3),n+=h(e[l],3)}return parseInt(k,10)>=parseInt(n,10)};j.fnIsDataTable=function(e){for(var h=j.settings,m=0;m<h.length;m++){if(h[m].nTable===e||h[m].nScrollHead===e||h[m].nScrollFoot===e){return !0}}return !1};j.fnTables=function(e){var o=[];jQuery.each(j.settings,function(j,k){(!e||!0===e&&h(k.nTable).is(":visible"))&&o.push(k.nTable)});return o};j.version="1.9.4";j.settings=[];j.models={};j.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:j.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:j.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}};j.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0};j.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""};j.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};j.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){if(1000>e){return e}for(var h=e+"",e=h.split(""),j="",h=h.length,k=0;k<h;k++){0===k%3&&0!==k&&(j=this.oLanguage.sInfoThousands+j),j=e[h-k-1]+j}return j},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(e,j,m,k){k.jqXHR=h.ajax({url:e,data:j,success:function(e){e.sError&&k.oApi._fnLog(k,0,e.sError);h(k.oInstance).trigger("xhr",[k,e]);m(e)},dataType:"json",cache:!1,type:k.sServerMethod,error:function(e,h){"parsererror"==h&&k.oApi._fnLog(k,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(e){var e=this.oApi._fnReadCookie(e.sCookiePrefix+e.sInstance),j;try{j="function"===typeof h.parseJSON?h.parseJSON(e):eval("("+e+")")}catch(m){j=null}return j},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(e,h){this.oApi._fnCreateCookie(e.sCookiePrefix+e.sInstance,this.oApi._fnJsonString(h),e.iCookieDuration,e.sCookiePrefix,e.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:h.extend({},j.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"};j.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};j.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?!1===this.oFeatures.bPaginate||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null};j.ext=h.extend(!0,{},j.models.ext);h.extend(j.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""});h.extend(j.ext.oJUIClasses,j.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"});h.extend(j.ext.oPagination,{two_button:{fnInit:function(e,j,m){var k=e.oLanguage.oPaginate,n=function(h){e.oApi._fnPageChange(e,h.data.action)&&m(e)},k=!e.bJUI?'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+k.sPrevious+'</a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+k.sNext+"</a>":'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUIPrev+'"></span></a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUINext+'"></span></a>';h(j).append(k);var l=h("a",j),k=l[0],l=l[1];e.oApi._fnBindAction(k,{action:"previous"},n);e.oApi._fnBindAction(l,{action:"next"},n);e.aanFeatures.p||(j.id=e.sTableId+"_paginate",k.id=e.sTableId+"_previous",l.id=e.sTableId+"_next",k.setAttribute("aria-controls",e.sTableId),l.setAttribute("aria-controls",e.sTableId))},fnUpdate:function(e){if(e.aanFeatures.p){for(var h=e.oClasses,j=e.aanFeatures.p,k,l=0,n=j.length;l<n;l++){if(k=j[l].firstChild){k.className=0===e._iDisplayStart?h.sPagePrevDisabled:h.sPagePrevEnabled,k=k.nextSibling,k.className=e.fnDisplayEnd()==e.fnRecordsDisplay()?h.sPageNextDisabled:h.sPageNextEnabled}}}}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,j,m){var k=e.oLanguage.oPaginate,l=e.oClasses,n=function(h){e.oApi._fnPageChange(e,h.data.action)&&m(e)};h(j).append('<a  tabindex="'+e.iTabIndex+'" class="'+l.sPageButton+" "+l.sPageFirst+'">'+k.sFirst+'</a><a  tabindex="'+e.iTabIndex+'" class="'+l.sPageButton+" "+l.sPagePrevious+'">'+k.sPrevious+'</a><span></span><a tabindex="'+e.iTabIndex+'" class="'+l.sPageButton+" "+l.sPageNext+'">'+k.sNext+'</a><a tabindex="'+e.iTabIndex+'" class="'+l.sPageButton+" "+l.sPageLast+'">'+k.sLast+"</a>");var t=h("a",j),k=t[0],l=t[1],r=t[2],t=t[3];e.oApi._fnBindAction(k,{action:"first"},n);e.oApi._fnBindAction(l,{action:"previous"},n);e.oApi._fnBindAction(r,{action:"next"},n);e.oApi._fnBindAction(t,{action:"last"},n);e.aanFeatures.p||(j.id=e.sTableId+"_paginate",k.id=e.sTableId+"_first",l.id=e.sTableId+"_previous",r.id=e.sTableId+"_next",t.id=e.sTableId+"_last")},fnUpdate:function(e,o){if(e.aanFeatures.p){var m=j.ext.oPagination.iFullNumbersShowPages,k=Math.floor(m/2),l=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),n=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1,t="",r,B=e.oClasses,u,M=e.aanFeatures.p,L=function(h){e.oApi._fnBindAction(this,{page:h+r-1},function(h){e.oApi._fnPageChange(e,h.data.page);o(e);h.preventDefault()})};-1===e._iDisplayLength?n=k=r=1:l<m?(r=1,k=l):n<=k?(r=1,k=m):n>=l-k?(r=l-m+1,k=l):(r=n-Math.ceil(m/2)+1,k=r+m-1);for(m=r;m<=k;m++){t+=n!==m?'<a tabindex="'+e.iTabIndex+'" class="'+B.sPageButton+'">'+e.fnFormatNumber(m)+"</a>":'<a tabindex="'+e.iTabIndex+'" class="'+B.sPageButtonActive+'">'+e.fnFormatNumber(m)+"</a>"}m=0;for(k=M.length;m<k;m++){u=M[m],u.hasChildNodes()&&(h("span:eq(0)",u).html(t).children("a").each(L),u=u.getElementsByTagName("a"),u=[u[0],u[1],u[u.length-2],u[u.length-1]],h(u).removeClass(B.sPageButton+" "+B.sPageButtonActive+" "+B.sPageButtonStaticDisabled),h([u[0],u[1]]).addClass(1==n?B.sPageButtonStaticDisabled:B.sPageButton),h([u[2],u[3]]).addClass(0===l||n===l||-1===e._iDisplayLength?B.sPageButtonStaticDisabled:B.sPageButton))}}}}});h.extend(j.ext.oSort,{"string-pre":function(e){"string"!=typeof e&&(e=null!==e&&e.toString?e.toString():"");return e.toLowerCase()},"string-asc":function(e,h){return e<h?-1:e>h?1:0},"string-desc":function(e,h){return e<h?1:e>h?-1:0},"html-pre":function(e){return e.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(e,h){return e<h?-1:e>h?1:0},"html-desc":function(e,h){return e<h?1:e>h?-1:0},"date-pre":function(e){e=Date.parse(e);if(isNaN(e)||""===e){e=Date.parse("01/01/1970 00:00:00")}return e},"date-asc":function(e,h){return e-h},"date-desc":function(e,h){return h-e},"numeric-pre":function(e){return"-"==e||""===e?0:1*e},"numeric-asc":function(e,h){return e-h},"numeric-desc":function(e,h){return h-e}});h.extend(j.ext.aTypes,[function(e){if("number"===typeof e){return"numeric"}if("string"!==typeof e){return null}var h,j=!1;h=e.charAt(0);if(-1=="0123456789-".indexOf(h)){return null}for(var k=1;k<e.length;k++){h=e.charAt(k);if(-1=="0123456789.".indexOf(h)){return null}if("."==h){if(j){return null}j=!0}}return"numeric"},function(e){var h=Date.parse(e);return null!==h&&!isNaN(h)||"string"===typeof e&&0===e.length?"date":null},function(e){return"string"===typeof e&&-1!=e.indexOf("<")&&-1!=e.indexOf(">")?"html":null}]);h.fn.DataTable=j;h.fn.dataTable=j;h.fn.dataTableSettings=j.settings;h.fn.dataTableExt=j.ext};"function"===typeof define&&define.amd?define(["jquery"],L):jQuery&&!jQuery.fn.dataTable&&L(jQuery)})(window,document);/* ColReorder 1.1.3
 * ©2010-2014 SpryMedia Ltd - datatables.net/license
 */
(function(g,a,f){function e(h){var j=[];for(var k=0,l=h.length;k<l;k++){j[h[k]]=k}return j}function c(h,i,j){var k=h.splice(i,1)[0];h.splice(j,0,k)}function d(n,k,m){var h=[];for(var j=0,l=n.childNodes.length;j<l;j++){if(n.childNodes[j].nodeType==1){h.push(n.childNodes[j])}}var o=h[k];if(m!==null){n.insertBefore(o,h[m])}else{n.appendChild(o)}}var b=function(h,j){h.fn.dataTableExt.oApi.fnColReorder=function(A,r,u){var B=h.fn.dataTable.Api?true:false;var p,t,w,x,q=A.aoColumns.length,y,z;var n=function(F,G,D){if(!F[G]){return}var C=F[G].split(".");var E=C.shift();if(isNaN(E*1)){return}F[G]=D[E*1]+"."+C.join(".")};if(r==u){return}if(r<0||r>=q){this.oApi._fnLog(A,1,"ColReorder 'from' index is out of bounds: "+r);return}if(u<0||u>=q){this.oApi._fnLog(A,1,"ColReorder 'to' index is out of bounds: "+u);return}var l=[];for(p=0,t=q;p<t;p++){l[p]=p}c(l,r,u);var k=e(l);for(p=0,t=A.aaSorting.length;p<t;p++){A.aaSorting[p][0]=k[A.aaSorting[p][0]]}if(A.aaSortingFixed!==null){for(p=0,t=A.aaSortingFixed.length;p<t;p++){A.aaSortingFixed[p][0]=k[A.aaSortingFixed[p][0]]}}for(p=0,t=q;p<t;p++){z=A.aoColumns[p];for(w=0,x=z.aDataSort.length;w<x;w++){z.aDataSort[w]=k[z.aDataSort[w]]}if(B){z.idx=k[z.idx]}}if(B){h.each(A.aLastSort,function(C,D){A.aLastSort[C].src=k[D.src]})}for(p=0,t=q;p<t;p++){z=A.aoColumns[p];if(typeof z.mData=="number"){z.mData=k[z.mData];A.oApi._fnColumnOptions(A,p,{})}else{if(h.isPlainObject(z.mData)){n(z.mData,"_",k);n(z.mData,"filter",k);n(z.mData,"sort",k);n(z.mData,"type",k);A.oApi._fnColumnOptions(A,p,{})}}}if(A.aoColumns[r].bVisible){var v=this.oApi._fnColumnIndexToVisible(A,r);var s=null;p=u<r?u:u+1;while(s===null&&p<q){s=this.oApi._fnColumnIndexToVisible(A,p);p++}y=A.nTHead.getElementsByTagName("tr");for(p=0,t=y.length;p<t;p++){d(y[p],v,s)}if(A.nTFoot!==null){y=A.nTFoot.getElementsByTagName("tr");for(p=0,t=y.length;p<t;p++){d(y[p],v,s)}}for(p=0,t=A.aoData.length;p<t;p++){if(A.aoData[p].nTr!==null){d(A.aoData[p].nTr,v,s)}}}c(A.aoColumns,r,u);c(A.aoPreSearchCols,r,u);for(p=0,t=A.aoData.length;p<t;p++){var o=A.aoData[p];if(B){if(o.anCells){c(o.anCells,r,u)}if(o.src!=="dom"&&h.isArray(o._aData)){c(o._aData,r,u)}}else{if(h.isArray(o._aData)){c(o._aData,r,u)}c(o._anHidden,r,u)}}for(p=0,t=A.aoHeader.length;p<t;p++){c(A.aoHeader[p],r,u)}if(A.aoFooter!==null){for(p=0,t=A.aoFooter.length;p<t;p++){c(A.aoFooter[p],r,u)}}if(B){var m=new h.fn.dataTable.Api(A);m.rows().invalidate()}for(p=0,t=q;p<t;p++){h(A.aoColumns[p].nTh).off("click.DT");this.oApi._fnSortAttachListener(A,A.aoColumns[p].nTh,p)}h(A.oInstance).trigger("column-reorder",[A,{iFrom:r,iTo:u,aiInvertMapping:k}])};var i=function(l,n){var m;if(h.fn.dataTable.Api){m=new h.fn.dataTable.Api(l).settings()[0]}else{if(l.fnSettings){m=l.fnSettings()}else{if(typeof l==="string"){if(h.fn.dataTable.fnIsDataTable(h(l)[0])){m=h(l).eq(0).dataTable().fnSettings()}}else{if(l.nodeName&&l.nodeName.toLowerCase()==="table"){if(h.fn.dataTable.fnIsDataTable(l.nodeName)){m=h(l.nodeName).dataTable().fnSettings()}}else{if(l instanceof jQuery){if(h.fn.dataTable.fnIsDataTable(l[0])){m=l.eq(0).dataTable().fnSettings()}}else{m=l}}}}}if(m._colReorder){throw"ColReorder already initialised on table #"+m.nTable.id}var k=h.fn.dataTable.camelToHungarian;if(k){k(i.defaults,i.defaults,true);k(i.defaults,n||{})}this.s={dt:null,init:h.extend(true,{},i.defaults,n),fixed:0,fixedRight:0,reorderCallback:null,mouse:{startX:-1,startY:-1,offsetX:-1,offsetY:-1,target:-1,targetIndex:-1,fromIndex:-1},aoTargets:[]};this.dom={drag:null,pointer:null};this.s.dt=m;this.s.dt._colReorder=this;this._fnConstruct();m.oApi._fnCallbackReg(m,"aoDestroyCallback",h.proxy(this._fnDestroy,this),"ColReorder");return this};i.prototype={fnReset:function(){var k=[];for(var l=0,m=this.s.dt.aoColumns.length;l<m;l++){k.push(this.s.dt.aoColumns[l]._ColReorder_iOrigCol)}this._fnOrderColumns(k);return this},fnGetCurrentOrder:function(){return this.fnOrder()},fnOrder:function(n){if(n===f){var k=[];for(var l=0,m=this.s.dt.aoColumns.length;l<m;l++){k.push(this.s.dt.aoColumns[l]._ColReorder_iOrigCol)}return k}this._fnOrderColumns(e(n));return this},_fnConstruct:function(){var p=this;var n=this.s.dt.aoColumns.length;var m;if(this.s.init.iFixedColumns){this.s.fixed=this.s.init.iFixedColumns}this.s.fixedRight=this.s.init.iFixedColumnsRight?this.s.init.iFixedColumnsRight:0;if(this.s.init.fnReorderCallback){this.s.reorderCallback=this.s.init.fnReorderCallback}for(m=0;m<n;m++){if(m>this.s.fixed-1&&m<n-this.s.fixedRight){this._fnMouseListener(m,this.s.dt.aoColumns[m].nTh)}this.s.dt.aoColumns[m]._ColReorder_iOrigCol=m}this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(r,q){p._fnStateSave.call(p,q)},"ColReorder_State");var k=null;if(this.s.init.aiOrder){k=this.s.init.aiOrder.slice()}if(this.s.dt.oLoadedState&&typeof this.s.dt.oLoadedState.ColReorder!="undefined"&&this.s.dt.oLoadedState.ColReorder.length==this.s.dt.aoColumns.length){k=this.s.dt.oLoadedState.ColReorder}if(k){if(!p.s.dt._bInitComplete){var l=false;this.s.dt.aoDrawCallback.push({fn:function(){if(!p.s.dt._bInitComplete&&!l){l=true;var q=e(k);p._fnOrderColumns.call(p,q)}},sName:"ColReorder_Pre"})}else{var o=e(k);p._fnOrderColumns.call(p,o)}}else{this._fnSetColumnIndexes()}},_fnOrderColumns:function(k){if(k.length!=this.s.dt.aoColumns.length){this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"ColReorder - array reorder does not match known number of columns. Skipping.");return}for(var m=0,n=k.length;m<n;m++){var l=h.inArray(m,k);if(m!=l){c(k,l,m);this.s.dt.oInstance.fnColReorder(l,m)}}if(this.s.dt.oScroll.sX!==""||this.s.dt.oScroll.sY!==""){this.s.dt.oInstance.fnAdjustColumnSizing(false)}this.s.dt.oInstance.oApi._fnSaveState(this.s.dt);this._fnSetColumnIndexes();if(this.s.reorderCallback!==null){this.s.reorderCallback.call(this)}},_fnStateSave:function(r){var n,o,k,p;var q=this.s.dt;var m=q.aoColumns;r.ColReorder=[];if(r.aaSorting){for(n=0;n<r.aaSorting.length;n++){r.aaSorting[n][0]=m[r.aaSorting[n][0]]._ColReorder_iOrigCol}var l=h.extend(true,[],r.aoSearchCols);for(n=0,o=m.length;n<o;n++){p=m[n]._ColReorder_iOrigCol;r.aoSearchCols[p]=l[n];r.abVisCols[p]=m[n].bVisible;r.ColReorder.push(p)}}else{if(r.order){for(n=0;n<r.order.length;n++){r.order[n][0]=m[r.order[n][0]]._ColReorder_iOrigCol}var s=h.extend(true,[],r.columns);for(n=0,o=m.length;n<o;n++){p=m[n]._ColReorder_iOrigCol;r.columns[p]=s[n];r.ColReorder.push(p)}}}},_fnMouseListener:function(k,l){var m=this;h(l).on("mousedown.ColReorder",function(n){n.preventDefault();m._fnMouseDown.call(m,n,l)})},_fnMouseDown:function(k,m){var p=this;var o=h(k.target).closest("th, td");var n=o.offset();var l=parseInt(h(m).attr("data-column-index"),10);if(l===f){return}this.s.mouse.startX=k.pageX;this.s.mouse.startY=k.pageY;this.s.mouse.offsetX=k.pageX-n.left;this.s.mouse.offsetY=k.pageY-n.top;this.s.mouse.target=this.s.dt.aoColumns[l].nTh;this.s.mouse.targetIndex=l;this.s.mouse.fromIndex=l;this._fnRegions();h(a).on("mousemove.ColReorder",function(q){p._fnMouseMove.call(p,q)}).on("mouseup.ColReorder",function(q){p._fnMouseUp.call(p,q)})},_fnMouseMove:function(l){var p=this;if(this.dom.drag===null){if(Math.pow(Math.pow(l.pageX-this.s.mouse.startX,2)+Math.pow(l.pageY-this.s.mouse.startY,2),0.5)<5){return}this._fnCreateDragNode()}this.dom.drag.css({left:l.pageX-this.s.mouse.offsetX,top:l.pageY-this.s.mouse.offsetY});var k=false;var o=this.s.mouse.toIndex;for(var m=1,n=this.s.aoTargets.length;m<n;m++){if(l.pageX<this.s.aoTargets[m-1].x+((this.s.aoTargets[m].x-this.s.aoTargets[m-1].x)/2)){this.dom.pointer.css("left",this.s.aoTargets[m-1].x);this.s.mouse.toIndex=this.s.aoTargets[m-1].to;k=true;break}}if(!k){this.dom.pointer.css("left",this.s.aoTargets[this.s.aoTargets.length-1].x);this.s.mouse.toIndex=this.s.aoTargets[this.s.aoTargets.length-1].to}if(this.s.init.bRealtime&&o!==this.s.mouse.toIndex){this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex);this.s.mouse.fromIndex=this.s.mouse.toIndex;this._fnRegions()}},_fnMouseUp:function(k){var l=this;h(a).off("mousemove.ColReorder mouseup.ColReorder");if(this.dom.drag!==null){this.dom.drag.remove();this.dom.pointer.remove();this.dom.drag=null;this.dom.pointer=null;this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex);this._fnSetColumnIndexes();if(this.s.dt.oScroll.sX!==""||this.s.dt.oScroll.sY!==""){this.s.dt.oInstance.fnAdjustColumnSizing(false)}this.s.dt.oInstance.oApi._fnSaveState(this.s.dt);if(this.s.reorderCallback!==null){this.s.reorderCallback.call(this)}}},_fnRegions:function(){var k=this.s.dt.aoColumns;this.s.aoTargets.splice(0,this.s.aoTargets.length);this.s.aoTargets.push({x:h(this.s.dt.nTable).offset().left,to:0});var n=0;for(var l=0,m=k.length;l<m;l++){if(l!=this.s.mouse.fromIndex){n++}if(k[l].bVisible){this.s.aoTargets.push({x:h(k[l].nTh).offset().left+h(k[l].nTh).outerWidth(),to:n})}}if(this.s.fixedRight!==0){this.s.aoTargets.splice(this.s.aoTargets.length-this.s.fixedRight)}if(this.s.fixed!==0){this.s.aoTargets.splice(0,this.s.fixed)}},_fnCreateDragNode:function(){var p=this.s.dt.oScroll.sX!==""||this.s.dt.oScroll.sY!=="";var l=this.s.dt.aoColumns[this.s.mouse.targetIndex].nTh;var o=l.parentNode;var n=o.parentNode;var m=n.parentNode;var k=h(l).clone();this.dom.drag=h(m.cloneNode(false)).addClass("DTCR_clonedTable").append(h(n.cloneNode(false)).append(h(o.cloneNode(false)).append(k[0]))).css({position:"absolute",top:0,left:0,width:h(l).outerWidth(),height:h(l).outerHeight()}).appendTo("body");this.dom.pointer=h("<div></div>").addClass("DTCR_pointer").css({position:"absolute",top:p?h("div.dataTables_scroll",this.s.dt.nTableWrapper).offset().top:h(this.s.dt.nTable).offset().top,height:p?h("div.dataTables_scroll",this.s.dt.nTableWrapper).height():h(this.s.dt.nTable).height()}).appendTo("body")},_fnDestroy:function(){var k,l;for(k=0,l=this.s.dt.aoDrawCallback.length;k<l;k++){if(this.s.dt.aoDrawCallback[k].sName==="ColReorder_Pre"){this.s.dt.aoDrawCallback.splice(k,1);break}}h(this.s.dt.nTHead).find("*").off(".ColReorder");h.each(this.s.dt.aoColumns,function(n,m){h(m.nTh).removeAttr("data-column-index")});this.s.dt._colReorder=null;this.s=null},_fnSetColumnIndexes:function(){h.each(this.s.dt.aoColumns,function(l,k){h(k.nTh).attr("data-column-index",l)})}};i.defaults={aiOrder:null,bRealtime:false,iFixedColumns:0,iFixedColumnsRight:0,fnReorderCallback:null};i.version="1.1.3";h.fn.dataTable.ColReorder=i;h.fn.DataTable.ColReorder=i;if(typeof h.fn.dataTable=="function"&&typeof h.fn.dataTableExt.fnVersionCheck=="function"&&h.fn.dataTableExt.fnVersionCheck("1.9.3")){h.fn.dataTableExt.aoFeatures.push({fnInit:function(m){var n=m.oInstance;if(!m._colReorder){var k=m.oInit;var l=k.colReorder||k.oColReorder||{};new i(m,l)}else{n.oApi._fnLog(m,1,"ColReorder attempted to initialise twice. Ignoring second")}return null},cFeature:"R",sFeature:"ColReorder"})}else{alert("Warning: ColReorder requires DataTables 1.9.3 or greater - www.datatables.net/download")}if(h.fn.dataTable.Api){h.fn.dataTable.Api.register("colReorder.reset()",function(){return this.iterator("table",function(k){k._colReorder.fnReset()})});h.fn.dataTable.Api.register("colReorder.order()",function(k){if(k){return this.iterator("table",function(l){l._colReorder.fnOrder(k)})}return this.context.length?this.context[0]._colReorder.fnOrder():null})}return i};if(typeof define==="function"&&define.amd){define(["jquery","datatables"],b)}else{if(typeof exports==="object"){b(require("jquery"),require("datatables"))}else{if(jQuery&&!jQuery.fn.dataTable.ColReorder){b(jQuery,jQuery.fn.dataTable)}}}})(window,document);(function(d){function j(){var n=$(this).parents("table.dataTable");n.trigger("/Table/ShowEditMode");var m=$(this);var o=m.find(".ReadOnlyField");var l=m.find(".EditField");if(l.length===0){return}if(l.is(":visible")){return}o.hide();l.show();l.focus();l.select();return false}function a(m,l){if(!m){return false}if(typeof(m)==="function"){return m(l)}return true}function c(m,n,l){return function(){if(a(m,n)){return l.apply($(this),arguments)}}}function g(m){var n=m.sCookiePrefix+m.sInstance,l=window.location.pathname.split("/"),o=n+"_"+l.pop().replace(/[\/:]/g,"").toLowerCase();return o}d.GetSearchProperty=function(l){return l+"_search"};d.InitData=function(m){this.m_NewRowsAtTop=false;this.m_SearchColumns=[];this.aoColumns=null;this.ToolbarButtons=null;this.bStateSave=true;this.fnStateSave=function(s,r){var q=g(s);amplify.store(q,r)};this.fnStateLoad=function(s){var r=g(s);var q=amplify.store(r);if(!q){return jQuery.fn.DataTable.defaults.fnStateLoad.call(s,s)}return q};this.bSortClasses=false;this.bScrollCollapse=true;this.asStripeClasses=[];this.sAjaxSource=null;this.AjaxData=null;this.Columns=new b(this,m?m.Columns:null);k.call(this);this.aLengthMenu=[[10,25,50,100,-1],[10,25,50,100,Lang.Trans("All")]];this.fnDataChangeCallbacks={};this.fnDataValidateCallbacks={};this.fnFormatNumber=function(q){if(q<1000){return q}return q.toLocaleString()};var o=[];if(this.sScrollX!==undefined&&this.sScrollX!==null){this.fnInitComplete=function(r,q){d.FixIEAlignment(this)}}if(m){for(var p in m){if(m.hasOwnProperty(p)){if(p!=="Columns"){this[p]=m[p]}}}}if(this.bAutoWidth!==false&&(this.fnInitComplete===undefined||this.fnInitComplete===null)){this.fnInitComplete=function(r,q){this.fnAdjustColumnSizing()}}if(this.bPaginate===false){this.sDom='R<C>H<"ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix"fr<"ButtonPlaceholder">><"ColumnFilterPlaceHolder">t<"ui-toolbar ui-widget-header ui-widget-footer ui-corner-bl ui-corner-br ui-helper-clearfix"p>'}else{this.sDom='R<C>H<"ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix"fr<"LengthWrapper"li><"ButtonPlaceholder">><"ColumnFilterPlaceHolder">t<"ui-toolbar ui-widget-header ui-widget-footer ui-corner-bl ui-corner-br ui-helper-clearfix"p>'}if(this.sAjaxSource!==null){if(this.fnServerData==null){var l=this.AjaxData;this.fnServerData=function(s,q,r){AjaxHelpers.Ajax({url:s,data:l!==null?l:q,success:function(t){r(t)}})}}}this.AddSearchProperty=function(q){this.m_SearchColumns.push(q)};this.GetSearchColumnRemapping=function(q){var u={};var v={};for(var s=0;s<q.length;++s){var r=q[s].mDataProp;if(!r){u[s]=s;continue}u[r]=s}for(var t in u){if(u.hasOwnProperty(t)){var w=d.GetSearchProperty(t);var x=u[w];if(!x){x=u[t]}v[u[t]]=x}}return v};function n(s,r){var t=s.find("thead tr");var q=r||"";if(t.find("th."+r).length===0){t.append("<th class='{0}'/>".Format(q))}return t.find("th."+r).index()}this.InjectHiddenColumn=function(r){var q=this.AddAjaxDataNullableColumn(r);q.CustomAttributes({sDefaultContent:""});q.SetNeverVisible(true)};this.InjectSearchableColumns=function(r){for(var q=0;q<this.m_SearchColumns.length;++q){var s=d.GetSearchProperty(this.m_SearchColumns[q]);n(r,s);this.InjectHiddenColumn(s)}};this.AddColumnActions=function(s){var q=_.first(s.closest(".dataTables_wrapper").find("table"));var t=$(q).find("tr:first-child th");_.each(this.aoColumns,function(w,y){var u=w.oColumnAction;if(!u){return}var x=$(t[y]);var z=x.html();var v=ButtonList.Buttons.CheckAll();v.Name=z;v.Title=Lang.Trans("Check/uncheck all filtered rows");x.html(ButtonList.CreateButtonList([v]));x.click(r.bind(this,u.fnDataAction||$.noop,w.sColumnId))});function r(v,w){var u=s.$("tr",{filter:"applied"});var x=u.map(function(){var z=$(this);var y=s.fnElementData(z);return y});v(x,w)}};this.AddClickHandlers=function(q){_.each(this.aoColumns,function(s){var v=s.mClickHandler;if(!_.isFunction(v)){return}var u=s.sDelegateSelector;if(!u){var r=_.first(s.sClass.split(" "));u="td."+r}var t=q.oApi._fnGetObjectDataFn(s.mData||s.mDataProp);q.off("click",u).on("click",u,function(){var w=q.fnElementData($(this).closest("tr"));var x=w.RowData;var y=t(x);v.call(this,y,x,w)})})};this.NewRowsAtTop=function(q){if(q!==undefined){this.m_NewRowsAtTop=q}return this.m_NewRowsAtTop};this.InjectCreatedRowColumn=function(t){var q=n(t,"DT_CreatedRow");var s=function(u){if(!u.aData.DT_RowId){return"0"}return u.aData.DT_RowId.StartsWith("new_row")?u.aData.DT_RowId:"0"};var r=this.AddAjaxColumn("DT_CreatedRow",s);r.CustomAttributes({fnGetData:s,mDataProp:"DT_CreatedRow",bSortable:true,bUseRendered:true,sDefaultContent:""});r.SetNeverVisible(true);if(!this.aaSortingFixed){this.aaSortingFixed=[]}this.aaSortingFixed.push([q,"desc"])};this.AddRowCallback=function(q){if(typeof q!=="function"){throw"fnCallback is not a function"}o.push(q)};if(this.fnRowCallback!==undefined&&this.fnRowCallback!==null){this.AddRowCallback(this.fnRowCallback)}this.fnRowCallback=function(u,q,s,t){for(var r=0;r<o.length;++r){o[r](u,q,s,t)}}};function k(){this.oLanguage={};this.oLanguage.sSearch="<span class='ui-icon ui-icon-search' title='"+Lang.Trans("Search")+"'></span>";this.oLanguage.sLengthMenu="_MENU_";this.oLanguage.sInfoFiltered="";this.oLanguage.sEmptyTable=Lang.Trans("No data available in table");if(this.bPaginate!==false){var l="<div class='ShowingText'>"+Lang.Trans("Showing {0} - {1} of {2}","<span class='Bold'>_START_</span>","<span class='Bold'>_END_</span>","<span class='Bold'>_TOTAL_</span>");if(this.bPaginate!==false&&this.bLengthChange!==false){l+="<span class='ui-icon ui-icon-triangle-1-s'></span>"}l+="</div>";this.oLanguage.sInfo=l;this.oLanguage.sInfoEmpty="<div class='ShowingText'>"+Lang.Trans("No records")+"</div>";this.oLanguage.oPaginate={};this.oLanguage.oPaginate.sNext=Lang.Trans("Next");this.oLanguage.oPaginate.sPrevious=Lang.Trans("Previous")}}d.InitData.prototype.CustomAttributeWrapper=function(l,m){this.aoColumn=l;this.columnIndex=m;this.ColumnIndex=function(){return this.columnIndex};this.OnClick=function(n,o){this.aoColumn.mClickHandler=n;this.aoColumn.sDelegateSelector=o;return this};this.ExcludeFromExport=function(){this.aoColumn.bExcludeFromExport=true;return this};this.Id=function(n){this.aoColumn.sColumnId=n;return this};this.AddColumnAction=function(p,n,o){this.aoColumn.oColumnAction={uiicon:p,fnDataAction:n,onlyVisible:o};return this};this.ExportTitle=function(n){this.aoColumn.aExportTitles=_.flatten(_.clone(arguments));return this};this.AddClass=function(n){var o="";if(!n){return this}else{if(this.aoColumn.sClass){var p=this.aoColumn.sClass.split(" ");p=p.concat(n.split(" "));_.uniq(p);o=p.join(" ")}else{o=n}}this.aoColumn.sClass=o;return this};this.Title=function(n){this.aoColumn.sTitle=n||"&nbsp;";return this};this.Tooltip=function(n){return this};this.Width=function(n){this.aoColumn.sWidth=n;return this};this.SortType=function(n){this.aoColumn.sType=n;return this};this.SortDataType=function(n){this.aoColumn.sSortDataType=n;return this};this.DefaultContent=function(n){this.sDefaultContent=n;return this};this.Hidden=function(){this.aoColumn.bVisible=false;return this};this.UseRendered=function(n){this.aoColumn.bUseRendered=n===false?false:true;return this};this.Sort=function(n){if(!n){n="asc"}this.aoColumn.Sort=n.toLowerCase();return this};this.SetNeverVisible=function(n){n=n!==false?true:false;if(n){this.Hidden()}this.aoColumn.NeverVisible=n};this.CustomAttributes=function(n){for(var o in n){if(n.hasOwnProperty(o)){this.aoColumn[o]=n[o]}}return this}};d.InitData.prototype._AddAjaxColumnDeprecated=function(p,l,q,o){this.aoColumns=this.aoColumns||[];var m={mDataProp:p,sClass:l,sDefaultContent:"",sColumnId:p};if(q){m.fnRender=q;m.bUseRendered=false}if(o){m.fnCreatedCell=o}this.aoColumns.push(m);var n=this.aoColumns.length-1;return new this.CustomAttributeWrapper(this.aoColumns[n],n)};d.InitData.prototype._AddRenderColumn=function(o,p,n){this.aoColumns=this.aoColumns||[];var l={sDefaultContent:"",bUserRendered:false,sColumnId:o};l.mRender=p;l.mData=o;if(n){l.fnCreatedCell=n}this.aoColumns.push(l);var m=this.aoColumns.length-1;return new this.CustomAttributeWrapper(this.aoColumns[m],m)};d.InitData.prototype._AddColumn=function(q,l,p,o){this.aoColumns=this.aoColumns||[];var m={mDataProp:q,sClass:l,sDefaultContent:"",sColumnId:q,sTitle:"&nbsp;"};if(p){m.mRender=p;m.bUseRendered=false}if(o){m.fnCreatedCell=o}this.aoColumns.push(m);var n=this.aoColumns.length-1;return new this.CustomAttributeWrapper(this.aoColumns[n],n)};d.InitData.prototype.AddAjaxColumn=function(l,n,m){return this._AddAjaxColumnDeprecated(null,l,n,m)};d.InitData.prototype.AddAjaxDataColumn=function(l,n,m){return this._AddAjaxColumnDeprecated(l,l,n,m)};d.InitData.prototype.AddDataColumn=function(l,n,m){return this._AddColumn(l,l,n,m)};d.InitData.prototype.AddAjaxDataEditColumn=function(l,n,o,r,p,m){if(m===null||m===undefined){m="Edit"}this.fnDataChangeCallbacks[l]=o;this.fnDataValidateCallbacks[l]=r;this.AddRowCallback(function(v,s,t,u){var w=$("td."+l,v);if(!a(n,s)){w.off("click");w.removeClass("cursor");return}w.on("click",j);w.addClass("cursor")});var q=function(u,x){var s=u.aData[l];var w=escapeHTML(s);if(p){w=p(s,u.aData,l)}s=escapeHTML(s)||"";w=w||"";if(!a(n,u.aData)){return"<div class='ReadOnlyField'>"+w+"</div>"}var v="<a href='#' class='ReadOnlyField'>"+w+"</a>";var t="<input class='EditField' type='text' style='display: none' value='"+s+"'/><span>"+m+"</span>";return v+t};return this._AddAjaxColumnDeprecated(l,l,q)};d.InitData.prototype.AddAjaxDataAutoCompleteColumn=function(m,o,l,p,s,q,n){if(n===null||n===undefined){n="Edit"}this.fnDataChangeCallbacks[m]=function(u){var t=u.find(".EditField");if(IsInstanceOf(t,"autocomplete")){t.autocomplete("close")}if(p){p.apply(this,arguments)}};this.fnDataValidateCallbacks[m]=s;this.AddRowCallback(function(w,t,u,v){var y=$("td."+m,w);if(!a(o,t)){y.off("click");y.removeClass("cursor");return}y.on("click",x);y.addClass("cursor");function x(){var z=y.find("input.EditField");if(!IsInstanceOf(z,"autocomplete")){z.autocomplete(l)}return j.apply(this,arguments)}});var r=function(v,y){var t=v.aData[m];var x=escapeHTML(t);if(q){x=q(t,v.aData,m)}t=escapeHTML(t);t=escapeHTML(t)||"";x=x||"";if(!a(true,v.aData)){return"<div class='ReadOnlyField'>"+x+"</div>"}var w="<a href='#' class='ReadOnlyField'>"+x+"</a>";var u="<input class='EditField' type='text' style='display: none' value='"+t+"'/><span>"+n+"</span>";return w+u};return this._AddAjaxColumnDeprecated(m,m,r)};d.InitData.prototype.AddAjaxDataNullableColumn=function(l,m){return this._AddAjaxColumnDeprecated(l,l,function(n){return n.aData[l]==null?(m!=null?m:""):n.aData[l]},null)};d.InitData.prototype.AddAjaxDataCheckboxColumn=function(m,o,p){var n=function(t,w,u,s,r){if(!a(o,u)){return}var v=function(){var B=$(this).parent("td");var x=$(this).prop("checked");var y=$(this).parents("table.dataTable");var A=y.dataTable();var z=A.fnElementData(B).RowData;z[m]=x;if(p){p(B,x,m,B.RowData)}A.fnSendDataUpdateEvent($(this),z,m);return true};$(t).on("change","input",v)};var q=function(v,u,r){var t={filter:function(){return v.toString()},type:function(){return"boolean"},sort:function(){return +v},display:function(){var w=a(o,r)?"":"disabled='disabled'";return"<input type='checkbox' "+(v?"checked ":"")+w+"/>"}};var s=t[u];if(s){return s()}return v?Lang.Trans("Yes"):Lang.Trans("No")};var l=this.AddDataColumn(m,q,n);return l};d.InitData.prototype.AddAjaxDataRadioColumn=function(m,o,p,r){var n=function(u,x,v,t,s){if(!a(o,v)){return}var w=function(){var C=$(this).parent("td");var y=$(this).prop("checked");var z=$(this).parents("table.dataTable");var B=z.dataTable();_.each(B.fnGetData(),function(D){D[m]=false});var A=B.fnElementData(C).RowData;A[m]=y;if(p){p(C,y,m,C.RowData)}B.fnSendDataUpdateEvent($(this),A,m);return true};$(u).on("change","input",w)};var q=function(w,v,s){var u={filter:function(){return w.toString()},type:function(){return"boolean"},sort:function(){return +w},display:function(){var x=a(o,s)?"":"disabled='disabled'";return"<input type='radio' name='"+r+"'"+(w?"checked ":"")+x+"/>"}};var t=u[v];if(t){return t()}return w?Lang.Trans("Yes"):Lang.Trans("No")};var l=this.AddDataColumn(m,q,n);return l};d.InitData.prototype.AddAjaxDataTimeSpanEditColumnDeprecated=function(n,o,p,r,l){this.fnDataChangeCallbacks[n]=function(t){var s=t.find(".EditField");if(IsInstanceOf(s,"time")){s.time("update")}};this.AddRowCallback(function(w,s,t,u){var y=$("td."+n,w);if(!a(o,s)){y.removeClass("cursor");return}var v=$("td."+n+" .EditField",w);if(IsInstanceOf(v,"time")){return}y.addClass("cursor");y.bind("click",j);var x=s[n];v.time({isDuration:l?l:false,ValidateInput:function(z,A){var B=z.parents("td:first");if(r&&r(B,A)===false){return false}return true},InputChanged:function(z){var B=z.parents("td:first");var C=z.time("getTime");var A=C.As24Hour(true);s[n]=A;if(p){p(B,A,x)}var D=$(z).parents("td").find(".ReadOnlyField");D.html(z.time("getDisplayString"));D.show()},InputCancelled:function(z){z.hide();var A=z.parents("td").find(".ReadOnlyField");A.show()}})});var q=function(t,w){var v="";v=TimeFormatter.TryParseTime(w).As24Hour(true);if(!a(o,t.aData)){return"<div class='ReadOnlyField'>"+v+"</div>"}var u="<a style='cursor:default' href='#' class='ReadOnlyField'>"+v+"</a>";var s="<input class='EditField' type='text' style='display: none' value='"+v+"'/>";return u+s};var m=this._AddAjaxColumnDeprecated(n,n,q);m.CustomAttributes({sType:"string"});return m};d.InitData.prototype.DEPRECATEDAddAjaxDataDateReadOnlyColumn=function(m,o,n){this.AddSearchProperty(m);var l=this._AddAjaxColumnDeprecated(m,m,function(p){var q=null;var r=p.aData[m];if(r&&r.Date){r=r.Date;o=false}if(o==null||o===true){q=DateFormatter.ToDateTimeString(r,n)}else{q=DateFormatter.ToDateString(r)}p.aData[d.GetSearchProperty(m)]=q;return"<div class='TimeValuePart ReadOnlyField'>"+q+"</div>"});l.CustomAttributes({bSearchable:false,sType:"date"});return l};d.InitData.prototype.AddAjaxDataDateEditColumn=function(m,t,p,r,q,o){var u=this;this.AddSearchProperty(m);o=o||{};var n=false;function s(v){var w=v[m];if(w&&w.Date){w=w.Date;t=false;n=true}return w}this.AddRowCallback(function(A,v,x,y){var C=$("td."+m,A);var D=s(v);var w="DatePickerRO";if(t==null||t===true){w="datetimepicker"}function B(){var E=$("td."+m+" .EditField",A);if(IsInstanceOf(E,w)){return}o.onSelect=function(){var K=u.Table;var F=K.fnElementData($(A));var I=F.RowData;var J=$(this)[w]("getDate");var G=$(this).parents("td");if(r&&r(G,J)===false){return}var H=s(I);if(n){I[m]=new DateOnly(J)}else{I[m]=J}I[d.GetSearchProperty(m)]=DateFormatter.ToDateTimeString(J);if(p){p(G,J,H)}$(this).hide();var L=$(this).parents("td").find(".ReadOnlyField");if(t==null||t===true){L.html(DateFormatter.ToDateTimeString(J))}else{L.html(DateFormatter.ToDateString(J))}L.show();K.fnSendDataUpdateEvent($(this),I,m);return true};o.onClose=function(){$(this).hide();var F=$(this).parents("td");var G=F.find(".ReadOnlyField");G.show();if(q){return q(F)}};E[w](o);return E}C.addClass("cursor");C.on("click",function(){B();j.apply(this,arguments)});var z=B();z[w]("setDate",D);v[d.GetSearchProperty(m)]=DateFormatter.ToDateTimeString(D)});var l=this._AddAjaxColumnDeprecated(m,m,function(v){var w=null;var x=v.aData[m];if(x&&x.Date){x=x.Date;t=false}if(t==null||t===true){w=DateFormatter.ToDateTimeString(x)}else{w=DateFormatter.ToDateString(x)}return"<a href='#' class='TimeValuePart ReadOnlyField'>"+w+"</a><input type='text' class='DataTableDatePicker InputPart EditField' style='display: none' value='"+w+"'/>"});l.CustomAttributes({sType:"date",bSearchable:false});return l};d.InitData.prototype.DEPRECATEDAddAjaxDataDateColumn=function(l,p,o,n,m){if(p==null||p===false){return this.DEPRECATEDAddAjaxDataDateReadOnlyColumn(l,o,false)}else{return this.AddAjaxDataDateEditColumn(l,o,n,null,m)}};d.InitData.prototype.AddToolbarButtons=function(l){this.ToolbarButtons=ButtonList.CreateButtonList(l)};d.InitData.prototype.AddAjaxComboBoxColumn=function(l,o,v,m,p,q,u,n,s){this.fnDataChangeCallbacks[l]=p;this.fnDataValidateCallbacks[l]=u;this.fnDataChangeCallbacks[l+"_select"]=q;this.AddRowCallback(function(z,w,x,y){var A=$("td."+l,z);A.off("click").on("click",c(o,w,j));A.removeClass("cursor");if(!a(o,w)){return}A.addClass("cursor")});var t=function(B,E){var y=n!=null?n(B):B.aData[l];var z=v.find(function(G,F){return G.ID===F},y);var C=(!z)?"":v[z[0]].Name;var A={"class":"ReadOnlyField",optionName:C};var w="<a href='#' class='{class}'>{optionName}</a><select class='EditField' style='display: none'>".Format(A);for(var x=0;x<v.length;++x){w+="<option value='"+v[x].ID+"'";var D=B.aData[l];if(n){D=n(B)}if(v[x].ID===D){w+=" selected='selected'"}w+=">"+v[x].Name+"</option>"}w+="<select><span>edit</span>";return w};var r=typeof s==="undefined"||s===null?t:s;return this._AddAjaxColumnDeprecated(l,l,r,m)};d.InitData.prototype.AddAjaxButtonColumn=function(l,o,n){var m=this._AddAjaxColumnDeprecated(null,l,o,n);m.CustomAttributes({bSortable:false,SpecificColumnSearch:false,Sort:""});return m};var f=Utils.Functional.Get;var h=Utils.Functional.GetSet;var e=Utils.Functional.Fluent;function i(){this.m_KeyEvent=null;this.m_jqElm=null;this.m_Delegate=null;this.m_Data=null;this.m_OnKeyDown=$.noop;this.m_InternalOnKeyDown=null;this.m_IsActive=false;this.m_IsKeyHandled=true}_.extend(i.prototype,{IsActive:h("m_IsActive"),IsKeyHandled:h("m_IsKeyHandled"),Event:f("m_KeyEvent"),Shift:f("m_KeyEvent.shiftKey"),Ctrl:f("m_KeyEvent.ctrlKey"),OnKeyDown:h("m_OnKeyDown",false),Log:function(){var l={IsKeyHandled:this.m_IsKeyHandled,IsActive:this.m_IsActive,KeyCode:null,Shift:null,Ctrl:null};if(this.m_KeyEvent){l.KeyCode=this.m_KeyEvent.keyCode;l.Shift=this.m_KeyEvent.shiftKey;l.Ctrl=this.m_KeyEvent.ctrlKey}Utils.Log("Keylistener: IsKeyHandled: {IsKeyHandled}, IsActive: {IsActive}, KeyCode: {KeyCode}, Shift: {Shift}, Ctrl: {Ctrl}".Format(l))},_OnKeyDown:function(l){this.m_KeyEvent=l;this.IsKeyHandled(false);if(this.m_OnKeyDown){return this.m_OnKeyDown.call(this,l)}},PreventDefault:function(){if(this.m_KeyEvent){this.m_KeyEvent.preventDefault()}},KeyCode:function(){if(!this.m_KeyEvent){return void 0}return this.m_KeyEvent.keyCode},KeyCodeIn:function(m){if(!this.IsActive()){return false}var l=this.m_KeyEvent.keyCode;if(_.isString(m)){m=_.map(m.split(","),function(o){var n=KeyHelper.KeyMap[$.trim(o)];if(!n){throw o+" is unknown"}return n})}return _.contains(m,l)},Listen:e(function(n,m,l,o){this.Stop();if(_.any(arguments)){this.m_jqElm=n;this.m_Delegate=m;this.m_Data=l;this.m_OnKeyDown=o}else{if(!this.m_jqElm){throw"An jq element must be specified"}}this.m_InternalOnKeyDown=this._OnKeyDown.bind(this);this.m_jqElm.on("keydown",this.m_Delegate,this.m_Data,this.m_InternalOnKeyDown);this.m_IsActive=true}),Stop:e(function(l){this.PreventDefault();if(this.m_jqElm){this.m_jqElm.off("keydown",this.m_Delegate,this.m_Data,this.m_InternalOnKeyDown)}this.m_IsActive=false})});function b(m,l){this.m_InitData=m;this.m_KeyListener=null;this.EnabledColumns=l?l.EnabledColumns:null;this.m_Defaults={fnCanEdit:false,fnOnUpdate:function(q,o,p,n){}}}_.extend(b.prototype,{CanEdit:Utils.Functional.GetSet("m_Defaults.fnCanEdit",false),OnUpdate:Utils.Functional.GetSet("m_Defaults.fnOnUpdate",false)});_.extend(b.prototype,{_SetDefaultOptions:function(m,l){var n=_.defaults(m||{},l||{});n=_.defaults(n,this.m_Defaults);return n},_AddChangeListener:function(m,l){this.m_InitData.fnDataChangeCallbacks[m]=l},_ShowValue:function(n,l){var m=n.find(".ReadOnlyField").show();n.find(".EditField").hide();m.text(l)},_OnEditableClick:function(n,l,m){var o=this;this.m_InitData.AddRowCallback(function(s,p,q,r){if(!o.m_KeyListener){o.m_KeyListener=new i().Listen(o.m_InitData.Table)}var t=$("td."+n,s);t.off("click").on("click",c(l,p,function(v){var u,w;if(!t.find(".ReadOnlyField").is(":visible")){return}u=o.m_InitData.Table.fnElementData(t);o.m_KeyListener.OnKeyDown(function(){if(this.IsActive()){return true}return true});if(m){m(t,u)}return j.apply(this,arguments)}));t.removeClass("cursor");if(!a(l,p)){return}t.addClass("cursor")})},_CreateRevisedUpdate:function(l){var m=this;return function(q,o,p){var n=m.m_InitData.Table.fnElementData(q);if(l){return l(q,o,p,n)}}},_FocusOnNextInputField:function(l){if(this.m_KeyListener.IsKeyHandled()){return}this._FocusOnNextInputFieldCore(l);this.m_KeyListener.IsKeyHandled(true)},_FocusOnNextInputFieldCore:function(y){if(!this.m_KeyListener.Event()){return}var p=this.m_InitData.Table.fnElementData(y);var o=p.DataPropName;var s=KeyHelper.KeyMap;var x=this.m_KeyListener.Shift();var m=this.m_KeyListener.Ctrl();var v="a.ReadOnlyField";var w="td."+o;var r=this.m_KeyListener.KeyCodeIn.bind(this.m_KeyListener);var u=y.parents("tr");var l=null;if(x||r("left, up")){l=u.prev("tr")}else{l=u.next("tr")}var q=$.noop;if((m&&r("enter, tab"))||r("up, down")){u=l;if(!u.length){$(y).focus();return}q=u.find(w)}else{if(!(r("right, enter, tab, left"))){return}var t=r("right, enter, tab")!==x;var n=t?u.find(w).nextAll():u.find(w).prevAll();n.each(function(){if($(this).prop("class")===$(y).prop("class")){return true}if($(this).hasClass("cursor")){q=$(this);return false}});if(!_.any(q)&&_.any(l)){q=t?l.find(".cursor").first():l.find(".cursor").last()}}if(!_.any(q)){$(y).focus();return}q.focus().find(v).click()}});_.extend(b.prototype,{Add:function(l,n,m){return this.m_InitData.AddDataColumn(l,n,m)},AddNamedId:function(l,n,m){n=n||function(o,q,p){if(q==="type"){return"string"}else{return o&&o.Name||""}};return this.Add(l,n,m)},AddEdit:function(n,m){m=this._SetDefaultOptions(m,{fnCanEdit:undefined,fnOnUpdate:undefined,fnValidate:undefined,fnPresent:undefined,EmptyInputValue:undefined});var l=this._CreateRevisedUpdate(m.fnOnUpdate);return this.m_InitData.AddAjaxDataEditColumn(n,m.fnCanEdit,l,m.fnValidate,m.fnPresent,m.EmptyInputValue)},AddCombo:function(p,o){o=this._SetDefaultOptions(o,{ComboOptions:[],ComboFilter:{},fnOnSelectionChanged:$.noop,fnOnUpdate:undefined,TextProp:"Name",ValueProp:"ID"});var n=this.m_InitData;function q(v,s,t){var r=n.Table.fnElementData(v);if(o.fnOnUpdate){return o.fnOnUpdate(v,s,t,r)}var u=v.find("select");u.empty()}this._AddChangeListener(p,q);this._AddChangeListener(p+"_select",o.fnOnSelectionChanged);var m=function(s){var t,v,u;var r=_.isFunction(o.ComboOptions)?o.ComboOptions(s,p):o.ComboOptions;if(_.isFunction(o.ComboFilter)){t=o.ComboFilter}else{if(!_.any(_.keys(o.ComboFilter||{}))){t=function(){return true}}else{t=function(w,x){return _.all(_.pairs(o.ComboFilter),function(y){return(x[y[0]]===w[y[1]])})}}}v=t.bind(this,s);u=_.filter(r,v);return u};this._OnEditableClick(p,o.fnCanEdit,function(u,s){var r=m(s.RowData);var t=u.find("select");t.FillComboFromArray(r,o.TextProp,o.ValueProp);t.val(s.CurValue)});var l=function(w,v,t){var r=m(t);var u=_.findWhere(r,{ID:w});if(!u){u={Name:"Edit"}}var s="<a href='#' class='ReadOnlyField'>{Name}</a><select class='EditField' style='display: none'></select>".Format(u);return s};return this.Add(p,l)},AddTime:function(o,n){var l=this;n=this._SetDefaultOptions(n,{fnCanEdit:undefined,fnOnUpdate:undefined,fnValidate:function(r,p,q){return true},IsDuration:true});l._OnEditableClick(o,n.fnCanEdit,function(r,p){var q=r.find("input");if(IsInstanceOf(q,"time")){return}q.time({isDuration:n.IsDuration,ValidateInput:function(s,t){return n.fnValidate(r,p,t)},InputChanged:function(){var v,t,s,u;v=q.time("getTime");t=v.As24Hour(true);s=q.time("getDisplayString");u=p.RowData[o];p.UpdateProperty(o,t,false);setTimeout(function(){l._FocusOnNextInputField(r);if(n.fnOnUpdate){n.fnOnUpdate(r,t,u,p)}l._ShowValue(r,s)},0)},InputCancelled:function(){l._ShowValue(r)}})});var m=function(s){var r="";if(_.isDate(s)){return DateFormatter.ToTimeString(s,false)}else{r=TimeFormatter.TryParseTime(s).As24Hour(true)}var q="<a style='cursor:default' href='#' class='ReadOnlyField'>"+r+"</a>";var p="<input class='EditField' type='text' style='display: none' value='"+r+"'/>";return q+p};return l.Add(o,m)},AddCheckbox:function(o,n){n=this._SetDefaultOptions(n,{fnCanEdit:undefined,fnOnUpdate:undefined});var m=this._CreateRevisedUpdate(n.fnOnUpdate);var l=this.m_InitData.AddAjaxDataCheckboxColumn(o,n.fnCanEdit,m);l.AddClass("checkboxCell");return l},AddRadio:function(o,n){n=this._SetDefaultOptions(n,{fnCanEdit:undefined,fnOnUpdate:undefined,groupName:"group"});var m=this._CreateRevisedUpdate(n.fnOnUpdate);var l=this.m_InitData.AddAjaxDataRadioColumn(o,n.fnCanEdit,m,n.groupName);l.AddClass("radioCell");return l},AddButtons:function(n,l){var o=null;if(_.isFunction(l)){o=this.Add("Buttons",function(r,q,p){return ButtonList.CreateButtonList(l(r,q,p))})}else{var m=ButtonList.CreateButtonList(l);o=this.Add("Buttons",function(){return m})}return o.CustomAttributes({bSearchable:false,bSortable:false,SpecificColumnSearch:false,Sort:""}).Title(Lang.Trans("Actions"))},AddNumber:function(n,l,o,m){return this.AddQuantity(n,l,o,m)},AddQuantity:function(n,l,o,m){return this.Add(n,function(s,r,q){if(typeof m==="function"){s=m(s,r,q)}if(!_.isNumber(s)||(!s&&s!==0)){return s}if(r==="sort"||r==="export"){return s}var p=FormatFloat(s,l||0,".",",");if(o){p+=" "+o}return p}).AddClass("Number").SortType("numeric")},AddDateTime:function(m,o){o=this._SetDefaultOptions(o,{IncludeTime:true,IncludeSeconds:false,IncludeDate:true,dataProvider:null});var l=this.m_InitData._AddRenderColumn(m,function n(p,r,q){var s=p;if(_.isFunction(o.dataProvider)){s=o.dataProvider(s,q)}if(r==="sort"||r==="export"){return s}if(!s){return"N/A"}if(!o.IncludeTime){return DateFormatter.ToDateString(s)}if(!o.IncludeDate){return DateFormatter.ToTimeString(s,o.IncludeSeconds)}return DateFormatter.ToDateTimeString(s,o.IncludeSeconds)}).SortType("date");return l},AddDate:function(l,m){m=_.defaults(m||{},{IncludeTime:false});if(m.CanEdit){return this.m_InitData.AddAjaxDataDateEditColumn(l,m.IncludeTime,m.fnOnSelectDate,m.fnValidateDate,m.fnOnUpdate,m.DatePickerParams)}else{return this.AddDateTime(l,m)}},AddTimeOnly:function(l,m){m=_.defaults(m||{},{IncludeTime:true,IncludeSeconds:false,IncludeDate:false});return this.AddDateTime(l,m)},AddTimeSpan:function(m,o){o=this._SetDefaultOptions(o,{IncludeSeconds:false});var l=this.m_InitData._AddRenderColumn(m,function n(s,r,p){if(r==="export"){return s}if(!s){return""}var q=TimeSpan.TryParse(s);if(r==="sort"){return q?q.Ticks:Number.MIN_VALUE}if(!q){return"N/A"}return q.ToDisplayString(o.IncludeSeconds)}).SortType("numeric");return l},AddCustomField:function(n){var o=(n.ValueType||"").toLowerCase();var p=n.Id;var m=this.Add(n.FieldName,function q(w,v,t){var r=_.findWhere(t.CustomFields,{Id:p});if(r===undefined){return}if(o==="bool"||o==="boolean"){var u=r.Value?r.Value.toString().toLowerCase():"";if(u==="1"||u==="true"){return Lang.Trans("Yes")}else{return Lang.Trans("No")}}else{if(o==="url"){return"<a target='_blank' href='"+r.Value+"'>"+r.Value+"</a>"}else{if(o==="date"){var s=_.isString(r.Value)?new DateOnly(r.Value):r.Value;return DateFormatter.ToDateString(s)}else{return r.Value}}}});m.Title(n.Title);var l="CustomField {0}".Format(n.ObjectType);m.AddClass(l);m.Id(n.Id);return m},AddCustomFields:function(l){return _.chain(l).filter(function(m){return m.Title.length>0}).map(function(m){return this.AddCustomField(m)},this)},RemoveDisabledColumns:function(){if(!this.EnabledColumns||!this.EnabledColumns.length){return}this.m_InitData.aoColumns=_.filter(this.m_InitData.aoColumns,function(l){return _.some(this.EnabledColumns,function(m){return m.ClassName===l.sClass})},this)},RestrictAndOrder:function(l,n){if(!_.any(l)){return}var m=_.compact(_.map(l,function(p){var o=_.findWhere(this.m_InitData.aoColumns,{sColumnId:p.Id});return o},this));this.m_InitData.aoColumns=m},CreateFooter:function(n){var m=$("<tr>");_.each(this.m_InitData.aoColumns,function(o){m.append("<td>")});var l=$("<tfoot>").append(m);n.append(l)}})}(window.DataTableHelpers=window.DataTableHelpers||{}));(function(a){jQuery.fn.TFPDataTable=function(m){return a.CreateDataTable($(this),m)};var g=null;a.FixIEAlignment=function(m){if($.browser.msie){var n=m.css("width");$(".dataTables_scrollHead",m).css("margin-left","-1px");$(".dataTables_scrollHead",m).css("width",parseInt(n,10)-2+"px")}};function l(o,m){var n=[];if(!m.aoColumns){return}_.each(m.aoColumns,function(p,q){if(p.Sort){n.push([q,p.Sort])}});if(n.length>0){o.fnSort(n)}}function c(m){if(m.data("time")){return m.time("getTimeAsString")}if(m.is("input:text")||m.is("select")){var n=m.val();if(n===null){return""}return n}if(m.is("input:checkbox")){return m.is(":checked")}return m.text()}function j(r,n,m){if(!m){return}var s=n.parent("td");var q=r.fnGetPosition(s[0]);var p=r.fnGetData(q[0],q[2]);var o=c(n);if(o!==p){m(s,o,q[0])}}var f=KeyHelper.KeyMap;function b(x,p){if(!g){return}var w=g.shiftKey;var n=g.ctrlKey;var u="a.ReadOnlyField";var v="td."+p;var r=g.keyCode;var t=x.parents("tr");var m=null;if(w||[f.left,f.up].FirstOrDefault(r)){m=t.prev("tr")}else{m=t.next("tr")}var q=$.noop;if((n&&[f.enter,f.tab].FirstOrDefault(r))||[f.up,f.down].FirstOrDefault(r)){t=m;if(!t.length){$(x).focus();return}q=t.find(v)}else{if(!([f.right,f.enter,f.tab,f.left].FirstOrDefault(r))){return}var s=([f.right,f.enter,f.tab].FirstOrDefault(r)!==null)!==w;var o=s?t.find(v).nextAll():t.find(v).prevAll();o.each(function(){if($(this).prop("class")===$(x).prop("class")){return true}if($(this).hasClass("cursor")){q=$(this);return false}});if(!q.length&&m.length){q=s?m.find(".cursor").first():m.find(".cursor").last()}}if(!q.length){$(x).focus();return}q.focus().find(u).click();g=null}function i(y,t,q,r,s){if(!t.is(":visible")){return false}var z=t.parent("td");if(!z.length){return}var x=y.fnGetPosition(z[0]);var p=x[0];var m=x[2];var w=y.fnGetData(p,m);var u=c(t);if(u!==w){if(s){if(s(z,u)===false){return false}}var n=y.fnGetData(p);var o=y.fnGetTableColumnProperties()[x[2]];var v=n[o];n[o]=u;if(r){r(z,u,v,n)}y.fnSendDataUpdateEvent(t,n,o);t.hide();z.find(".ReadOnlyField").show();y.fnUpdate(n,p,undefined,false,false);b(z,q);return true}t.hide();z.find(".ReadOnlyField").show();b(z,q);return true}function d(m,o){if(m.bPaginate===false||m.bLengthChange===false){return}var n=o.find(".LengthWrapper");n.find(".dataTables_info").attr("title",Lang.Trans("Click to change number of shown elements")).addClass("ui-enabled");n.find(".dataTables_info").click(function(){var p=n.find("ul");if(p.is(":visible")){p.hide();n.removeClass("Open")}else{p.show();p.width(n.outerWidth());n.addClass("Open")}});n.append("<ul>");n.find("select option").each(function(){var p=$("<li ComboValue='"+$(this).val()+"'>"+$(this).text()+"</li>");if($(this).is(":selected")){p.addClass("Selected")}n.find("ul").append(p);p.click(function(){$(this).parent().find("li").removeClass("Selected");$(this).addClass("Selected");var q=n.find("select");q.find("option").removeAttr("selected");q.find("option[value='"+$(this).attr("ComboValue")+"']").attr("selected","selected");q.change();n.find("ul").hide();n.removeClass("Open")})})}function e(p,q,m){if(m.sScrollX!==undefined&&m.sScrollX!==null){var o=q.find(".dataTables_scroll");var n=o.find(".dataTables_scrollHead, .dataTables_scrollBody");if(!IsExplorer8()){var r=null;$(window).resize(function(){n.css("visibility","hidden");if(r!==null){clearTimeout(r)}r=setTimeout(function(){if(m.sScrollY!==undefined&&m.sScrollY!==null){$(".dataTables_scrollBody>table.dataTable",o).css("width","")}a.FixIEAlignment(p.closest(".dataTables_wrapper"));n.css("visibility","visible");p.fnAdjustColumnSizing(m.RedrawOnResize===true)},80)})}}}function k(q,m,n,o){var p="td."+m+" .EditField";q.off("blur",p).on("blur",p,m,function(r){if(!i(q,$(this),m,n[r.data],o[r.data])){var u=$(this).parent("td");if(!u.length){return}$(this).hide();u.find(".ReadOnlyField").show();var t=q.fnGetPosition(u[0]);var s=q.fnGetData(t[0],t[2]);$(this).val(s)}});q.off("keydown",p).on("keydown",p,m,function(r){g=r;if(r.which===13){return i(q,$(this),m,n[r.data],o[r.data])}});q.off("change",p).on("change",p,m,function(r){j(q,$(this),n[r.data+"_select"]);return false})}a.CreateDataTable=function(p,q){if(!q){q=new a.InitData()}else{if(!(q instanceof a.InitData)){q=new a.InitData(q)}}q.Columns.RemoveDisabledColumns();q.InjectSearchableColumns(p);if(q.NewRowsAtTop()){q.InjectCreatedRowColumn(p)}var r=[];q.oColReorder=q.oColReorder||{};if(q.oColReorder.fnReorderCallback){r.push(this.oColReorder.fnReorderCallback)}q.oColReorder.fnReorderCallback=function(){h.call(this,r)};var t=p.dataTable(q);t.AddColReorderCallback=function(w){r.push(w)};var u=t.parents(".dataTables_wrapper");q.Table=t;if(q.ToolbarButtons){u.find(".ButtonPlaceholder").append(q.ToolbarButtons)}var m=u.find(".ColumnFilterPlaceHolder");m.hide();d(q,u);if(q.Resize!==false){e(t,u,q)}for(var n in q.fnDataChangeCallbacks){if(q.fnDataChangeCallbacks.hasOwnProperty(n)){k(t,n,q.fnDataChangeCallbacks,q.fnDataValidateCallbacks)}}l(t,q);t.on("click",'a[href="#"]',function(){return false});var v=u.find("thead");v.addClass("DataTableThead ui-widget-header");var s=u.find(".dataTables_scrollHead");if(s.length){$(s[0]).addClass("DataTableThead ui-widget-header")}var o=u.find(".dataTable");if(o.length){$(o[0]).addClass("ui-widget-content")}q.AddClickHandlers(t);q.AddColumnActions(t);return t};function h(m){_.each(m,function(n){n.call(this)},this)}}(window.DataTableHelpers=window.DataTableHelpers||{}));window.DataTableSerializer=function(d,c){this.m_UniqueRowCounter=0;this.m_NewRowsAtTop=(c&&c.NewRowsAtTop())===true;this.m_DeletedRows={};this.m_AddedRows={};this.m_UpdatedRows={};this.m_SortOnUpdate=d.fnSettings().oFeatures.bSort;var b=this;b.OnChange=function(e){if(this.fnOnChange){this.fnOnChange(e)}};b.Reset=function(){this.m_AddedRows={};this.m_UpdatedRows={};this.m_DeletedRows={};this.OnChange(null)};b.CollectChanges=function(){var f=$.extend({},this.m_AddedRows||{},this.m_UpdatedRows||{},this.m_DeletedRows||{});var g=[];for(var e in f){if(f.hasOwnProperty(e)){g.push(f[e])}}return g};b.UpdateRow=function(f){var e=d.$("tr#"+f.DT_RowId);if(e.length===0){throw"Row does not exists"}if(this.m_AddedRows[f.DT_RowId]){this.m_AddedRows[f.DT_RowId]=Clone(f)}else{f.DT_TrxType="update";this.m_UpdatedRows[f.DT_RowId]=Clone(f)}var g=this.EnableSort(this.m_SortOnUpdate);d.fnUpdate(f,e[0],undefined,false,false);this.EnableSort(g);this.OnChange(f)};b.DeleteRow=function(f){var e=d.$("tr#"+f.DT_RowId);if(e.length===0){throw"Row does not exists"}f.DT_TrxType="delete";if(this.m_AddedRows[f.DT_RowId]){delete this.m_AddedRows[f.DT_RowId]}else{this.m_DeletedRows[f.DT_RowId]=Clone(f)}var g=this.EnableSort(this.m_SortOnUpdate);d.fnDeleteRow(e[0]);this.EnableSort(g);this.OnChange(f)};b.AddRow=function(g){var f=d.$("tr#"+g.DT_RowId);if(f.length!==0){throw"Row already exists - cannot add it again"}g.DT_RowId="new_row_"+(this.m_UniqueRowCounter++).toString().RightJustify(3,"0");g.DT_TrxType="new";this.m_AddedRows[g.DT_RowId]=Clone(g);var e=this.m_SortOnUpdate||this.m_NewRowsAtTop;var h=this.EnableSort(e);d.fnAddData(g);this.EnableSort(h);this.OnChange(g)};function a(e){if(e===null){return false}for(var f in e){if(e.hasOwnProperty(f)){return true}}return false}b.UncommitedChanges=function(){return(a(this.m_AddedRows)||a(this.m_UpdatedRows)||a(this.m_DeletedRow))};b.EnableSort=function(e){var f=d.fnSettings().oFeatures.bSort;d.fnSettings().oFeatures.bSort=e;return f};b.EnableSortOnUpdates=function(e){this.m_SortOnUpdate=e};b.UpdateWithData=function(g,h){var k=this.EnableSort(this.m_SortOnUpdate);for(var j=0;j<g.aaData.length;++j){var e=g.aaData[j];var f=d.$("tr#"+e.DT_RowId);if(e.DT_TrxType==="new"){if(f.length!==0){d.fnUpdate(e,f[0],undefined,h);continue}d.fnAddData(e);continue}if(e.DT_TrxType==="delete"){if(f.length===0){continue}d.fnDeleteRow(f[0]);continue}if(e.DT_TrxType==="update"){if(f.length===0){throw"No row to update"}d.fnUpdate(e,f[0],undefined,h);continue}throw"Don't know the entry type"}this.EnableSort(k)}};$.fn.dataTableExt.oApi.fnSetCellValue=function(e,b,a,f){var c=e.aoColumns[a];var d=e.aoData[b]._aData;c.fnSetData(d,f);this.fnSetResetFilter()};$.fn.dataTableExt.oApi.fnSetResetFilter=function(a){a.bResetFiltering=true};$.fn.dataTableExt.oApi.fnCheckAndToggleResetFilter=function(a){var b=a.bResetFiltering?1:0;a.bResetFiltering=false;return b};$.fn.dataTableExt.oApi.fnResetFilteringOnInput=function(c){if(!c.oFeatures.bFilter){return}var a=$("."+c.oClasses.sFilter+" input");var b=c.oPreviousSearch;var d=this;a.unbind("keyup.DT");a.bind("keyup.DT",function(){var g=c.aanFeatures.f;for(var e=0,f=g.length;e<f;e++){if(g[e]!==$(this).parents("div.dataTables_filter")[0]){$("input",g[e]).val(this.value)}}if(this.value!==b.sSearch){c.oApi._fnFilterComplete(c,{sSearch:this.value,bRegex:b.bRegex,bSmart:b.bSmart,bCaseInsensitive:b.bCaseInsensitive},d.fnCheckAndToggleResetFilter())}})};$.fn.dataTableExt.oApi.fnFilterClear=function(e){e.oPreviousSearch.sSearch="";if(typeof e.aanFeatures.f!=="undefined"){var d=e.aanFeatures.f;for(var a=0,b=d.length;a<b;a++){$("input",d[a]).val("")}}for(var c=0;c<e.aoPreSearchCols.length;++c){e.aoPreSearchCols[c].sSearch=""}e.oApi._fnReDraw(e)};$.fn.dataTableExt.oApi.fnStandingRedraw=function(b){if(b.oFeatures.bServerSide===false){var a=b._iDisplayStart;b.oApi._fnReDraw(b);b._iDisplayStart=a;b.oApi._fnCalculateEnd(b)}b.oApi._fnDraw(b)};$.fn.dataTableExt.afnSortData["dom-TFPDate"]=function(f,e){var a=[];var b=f.aoColumns[e].mDataProp;var g=f.aoData;for(var d=0;d<g.length;++d){var h=g[d]._aData[b];var c=null;if(isNumber(h)){c=h}else{c=DateFormatter.ToDateFromTfpString(h).getTime()}if(c===null){c=0}a.push(c)}return a};$.fn.dataTableExt.afnSortData["dom-DateNoProp"]=function(c,b){var a=[];$(c.oApi._fnGetTrNodes(c)).each(function(){var d=new Date($(this.children[b]).find("div").attr("date"));a.push(d)});return a};$.fn.dataTableExt.oApi.fnReloadAjax=function(e,f,c,b){if(f){e.sAjaxSource=f}this.oApi._fnProcessingDisplay(e,true);var g=this;var d=e._iDisplayStart;var a=[];this.oApi._fnServerParams(e,a);e.fnServerData(e.sAjaxSource,a,function(k){g.oApi._fnClearTable(e);var h=(e.sAjaxDataProp!=="")?g.oApi._fnGetObjectDataFn(e.sAjaxDataProp)(k):k;for(var j=0;j<h.length;j++){g.oApi._fnAddData(e,h[j])}e.aiDisplay=e.aiDisplayMaster.slice();g.fnDraw();if(typeof b!=="undefined"&&b===true){e._iDisplayStart=d;g.fnDraw(false)}g.oApi._fnProcessingDisplay(e,false);if(c&&typeof c==="function"){c(e,h)}},e)};$.fn.dataTableExt.oApi.fnGetFilteredData=function(c,f){var e=this.$("tr",{filter:"applied"});var a=[];for(var b=0;b<e.length;++b){var d=this.fnGetData(e[b]);if(f){d.Html=e[b]}a.push(d)}return a};$.fn.dataTableExt.afnSortData["dom-Combobox"]=function(c,b){var a=[];$(c.oApi._fnGetTrNodes(c)).each(function(){var d=$("option:selected",this.children[b]).text();if(d){a.push(d)}else{a.push($(this.children[b]).html())}});return a};$.fn.dataTableExt.oApi.fnDisplayRow=function(e,d){if(e._iDisplayLength===-1){return}var c=-1;for(var a=0,b=e.aiDisplay.length;a<b;a++){if(e.aoData[e.aiDisplay[a]].nTr===d){c=a;break}}if(c>=0){e._iDisplayStart=(Math.floor(a/e._iDisplayLength))*e._iDisplayLength;this.oApi._fnCalculateEnd(e)}this.oApi._fnDraw(e)};$.fn.dataTableExt.oApi.fnSendDataUpdateEvent=function(g,c,a,b,e){var d=c.parents("table");var f=c.parents("tr");d.trigger("/Table/Update",{jqRow:f,koNoRedraw:e,newData:a,changedProperty:b})};$.fn.dataTableExt.oApi.fnGetTableColumnProperties=function(c){var a=[];for(var b=0;b<c.aoColumns.length;++b){a.push(c.aoColumns[b].mDataProp)}return a};$.fn.dataTableExt.oApi.fnShownTableColumnProperties=function(e){var b=[];for(var c=0;c<e.aoColumns.length;++c){var a=e.aoColumns[c];if(!a.bVisible){continue}var d={};d.DataProp=a.mDataProp||a.sClass.split(" ")[0];d.Title=a.sTitle;b.push(d)}return b};$.fn.dataTableExt.oApi.fnReloadWithData=function(b,a){this.fnClearTable();this.fnAddData(a);this.fnDraw()};$.fn.dataTableExt.oApi.fnElementData=function(i,b,c){var h=this;if(!_.any(b)){return null}var d=b[0];var e=this.fnGetPosition(d);if(e===null){return null}var f={SetData:function(j,k){var l=_.extend(this.RowData,j);this.RowData=l;h.fnUpdate(l,this.RowPos,undefined,k,k);return this},UpdateData:function(k,j,m,l){this.SetData(k,m);h.fnSendDataUpdateEvent(b,this.RowData,j,l);return this},UpdateProperty:function(k,n,l,j){var m={};m[k]=n;this.UpdateData(m,k,l,j)},Delete:function(){h.fnDeleteRow(this.RowPos);return this}};if(!(b.is("tr")||b.is("td"))){b=b.closest("td")}if(b.is("tr")){f.RowPos=e;f.RowData=h.fnGetData(e);return f}var g=e[0];var a=e[2];f.RowPos=g;f.ColPos=a;f.RowData=this.fnGetData(g);f.DataPropName=i.aoColumns[a].mDataProp;f.CurValue=this.fnGetData(g,a);if(c!==undefined){f.NewRowData=Clone(f.RowData);f.NewRowData[f.DataPropName]=c}return f};$.fn.dataTableExt.oApi.fnAdjustTableWidth=function(a){this.fnAdjustColumnSizing(false);if(a.oScroll.sY!==undefined&&a.oScroll.sY!==null){$(a.nTable).css("width","")}DataTableHelpers.FixIEAlignment($(a.nTable).closest(".dataTables_wrapper"))};$.fn.dataTableExt.oApi.fnNextRow=function(e,d){var b=this.$("tbody tr.selected").index()+2;if(this.$("tbody tr").length<b){if(!e.bPaginate&&d&&d.BlockAtEnd){return this.fnElementData(this.$("tbody tr.selected"))}var f=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1;var c=(Math.ceil(this.fnGetData().length/e._iDisplayLength))+1;if(c<f&&d&&d.BlockAtEnd){return this.fnElementData(this.$("tbody tr.selected"))}if(c<f){f=0}this.fnPageChange(f);b=1}this.$("tbody tr.selected").removeClass("selected");this.$("tbody tr:nth-child("+b+")").addClass("selected");var a=this.fnElementData(this.$("tbody tr.selected"));return a};$.fn.dataTableExt.oApi.fnPreviousRow=function(d,c){var b=this.$("tbody tr.selected").index();if(b<1){if(!d.bPaginate&&c&&c.BlockAtStart){return this.fnElementData(this.$("tbody tr.selected"))}var e=Math.ceil(d._iDisplayStart/d._iDisplayLength)-1;if(e<0&&c&&c.BlockAtStart){return this.fnElementData(this.$("tbody tr.selected"))}if(e<0){e=(Math.ceil(this.fnGetData().length/d._iDisplayLength))-1}this.fnPageChange(e);b=this.$("tbody tr").length}this.$("tbody tr.selected").removeClass("selected");this.$("tbody tr:nth-child("+b+")").addClass("selected");var a=this.fnElementData(this.$("tbody tr.selected"));return a};function QueryUrlParams(d){d=d.split("+").join(" ");var a={},c,b=/[?&]?([^=]+)=([^&]*)/g;c=b.exec(d);while(c){a[decodeURIComponent(c[1])]=decodeURIComponent(c[2]);c=b.exec(d)}return a}$.fn.dataTableExt.oApi.fnSetPageFromUrl=function(){if(!document.location.search){return}var b=QueryUrlParams(document.location.search);if(!b||!b.page){return}var a=parseInt(b.page,10);if(a){this.fnPageChange(a)}};(function(a){a.ExtractExportData=function(l,j){var k=[];j=j||{};function g(m){if(_.isDate(m)){return DateFormatter.ToTfpDateTimeString(m,true)}return m}function h(){var m=_.chain(l.aoColumns).filter(function(n){return n.bVisible&&!n.bExcludeFromExport}).map(function(n){var p=n.mRender;if(n.fnRender){p=function(w,v,u){var s={aoData:u};var t=n.fnRender(s,w);return t}}p=p||function(s){return s};var o=function(w,v,t){var s=p(w,v,t);var u=g(s,v,t);return u};var r=n.aExportTitles||n.sTitle||"";if(!_.isArray(r)){r=[r]}var q={DataProp:n.mDataProp,mData:n.mData,mRender:o,sClass:n.sClass,Titles:r};return q}).value();return m}function f(m){var n=_.flatten(_.map(m,function(o){var p=_.map(o.Titles,function(q){return{Value:q,Style:j.HeaderStyle}});return p}),true);return{Cells:n}}function i(m,p){var o=m.DataProp||m.mData;if(!o){return null}var n=l.oApi._fnGetObjectDataFn(o);return n(p)}function e(m){var o=l.aoData;var n=_.chain(o).filter(function(p){return _.isFunction(j.fnIncludeRow)?j.fnIncludeRow(p._aData):true}).map(function(p){var q=_.map(m,function(s){var t=p._aData;var v=i(s,t);var r=s.mRender.call(l,v,"export",t);if(!_.isArray(r)){r=[r]}var u=_.map(s.Titles,function(A,z){var x=z<r.length?r[z]:"";if(_.isUndefined(x)||_.isNull(x)){x=""}var y=(x).toString();if(y.indexOf("<")+y.indexOf(">")!==-2){x=""}var w=!_.isObject(x)?{Value:x}:x;return w});return u});return{Cells:_.flatten(q,true)}}).value();return n}var d=h();k.push(f(d));k=k.concat(e(d));return k};function b(e,f,g){var d={Rows:g};if(f.IsCsv){d.Delimeter=f.CsvDelimiter;d.Replacement=f.CsvReplacement}if(e.indexOf(".")<0){e+=f.IsCsv?".csv":".xlsx"}d.FileName=e;var h=f.IsCsv?Url.Core("ExportToCsv"):Url.Core("ExportToExcel");FileContent.DownloadRequest(h,{data:d})}$.fn.dataTableExt.oApi.ExportToFile=function(h,e,f){var d={IsCsv:false,CsvDelimiter:";",CsvReplacement:":",HeaderStyle:{Bold:true},fnIncludeRow:function(){return true}};f=_.defaults(f||{},d);var g=a.ExtractExportData(h,f);b(e,f,g)};var c=Utils.Functional.GetSet;a.StyledValue=function(e,d){this.Value=e.toString();this.Style=d||{}};_.extend(a.StyledValue.prototype,{Bold:c("Style.Bold"),FontSize:c("Style.FontSize"),FontName:c("Style.FontName"),Format:c("Style.Format"),TextColor:c("Style.TextColor"),BackgroundColor:c("Style.BackgroundColor")});a.Render={Float:function(e,d){var f=new a.StyledValue(e);f.Format("0."+"".RightJustify(d,"0"));return f}}}(window.ExcelWriter=window.ExcelWriter||{}));var DataTableVisibleColumnsDialog=(function(){function c(e){var f=e.length;var g=_.filter(e,function(h){return f-_.without(e,h).length>1});return _.unique(g)}function a(t,p,g){var s=this;var m=new PartialView.DialogLoader(Url.UserActivities("DataTableVisibleColumnsDialog"));var l=null;var n=t;var f=h();var r=c(_.pluck(f,"sColumnId"));if(_.any(r)){throw"Columns ids must be unique! The following entries are repeated: '{0}'".Format(r.Join(", "))}var o=new d(f);o.UpdateColumns(f);var k=g;t.AddColReorderCallback(function(){s.SaveCookie()});function h(){var u=n.fnSettings();if(!u){throw"Table with id of '{0}' has no settings object!".Format(n.attr("id"))}return u.aoColumns}function j(v){ko.applyBindings(o,v[0]);var u={};u[Lang.Trans("Save")]=s.Save;u[Lang.Trans("Cancel")]=function(){$(this).dialog("close")};l=v.dialog({modal:true,resize:false,autoOpen:false,close:p||$.noop,buttons:u})}function q(){o.UpdateColumns(h());l.dialog("open")}this.Open=function(){if(m.IsLoaded){q()}else{m.Load(function(u){j(u);q()})}};this.ShowColumns=function(u,w){if(!_.isArray(u)){u=[u]}o.UpdateColumns(h());var v=o.Columns();_.each(v,function(x){if(!_(u).contains(x.ColumnClass)){return}n.fnSetColumnVis(x.Index,w)});n.fnAdjustColumnSizing();n.fnDraw()};this.Save=function(){var u=o.Columns();_.each(u,function(v){n.fnSetColumnVis(v.Index,v.IsVisible)});n.fnAdjustColumnSizing();n.fnDraw();s.SaveCookie();l.dialog("close")};this.SaveCookie=function(){if(!k){return}o.UpdateColumns(h());var u=_.map(o.Columns(),function(w){return _.pick(w,"Id","IsVisible")});var v=new Date();v.setDate(v.getDate()+365);setCookie(k,JSON.stringify(u),v)};this.SetupColumns=function(u,v){if((!i()&&u&&_.any(u))||v){e(u)}else{this.LoadCookie()}};function e(v){var w=o.Columns();var y=[];_.each(v,function(z,B){var A=_.find(w,function(C){return C.Id===z.Id||"VIEW[{0}]".Format(C.Id)===z.Id});if(A){n.fnSetColumnVis(A.Index,z.IsVisible);y.push(A.Index)}});var x=_.reject(w,function(z){return _.any(v,function(A){return z.Id===A.Id||"VIEW[{0}]".Format(z.Id)===A.Id})});_.each(x,function(z){n.fnSetColumnVis(z.Index,false)});var u=_.difference(_.range(n.fnSettings().aoColumns.length),y);y=y.concat(u);n.fnSettings()._colReorder.fnOrder(y)}function i(){if(!k){return false}return !!getCookie(k)}this.LoadCookie=function(){if(!k){return}var v=getCookie(k);if(!v){return}var u=JSON.parse(v);e(u)}}function d(e){var g=_.chain(e).filter(function(h){return h.NeverVisible!==true}).map(function(h){return h.sClass}).value();this.Columns=ko.observableArray([]);this.CheckAll=ko.computed({read:function(){return _.every(this.Columns(),function(h){return h.IsVisible})},write:function(h){var i=this.Columns.removeAll();_.each(i,function(j){j.IsVisible=h});this.Columns(i)},owner:this});this.UpdateColumns=function(h){var i=b(h,g,function(k){return k.sClass});var j=_.compact(_.map(i,function(k,l){if(k.sClass.StartsWith("_")){return}return new f(k,l)}));this.Columns(j)};function f(i,h){this.Id=i.sColumnId;this.ColumnName=!i.sTitle||i.sTitle==="&nbsp;"?"("+_.first(i.sClass.split(" "))+")":i.sTitle;this.IsVisible=i.bVisible;this.ColumnClass=i.sClass;this.Index=h}}function b(j,g,k){k=k||function(p){return p};g.sort();var i=_.map(j,function(p,q){return{Index:q,Id:k(p)}});i=_.sortBy(i,function(p){return p.Id});var e=0;var f=0;var o=0;var n=i.length>g.length?i.length:g.length;var m=new Array(n);while(e<i.length&&f<g.length){var h=i[e];var l=g[f];if(h.Id<l){++e}else{if(h.Id>l){++f}else{m[h.Index]=j[h.Index];++o;++e;++f}}}return m.slice(0,o)}return a})();(function(a){a.DialogLoader=function(d){var c=this;var b=d;this.Load=function(e){AjaxHelpers.GetHtml({url:d,showLoadingPopup:true,success:function(f){var g=$(f).appendTo("body");c.IsLoaded=true;e(g)}})};this.IsLoaded=false}}(window.PartialView=window.PartialView||{}));/* Idle Timer - v1.0.1 - 2014-03-21
* https://github.com/thorst/jquery-idletimer
* Copyright (c) 2014 Paul Irish; Licensed MIT */
(function(a){a.idleTimer=function(d,c){var h;if(typeof d==="object"){h=d;d=null}else{if(typeof d==="number"){h={timeout:d};d=null}}c=c||document;h=a.extend({idle:false,timeout:30000,events:"mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove"},h);var f=a(c),g=f.data("idleTimerObj")||{},m=function(n){var p=a.data(c,"idleTimerObj")||{};p.idle=!p.idle;p.olddate=+new Date();var o=a.Event((p.idle?"idle":"active")+".idleTimer");a(c).trigger(o,[c,a.extend({},p),n])},e=function(n){var p=a.data(c,"idleTimerObj")||{};if(p.remaining!==null){return}if(n.type==="mousemove"){if(n.pageX===p.pageX&&n.pageY===p.pageY){return}if(typeof n.pageX==="undefined"&&typeof n.pageY==="undefined"){return}var o=(+new Date())-p.olddate;if(o<200){return}}clearTimeout(p.tId);if(p.idle){m(n)}p.lastActive=+new Date();p.pageX=n.pageX;p.pageY=n.pageY;p.tId=setTimeout(m,p.timeout)},k=function(){var n=a.data(c,"idleTimerObj")||{};n.idle=n.idleBackup;n.olddate=+new Date();n.lastActive=n.olddate;n.remaining=null;clearTimeout(n.tId);if(!n.idle){n.tId=setTimeout(m,n.timeout)}},i=function(){var n=a.data(c,"idleTimerObj")||{};if(n.remaining!==null){return}n.remaining=n.timeout-((+new Date())-n.olddate);clearTimeout(n.tId)},l=function(){var n=a.data(c,"idleTimerObj")||{};if(n.remaining===null){return}if(!n.idle){n.tId=setTimeout(m,n.remaining)}n.remaining=null},b=function(){var n=a.data(c,"idleTimerObj")||{};clearTimeout(n.tId);f.removeData("idleTimerObj");f.off("._idleTimer")},j=function(){var n=a.data(c,"idleTimerObj")||{};if(n.idle){return 0}if(n.remaining!==null){return n.remaining}var o=n.timeout-((+new Date())-n.lastActive);if(o<0){o=0}return o};if(d===null&&typeof g.idle!=="undefined"){k();return f}else{if(d===null){}else{if(d!==null&&typeof g.idle==="undefined"){return false}else{if(d==="destroy"){b();return f}else{if(d==="pause"){i();return f}else{if(d==="resume"){l();return f}else{if(d==="reset"){k();return f}else{if(d==="getRemainingTime"){return j()}else{if(d==="getElapsedTime"){return(+new Date())-g.olddate}else{if(d==="getLastActiveTime"){return g.lastActive}else{if(d==="isIdle"){return g.idle}}}}}}}}}}}f.on(a.trim((h.events+" ").split(" ").join("._idleTimer ")),function(n){e(n)});g=a.extend({},{olddate:+new Date(),lastActive:+new Date(),idle:h.idle,idleBackup:h.idle,timeout:h.timeout,remaining:null,tId:null,pageX:null,pageY:null});if(!g.idle){g.tId=setTimeout(m,g.timeout)}a.data(c,"idleTimerObj",g);return f};a.fn.idleTimer=function(b){if(this[0]){return a.idleTimer(b,this[0])}return this}})(jQuery);var Timer;(function(a){var b=(function(){function c(d,f){d=_.defaults(d||{},{IdleTimeout:30,IdleElement:document});this.m_IdleOptions=d;f=_.defaults(f||{},{TimerTimeout:15,FnTimerCallback:function(){Log.Core.Timer.WriteDebug("DefaultFnTimerCallback")},});this.m_TimerOptions=f;var e=this;if(d.IdleTimeout>0){Log.Core.Timer.WriteDebug("SetupIdleTimer: {0}s".Format(this.m_IdleOptions.IdleTimeout));this.m_IdleTimer=$(this.m_IdleOptions.IdleElement).idleTimer(this.m_IdleOptions.IdleTimeout*1000);$(this.m_IdleTimer).off("idle.idleTimer").on("idle.idleTimer",function(){Log.Core.Timer.WriteDebug("idle.idleTimer");e.StopTimer();if(_.isFunction(d.FnIdleCallback)){d.FnIdleCallback()}});$(this.m_IdleTimer).off("active.idleTimer").on("active.idleTimer",function(){Log.Core.Timer.WriteDebug("active.idleTimer");e.StartTimer();if(_.isFunction(d.FnActiveCallback)){d.FnActiveCallback()}})}}c.prototype.Start=function(){Log.Core.Timer.WriteDebug("StartIdleTimer: {0}s".Format(this.m_IdleOptions.IdleTimeout));this.StartTimer()};c.prototype.Stop=function(){Log.Core.Timer.WriteDebug("StopIdleTimer");this.m_IdleTimer.idleTimer("destroy");this.m_IdleTimer=null;this.StopTimer()};c.prototype.IsIdle=function(){if(this.m_IdleTimer){var d=this.m_IdleTimer.idleTimer("isIdle");return d}};c.prototype.StartTimer=function(){this.StopTimer();if(this.m_TimerOptions.TimerTimeout>0){Log.Core.Timer.WriteDebug("StartTimer: {0}s".Format(this.m_TimerOptions.TimerTimeout));this.m_TimerIntervalId=setInterval(this.m_TimerOptions.FnTimerCallback.bind(this),this.m_TimerOptions.TimerTimeout*1000)}};c.prototype.StopTimer=function(){if(this.m_TimerIntervalId){Log.Core.Timer.WriteDebug("StopTimer");clearInterval(this.m_TimerIntervalId);this.m_TimerIntervalId=null}};return c})();a.Timer=b})(Timer||(Timer={}));(function(d){d.WeekSelect=function(f,e){this.m_Node=f;this.Options={StartYear:e.StartYear,EndYear:e.EndYear,fnOnChange:e.fnOnChange,LatestEntryDate:e.LatestEntryDate};this.StartDate=null;this.EndDate=null;this.WeekNo=null};function b(f){if((f.getMonth()===0&&f.getDate()<=4)||(f.getMonth()===11&&f.getDate()>=27)){var e=f.getWeek();var g=null;do{f.setDate(f.getDate()+1);g=f.getWeek()}while(e===g);return g}else{f.setDate(f.getDate()+7)}}function c(j,g,l){if(!l){if($("#Week option:selected").length>0){l=parseInt($("#Week option:selected").val(),10)}else{l=new Date().getWeek()}}var i=$("#Week").empty();$("#Week").after("<select id='Week'></select>");i.remove();var m=parseInt($("#Year option:selected").val(),10);if(!g){g=new Date(m,11,31)}g.setHours(0,0,0,0);var e=new Date(m,0,1);if(e.getTime()>g.getTime()){return}for(;e<=g;b(e)){var h=e.getWeek();var k=h.toString();if(h===0){k="("+(new Date(m-1,11,31).getWeek())+")"}var f=new Date(e.getTime());f.setDate(f.getDate()+6-f.getDay());f=f.getTime()>g.getTime()?g:f;$("#Week").append($("<option value='"+h+"'>"+k+"</option>").attr("start",e.getTime()).attr("end",f.getTime()))}$("#Week").val(l);$("#Week").unbind("change").change(function(){var o=parseInt($("#Week option:selected").attr("start"),10);var n=parseInt($("#Week option:selected").attr("end"),10);j.StartDate=new Date(o);j.EndDate=new Date(n);j.WeekNo=j.EndDate.getWeek();j.Options.fnOnChange(j.StartDate,j.EndDate,j.WeekNo)});$("#Week").change()}function a(m,i,h){var f=null;var g=m.Options;if(g.LatestEntryDate){f=g.LatestEntryDate}$("#prevWeek").button({icons:{primary:"ui-icon-circle-triangle-w"},text:false});$("#prevWeek").removeClass("ui-corner-all").addClass("ui-corner-tl").addClass("ui-corner-bl");$("#nextWeek").button({icons:{primary:"ui-icon-circle-triangle-e"},text:false});$("#nextWeek").removeClass("ui-corner-all").addClass("ui-corner-tr").addClass("ui-corner-br");var l=new Date().getFullYear();var k=g.StartYear!==undefined?g.StartYear:l;var e=g.EndYear!==undefined?g.EndYear:(f?f.getFullYear():l);if(k<1000){k=l+k}if(e<1000){e=l+e}$("#Year").empty();for(var n=k;n<=e;++n){$("#Year").append("<option value='"+n+"'>"+n+"</option>")}var j=i||new Date().getFullYear();$("#Year").val(j);$("#Year").unbind("change").change(function(){var p=parseInt($("#Year option:selected").val(),10);if(f&&p===f.getFullYear()){var o=f.getWeek()<=h?f.getWeek():h;c(m,f,o)}else{c(m,null,h)}});$("#nextWeek").click(function(){var p=$("#Week option:selected").next();if(p.length===0){var o=$("#Year option:selected");var q=o.next();if(q.length===0){return}o.removeAttr("selected");q.attr("selected","selected");c(m,f,1);p=$("#Week option:first")}$("#Week option").removeAttr("selected");p.attr("selected","selected");$("#Week").change()});$("#prevWeek").click(function(){var p=$("#Week option:selected").prev();if(p.length===0){var o=$("#Year option:selected");var q=o.prev();if(q.length===0){return}o.removeAttr("selected");q.attr("selected","selected");c(m,null,new Date(q.val(),11,31).getWeek());p=$("#Week option:last")}$("#Week option").removeAttr("selected");p.attr("selected","selected");$("#Week").change()});$("#Year").change()}jQuery.fn.WeekSelect=function(e){$(this).addClass("WeekSelect").append("<label><b>"+Lang.Trans("Year")+" / "+Lang.Trans("Week")+"</b></label>").append("<button id='prevWeek' type='button'>"+Lang.Trans("Prev week")+"</button>").append("<select id='Year'></select>").append("<select id='Week'></select>").append("<button id='nextWeek' type='button'>"+Lang.Trans("Next week")+"</button>");var f=new d.WeekSelect(this,e);a(f,e.SelectedYear,e.SelectedWeek);return f}}(window.WeekSelectModule=window.WeekSelectModule||{}));(function(b){b.DateSelect=function(d,c){var e=this;e.m_Node=d;e.Options={fnOnChange:c.fnOnChange||function(f){},DatePickerOptions:c.DatePickerOptions||{},Date:c.Date||new Date()};e.Options.DatePickerOptions.onSelect=function(){e.Options.fnOnChange($(this).datepicker("getDate"))}};function a(d){$(".DateSelect #prevWeek").button({icons:{primary:"ui-icon-circle-triangle-w"},text:false});$(".DateSelect #prevWeek").removeClass("ui-corner-all").addClass("ui-corner-tl").addClass("ui-corner-bl");$(".DateSelect #nextWeek").button({icons:{primary:"ui-icon-circle-triangle-e"},text:false});$(".DateSelect #nextWeek").removeClass("ui-corner-all").addClass("ui-corner-tr").addClass("ui-corner-br");var c=$(".DateSelect #Date").DatePickerRO(d.Options.DatePickerOptions).datepicker("setDate",d.Options.Date);function e(){d.Options.fnOnChange(c.datepicker("getDate"))}$(".DateSelect #nextWeek").click(function(){var f=c.datepicker("getDate");c.datepicker("setDate",DateHelper.AddDays(f,7));e()});$(".DateSelect #prevWeek").click(function(){var f=c.datepicker("getDate");c.datepicker("setDate",DateHelper.AddDays(f,-7));e()});e()}jQuery.fn.DateSelect=function(d){$(this).addClass("DateSelect").append("<label><b>Date</b></label>").append("<button id='prevWeek' type='button'>"+Lang.Trans("Prev week")+"</button>").append("<input id='Date' />").append("<button id='nextWeek' type='button'>"+Lang.Trans("Next week")+"</button>");var c=new b.DateSelect(this,d);a(c,d.SelectedDate);return c}}(window.DateSelectModule=window.DateSelectModule||{}));(function(){$.fn.NamedIdAutoComplete=function(d,e){if($(this).hasClass("ui-autocomplete-input")){$(this).autocomplete("destroy")}$(this).autocomplete({select:function(f,g){$(this).val("");e(g.item)},source:function(g,h){var j=g.term,i=[];var f=new RegExp("(^| )"+j,"i");if(j.length>0){_.each(d,function(k){k.label=k.Name;if(f.test(k.Name)){i.push(k)}})}h(i)}})};$.fn.NamedIdList=function(f){var e="";e+="<div class='outerscrolltable ui-corner-all'>";e+="<div id='HeaderDiv'>";e+="<div class='ui-widget-header ui-corner-top'>";e+="<span class='ui-icon ui-icon-search' title='Search'></span>";e+="<input class='autocomplete' id='CustomerManagerAC' onkeypress='return event.keyCode!=13' />";if(f.Buttons){var d=ButtonList.CreateButtonList(f.Buttons);e+=d}e+="</div>";e+="<div class='innerscrolltable ui-widget-content ui-corner-bottom'>";e+="<table class='ACSearchListTable' tabindex='0'>";e+="<tbody/>";e+="</table>";e+="</div></div></div>";$(this).addClass("NamedIdList ui-corner-all").append(e);if(f.DragDropOrdering){$(this).find("tbody").sortable({delay:150,update:f.fnOnOrderChanged||$.noop})}return new b(this,f)};function b(f,g){var e=$.extend({NamedIds:[],fnOnSelect:$.noop,fnOnConditionalSelect:null},g);this.m_Node=f;this.m_TableBody=$(f).find("tbody");this.m_fnOnSelect=e.fnOnSelect;this.m_fnOnConditionalSelect=e.fnOnConditionalSelect;var h=this;this.m_TableBody.on("SelectionChanged",function(j,i){if(i){h.m_fnOnSelect(i)}});var d=this;this.m_TableBody.on("click","tr",function(){var j=$(this);var i=(new c(j)).ID;d.SetSelection(i,false,true)});this.m_NamedIds=e.NamedIds;if(e.NamedIds){this.Load(e.NamedIds)}}function a(d){var f="<td colspan='2' class='listCol1'>{0}</td>".Format(d.Name);var e="cursor";return"<tr data-rowid='{0}' class='{1}'>{2}</tr>".Format(escape(d.ID),e,f)}function c(d){this.Element=d;if(!this.Element.length){return}this.ID=""+unescape(this.Element.data("rowid"))}b.prototype.GetRow=function(e){var d=this.m_TableBody.find("tr[data-rowid='{0}']".Format(escape(e)));return new c(d)};b.prototype.GetRows=function(){return _.map(this.m_TableBody.find("tr:not(.ui-sortable-placeholder)"),function(d){return new c($(d))})};b.prototype.Load=function(f){var i=new c(this.m_TableBody.find("tr.selected"));var h=null;if(i.Element.length){h=i.ID}var g=null;this.m_TableBody.empty();var d="";this.m_NamedIds=f;_.each(this.m_NamedIds,function(j){if(!g&&h&&j.ID===h){g=h}d+=a(j)});this.m_TableBody.append(d);var e=this;$("#HeaderDiv input.autocomplete",this.m_Node).NamedIdAutoComplete(this.m_NamedIds,function(j){e.SetSelection(j.ID,true,true)});if(!g&&this.m_NamedIds.length>0){g=this.m_NamedIds[0].ID}if(g){this.SetSelection(g,true,true)}};b.prototype.RemoveSelection=function(){this.m_TableBody.find("tr.selected").removeClass("selected")};b.prototype.SetSelection=function(h,g,j){if(!h){this.RemoveSelection();return}j=j||false;var e=this.GetRow(h);var f=e.ID;var i=this;var d=function(){i.m_TableBody.find("tr.selected").removeClass("selected");if(e){e.Element.addClass("selected");if(g){e.Element.scrollintoview()}}};if(j){if(this.m_fnOnConditionalSelect){this.m_fnOnConditionalSelect(f,d)}else{this.m_fnOnSelect(f);d()}}else{d()}};b.prototype.GetSelectedId=function(){var d=this.m_TableBody.find("tr.selected");return(new c(d)).ID};b.prototype.UpdateElement=function(g,h){var e=this.m_NamedIds.FirstOrDefault(g,"ID");var f=e?this.m_NamedIds.indexOf(e):-1;if(f>-1){this.m_NamedIds[f]=h;var i=this.GetRow(g).Element;var d=i.prop("class");i.replaceWith(a(h));i=this.GetRow(h.ID).Element;i.prop("class",d)}else{f=this.m_NamedIds.length;this.m_NamedIds.push(h);this.m_TableBody.append(a(h))}};b.prototype.RemoveElement=function(e){var d=this.m_NamedIds.FirstOrDefault(e,"ID");var f=this.m_NamedIds.indexOf(d);if(f>-1){this.m_NamedIds.splice(f,1);var h=this.GetRow(e).Element;var g=h.hasClass("selected");h.remove();if(g&&this.m_NamedIds.length>0){this.SetSelection(this.m_NamedIds[0].ID,true)}}}}(window.NamedIdList=window.NamedIdList||{}));(function(a){$.fn.ChangeManagerRegister=function(f){return new a.ChangeMonitor(this,f)};var b=["input","textarea"];var c=b.Join(",");var d=false;a.ChangeMonitor=function(f,h,g){if(f instanceof jQuery){this.m_Elements=f}else{this.m_Elements=$(f)}this.m_Started=h||false;this.HasChanges=false;this.m_fnOnChanged=g;this.m_CustomChangeEvents=[];this.m_MessageText=Lang.Trans("Unsaved changes will be lost, continue?");this.m_MessageTitle=Lang.Trans("Unsaved changes");if(h){this.Start()}};a.ChangeMonitor.prototype.AddCustomEvent=function(f,g){this.m_CustomChangeEvents.push({EventType:f,Selector:g});return this};a.ChangeMonitor.prototype.ChangeMessageText=function(f,g){this.m_MessageText=f;this.m_MessageTitle=g};a.ChangeMonitor.prototype.Start=function(){this.m_Elements.find("table.dataTable").on("/Table/Update",null,this,e);this.m_Elements.filter(".dataTable").on("/Table/Update",null,this,e);this.m_Elements.on("change",c,this,e);for(var f=0;f<this.m_CustomChangeEvents.length;++f){$(this.m_CustomChangeEvents[f].Selector).on(this.m_CustomChangeEvents[f].EventType,null,this,e)}d=false};a.ChangeMonitor.prototype.Stop=function(g){g=g===undefined?true:g;if(g){this.Reset()}else{d=true}this.m_Elements.find("table.dataTable").off("/Table/Update",e);this.m_Elements.filter(".dataTable").off("/Table/Update",e);this.m_Elements.off("change",c,e);for(var f=0;f<this.m_CustomChangeEvents.length;++f){$(this.m_CustomChangeEvents[f].Selector).off(this.m_CustomChangeEvents[f].EventType,e)}return this};a.ChangeMonitor.prototype.Reset=function(){window.onbeforeunload=null;this.HasChanges=false};a.ChangeMonitor.prototype.IsChanged=function(f){if(f===false||f===true){if(f&&this.m_fnOnChanged){this.m_fnOnChanged(null)}this.HasChanges=f;if(f&&!window.onbeforeunload){var g=this;window.onbeforeunload=function(){return g.m_MessageText}}}return this.HasChanges};a.ChangeMonitor.prototype.TryDropData=function(g,f){var i=this;var h=function(){i.Stop();g()};if(this.HasChanges&&!d){PopupMessage.Confirm(this.m_MessageText,this.m_MessageTitle,h,f)}else{h()}return this.HasChanges};function e(f){var g=f.data;if(g.m_fnOnChanged){g.m_fnOnChanged(f)}if(f.data.HasChanges){return}g.HasChanges=true;window.onbeforeunload=function(){return g.m_MessageText}}}(window.ChangeManager=window.ChangeManager||{}));var Dialogs;(function(b){var a=(function(){function c(e,d){this.m_Subscriptions=[];if(_.isUndefined(e)){throw new Error("Dialog node is undefined")}var f=_.defaults({autoOpen:false,beforeClose:this.OnClose.bind(this)},d);if(f.dialogClass){f.dialogClass=f.dialogClass+" DialogContainer"}else{f.dialogClass="DialogContainer"}this.JQueryDialog=$(e).dialog(f)}c.prototype.Open=function(){var e=[];for(var d=0;d<arguments.length;d++){e[d-0]=arguments[d]}this.Trigger("OpenDialog");this.JQueryDialog.dialog("open")};c.prototype.Close=function(){this.JQueryDialog.dialog("close")};c.prototype.OnClose=function(){var d=true;return d};c.prototype.On=function(e,d){this.m_Subscriptions.push(e);this.JQueryDialog.off(e).on(e,d)};c.prototype.Trigger=function(e,d){this.JQueryDialog.trigger(e,d)};c.prototype.Dispose=function(){var d=this.JQueryDialog;_.each(this.m_Subscriptions,function(e){d.off(e)});this.m_Subscriptions=[]};return c})();b.BaseDialog=a})(Dialogs||(Dialogs={}));var __extends=this.__extends||function(e,c){for(var f in c){if(c.hasOwnProperty(f)){e[f]=c[f]}}function a(){this.constructor=e}a.prototype=c.prototype;e.prototype=new a()};var Dialogs;(function(a){var c=(function(d){__extends(e,d);function e(h,g,f){f=_.defaults(f||{},{WarnOnChanges:true});if(!g){throw Error("'model' is not defined")}this.Model=g;d.call(this,h,f);ko.applyBindings(this.Model,h)}e.prototype.OnClose=function(){var f=this;var h=this.JQueryDialog.dialog("option","WarnOnChanges");var g=this.Model.HasChanges();if(!h||!g){return true}PopupMessage.Confirm(Lang.Trans("There are unsaved changes. Are you sure you want to close?"),Lang.Trans("Unsaved changes"),function(){f.Model.RevertChanges();f.Close()});return false};return e})(a.BaseDialog);a.KnockoutDialog=c;var b=(function(){function d(){}d.prototype.ToJs=function(){};d.prototype.UpdateFromJs=function(e){this.m_OriginalData=e;this.m_OriginalToJsData=this.ToJs()};d.prototype.RevertChanges=function(){this.UpdateFromJs(this.m_OriginalData)};d.prototype.HasChanges=function(){var e=this.ToJs();var f=window.IsChanged(e,this.m_OriginalToJsData);return f};return d})();a.DialogViewModel=b})(Dialogs||(Dialogs={}));var __extends=this.__extends||function(e,c){for(var f in c){if(c.hasOwnProperty(f)){e[f]=c[f]}}function a(){this.constructor=e}a.prototype=c.prototype;e.prototype=new a()};var Dialogs;(function(a){var b=(function(c){__extends(d,c);function d(g,e,f,h){this.m_Mapping=f||{};this.m_BaseModel=h||{};c.call(this,g,e)}Object.defineProperty(d.prototype,"Model",{get:function(){return this.m_ViewModel},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"Data",{get:function(){return ko.mapping.toJS(this.m_ViewModel)},set:function(e){if(this.m_ViewModel){ko.mapping.fromJS(e,this.m_ViewModel)}else{this.m_ViewModel=ko.mapping.fromJS(e,this.m_Mapping,this.m_BaseModel);ko.applyBindings(this.m_ViewModel,this.JQueryDialog.get(0))}},enumerable:true,configurable:true});return d})(a.BaseDialog);a.MappingDialog=b})(Dialogs||(Dialogs={}));(function(a){a.HtmlLoader=function(c,b){this.m_LoadPromise=$.Deferred();this.m_HtmlUrl=c;this.m_CssUrl=b;this.m_Element=null;this.m_IsLoading=false;if(!c){throw"A url for the html needs to be specified"}};_.extend(a.HtmlLoader.prototype,{Element:function(){return this.m_Element},IsLoaded:function(){var b=this.m_LoadPromise.isResolved();return b},Promise:function(){return this.m_LoadPromise},Load:function(c){var d=this;var e=this.m_LoadPromise;if(this.m_IsLoading||e.isResolved()){return this.Promise()}var b=d.m_CssUrl;this.m_IsLoading=true;AjaxHelpers.GetHtml({url:d.m_HtmlUrl,showLoadingPopup:true,cache:true,success:function(f){this.m_Element=$(f);this.m_Element.appendTo("body");if(b){$("head").append('<link rel="stylesheet" href="{0}" type="text/css" />'.Format(b))}e.resolve();var g=this.m_Element.closest(".PartialElement");if(g.length===0){g=this.m_Element}if(c){c(g)}},error:function(){e.reject()},complete:function(){this.m_IsLoading=false}});return this.Promise()}})}(window.PartialViewLoader=window.PartialViewLoader||{}));(function(a){a.CreateDelayedInvoker=function(b){this.m_Options=_.defaults(b,{Ctor:null,CtorArguments:[],HtmlUrl:null,CssUrl:void 0});this.m_HtmlLoader=new a.HtmlLoader(this.m_Options.HtmlUrl,this.m_Options.CssUrl);this.m_Instance=null;this.m_DeferredInstance=null};_.extend(a.CreateDelayedInvoker.prototype,{_GetOrCreateInstance:function(){if(!this.m_Instance){var b=Object.create(this.m_Options.Ctor.prototype);this.m_Options.Ctor.apply(b,this.m_Options.CtorArguments);this.m_Instance=b}return this.m_Instance},Load:function(){return this.m_HtmlLoader.Load()},LoadInstance:function(){if(!this.m_DeferredInstance){this.m_DeferredInstance=$.Deferred();this.Load().then(function(){var b=this._GetOrCreateInstance();this.m_DeferredInstance.resolve(b)}.bind(this))}return this.m_DeferredInstance.promise()},Invoke:Utils.Functional.Variadic(function(d,b){var c=$.Deferred();this.LoadInstance().then(function(e){var f=e[d].apply(e,b);c.resolve(f)}.bind(this));return c.promise()})})}(window.PartialViewLoader=window.PartialViewLoader||{}));(function(a){a.CreateLoadInstantiator=function(c){c=_.defaults(c,{Ctor:null,ExposeMethods:void 0,HtmlUrl:null,CssUrl:void 0});if(!c.Ctor){throw"You need to provide a Ctor"}if(!c.HtmlUrl){throw"You need to provide a url for the html"}return function b(){c.CtorArguments=[].slice.call(arguments,0);var d=new a.CreateDelayedInvoker(c);function e(h){var g=[];function f(k){var l;for(var j in k){if(_.isFunction(l=k[j])){if(j==="__proto__"){f(l)}if(!j.StartsWith("_")){g.push(j)}}}}f(h);var i=_.unique(g);return i}c.ExposeMethods=c.ExposeMethods||e(c.Ctor.prototype);_.each(c.ExposeMethods,function(f){this[f]=function(){var g=[].slice.call(arguments,0);g.unshift(f);d.Invoke.apply(d,g)}.bind(this)},this)}}}(window.PartialViewLoader=window.PartialViewLoader||{}));(function(a){a.LoadedIds={};a.Load=function(d,b){if(b){a.LoadedIds[b]=false}var c=$.Deferred();yepnope({load:d,complete:function(){if(b){a.LoadedIds[b]=true}c.resolve()}});return c.promise()}}(window.ScriptLoader=window.ScriptLoader||{}));(function(a){if(!a.fn.on){throw"UltButtons requires jQuery 1.7 at least."}if(!a.ui||!a.ui.button){throw"UltButtons requires the jQuery UI Button widget."}var b=a.ui.button.prototype._create,c=a.ui.button.prototype._destroy,d=document.createElement("div"),g="unselectable" in d,h=(function(){var l="userSelect",m=d.style;if(l in m){return l}var k=["Moz","Webkit","O","ms"];for(var j=0;j<k.length;j++){l=k[j]+"UserSelect";if(l in m){return l}}return false}()),f,e;d=null;a.fn.disableSelection=function(){if(g){this.find("*").andSelf().prop("unselectable","on")}if(h){this.css(h,"none")}return this.on("selectstart.disableSelection",false)};a.fn.reenableSelection=function(){if(g){this.find("*").andSelf().prop("unselectable","")}if(h){this.css(h,"")}return this.off(".disableSelection")};a.ui.button.prototype._create=function(){b.apply(this,arguments);if(this.type==="checkbox"||this.type==="radio"){var i=this;this.buttonElement.on("mousedown"+this.eventNamespace,function(j){if(j.which!==1){return}f=this;e=i.element[0].checked;a(document).one("mouseup",function(){f=null})}).on("mouseup"+this.eventNamespace,function(k){if(k.which!==1||i.options.disabled){return}var j=i.element[0];if(f===this){setTimeout(function(){if(e===j.checked){if(i.type==="checkbox"){j.checked=!j.checked;i.refresh();i.element.change()}else{if(!j.checked){j.checked=true;i.refresh();i.element.change()}}}},0)}}).disableSelection()}};a.ui.button.prototype._destroy=function(){if(this.type==="checkbox"||this.type==="radio"){this.buttonElement.reenableSelection()}c.apply(this,arguments)};a.fn.ultButtonset=a.fn.buttonset;a.fn.ultButton=a.fn.button})(jQuery);(function(a){function c(e,f){f=f.split(".");for(var d=0;d<f.length;d++){e=e[f[d]]}return e}function b(g,q,o,h){var p=[];var j=[];if(!g){return{ShowIds:p,HideIds:j}}q=q.toLowerCase();var t=q.split(" ");for(var k=0;k<g.length;++k){var f=g[k];var m=true;for(var d=0;d<t.length&&m;++d){m=false;var r=t[d];if(h(f,r)===true){m=true;continue}for(var n=0;n<o.length;++n){var u=c(f,o[n]);if(!u){continue}var l=a.type(u);if(l==="date"){if(DateFormatter.ToDateTimeString(u).toLowerCase().indexOf(r)!==-1){m=true;break}}else{if(l==="string"){if(u.toLowerCase().indexOf(r)!==-1){m=true;break}}else{if(u.toString().toLowerCase().indexOf(r)!==-1){m=true;break}}}}}if(m){p.push(f.ID)}else{j.push(f.ID)}}return{ShowIds:p,HideIds:j}}a.fn.TableFilter=function(d){var e=null;if(!d.fnObjectFilterCallback){d.fnObjectFilterCallback=a.noop}this.RegisterInput=function(f){this.Input=f;f.keyup(this,function(g){if(e){clearTimeout(e)}e=setTimeout(function(){g.data.UpdateFilter(g.data.Input.val())},100)})};this.UpdateFilter=function(k){if(k===undefined&&this.Input){k=this.Input.val()}if(!k){a(this).find(">table>tbody>tr").show();return}var g=b(d.Elements,k,d.SearchFields,d.fnObjectFilterCallback);for(var f=0;f<g.HideIds.length;++f){a("#"+g.HideIds[f]).hide()}for(var h=0;h<g.ShowIds.length;++h){a("#"+g.ShowIds[h]).show()}};this.UpdateElements=function(f){d.Elements=f};this.UpdateElement=function(f,h,i){if(!d.Elements){d.Elements=[]}var g=d.Elements.FirstOrDefault(i,h,true);if(g===null){if(f){d.Elements.push(f)}return}if(f){d.Elements[g]=f;return}d.Elements.splice(g,1)};return this}})(jQuery);var __extends=this.__extends||function(e,c){for(var f in c){if(c.hasOwnProperty(f)){e[f]=c[f]}}function a(){this.constructor=e}a.prototype=c.prototype;e.prototype=new a()};var NativeApplication;(function(m){var a=(function(){function q(){}q.prototype.Invoke=function(s,r){if(!window.RunningNativeApp){return new Promise(function(u,t){u({succeeded:false})})}return new Promise(function(v,u){var t=q.m_NativeId+q.m_Calls.toString();++q.m_Calls;$(document).one("NativeReply_"+t,function(x){var y=x.type+((x.namespace!==undefined)?x.namespace:"");var w=q.m_CallbackData[y];delete q.m_CallbackData[y];v(w)});window.RunningNativeApp.Invoke(s,t,JSON.stringify(r))})};q.SetCallbackData=function(s,r){q.m_CallbackData[s]=r};q.m_NativeId=new Date().getTime().toString()+"_";q.m_CallbackData={};q.m_Calls=0;return q})();m.ApplicationCallback=a;function o(){return 1}m.Register=o;function p(r,q){a.SetCallbackData(r,q)}m.SetCallbackData=p;var c=(function(q){__extends(r,q);function r(){q.apply(this,arguments)}r.prototype.Execute=function(){return this.Invoke("changeUrl",null).then(function(){})};return r})(a);var i=new c();function b(){return i.Execute()}m.ChangeUrl=b;var f=(function(q){__extends(r,q);function r(){q.apply(this,arguments)}r.prototype.Execute=function(){return this.Invoke("openBluetoothActivity",null).then(function(){})};return r})(a);var l=new f();function n(){return l.Execute()}m.OpenBluetoothActivity=n;var e=(function(q){__extends(r,q);function r(){q.apply(this,arguments)}r.prototype.Execute=function(){return this.Invoke("logOff",null).then(function(){})};return r})(a);var k=new e();function h(){return k.Execute()}m.LogOff=h;var d=(function(q){__extends(r,q);function r(){q.apply(this,arguments)}r.prototype.Execute=function(s){return this.Invoke("log",s).then(function(t){return t.succeeded})};return r})(a);var j=new d();function g(q){return j.Execute(q)}m.Log=g})(NativeApplication||(NativeApplication={}));var CustomFields;(function(a){function b(e){if(_.isDate(e)){e=DateFormatter.ToTfpDateTimeString(e,false)}else{if(_.isArray(e)){e=_.map(e,b)}else{if(_.isObject(e)){_.each(_.keys(e),function(f){e[f]=b(e[f])})}}}return e}a.TransformDatesToStr=b;function c(f){if(!f){return false}var e=parseInt(f,10);if(!isNaN(e)){return e>0}f+="";return f.toLowerCase()==="true"}var d=(function(){function e(f){this.CanEdit=false;this.ValueType="";this.Value=ko.observable();this.Title="";this.Id="";this.OriginalValue="";this.FieldName="";this.ObjectType="";this.RegexValidation="";this.TripStatusFilter=null;this.UpdateFromJs(f)}e.prototype.ValueToString=function(){if(!this.CanEdit){return null}if(this.ValueType=="date"){return b(this.Value())}return this.Value()};e.prototype.UpdateFromJs=function(f){if(!f){return}this.CanEdit=f.Header.CanEdit;this.ValueType=f.Header.ValueType;if(this.ValueType=="date"){this.Value(f.Value.Value===null?null:new Date(f.Value.Value))}else{if(this.ValueType=="bool"){this.Value(c(f.Value.Value))}else{this.Value(f.Value.Value)}}this.Id=f.Header.Id;this.Title=f.Header.Title;this.FieldName=f.Header.FieldName;this.ObjectType=f.Header.ObjectType;this.OriginalValue=this.Value();if(f.Header.RegexValidation){this.RegexValidation=f.Header.RegexValidation}if(f.Header.TripStatusFilterList){this.TripStatusFilter=f.Header.TripStatusFilterList}};e.prototype.Changed=function(){if(!this.CanEdit){return false}return this.Value()!==this.OriginalValue};e.prototype.ToJs=function(){if(!this.CanEdit){return null}var f={Value:{Id:this.Id,Value:this.ValueToString()},Header:{FieldName:this.FieldName,ObjectType:this.ObjectType}};return f};e.Create=function(f){return new e(f)};return e})();a.ViewModel=d})(CustomFields||(CustomFields={}));var FreeTextSearch;(function(a){ko.bindingHandlers.enterkey={init:function(i,j,g,k){var h=j();$(i).keypress(function(l){var m=(l.which?l.which:l.keyCode);if(m===13){h.call(k,i);return false}return true})}};var c=250;var e;(function(g){g[g.Inactive=0]="Inactive";g[g.Pending=1]="Pending";g[g.Started=2]="Started"})(e||(e={}));var b=(function(){function g(k,j){var h=this;this.CurrentRequest=null;this.LastSearch="";this.UseCallback=true;this.State=0;this.Value=ko.observable("");this.Searching=ko.observable(false);this.FoundCnt=ko.observable(0);this.OnEnter=function(l){if(h.Value().length<3){return}$(l).autocomplete("close");h.Accept(k)};this.OnSelect=function(){h.Accept(k)};var i=_.debounce(this.LoadInternal.bind(this),c);this.Load=function(m,l){if(_.isFunction(j)){j()}m=m.trim();if(h.LastSearch===m){return}h.LastSearch=m;if(m.length<3){h.FoundCnt(0);return}Log.Core.FreeTextSearch.WriteDebug("Enqueing load on '{0}'.".Format(m));h.FoundCnt(0);h.State=1;if(h.CurrentRequest){h.CurrentRequest.Abort();h.CurrentRequest=null}i(m,l)}}g.prototype.LoadInternal=function(i,h){if(this.State===1){this.StartLoad(i,h)}else{Log.Core.FreeTextSearch.WriteDebug("Aborting load on '{0}'.".Format(i))}};g.prototype.StartLoad=function(k,i){var h=this;Log.Core.FreeTextSearch.WriteDebug("Starting load on '{0}'.".Format(k));this.UseCallback=true;this.State=2;this.Searching(true);this.FoundCnt(0);var j=new d(k,function(l){h.FoundCnt(h.CurrentRequest.CurrentMatches.length);if(h.UseCallback){i(l)}});this.CurrentRequest=j;this.CurrentRequest.Execute().then(function(){if(j===h.CurrentRequest){Log.Core.FreeTextSearch.WriteDebug("Load complete.");h.Searching(false);h.State=0}else{Log.Core.FreeTextSearch.WriteDebug("Load complete, new request started.")}}).then(null,function(l){h.Searching(false);throw l})};g.prototype.Accept=function(j){var h=this.State===0&&this.CurrentRequest&&this.CurrentRequest.State===4&&this.CurrentRequest.SearchString===this.Value();this.State=0;if(h){Log.Core.FreeTextSearch.WriteDebug("Accepting '{0}'. All suggestions found.".Format(this.CurrentRequest.SearchString));var i=_.map(this.CurrentRequest.CurrentMatches,function(k){return k.Owner.ID});j(i)}else{Log.Core.FreeTextSearch.WriteDebug("Accepting '{0}'. All suggestions not found.".Format(this.Value()));if(this.CurrentRequest){this.CurrentRequest.Abort()}j(null)}};return g})();a.FreeTextSearchViewModel=b;var f;(function(g){g[g.Init=0]="Init";g[g.Searching=1]="Searching";g[g.Aborted=2]="Aborted";g[g.PartiallyCompleted=3]="PartiallyCompleted";g[g.Completed=4]="Completed"})(f||(f={}));var d=(function(){function g(i,h){this.m_CurrentAjaxRequest=null;this.m_LastSuggestions=[];this.State=0;this.CurrentMatches=[];this.m_CurrentAjaxRequest=null;this.m_SearchString=i;this.m_Callback=h}Object.defineProperty(g.prototype,"SearchString",{get:function(){return this.m_SearchString},enumerable:true,configurable:true});g.prototype.Abort=function(){if(this.State!==1){return}this.State=2;this.Log("Aborting search for '{0}'".Format(this.m_SearchString));if(this.m_CurrentAjaxRequest){this.m_CurrentAjaxRequest.abort()}this.m_CurrentAjaxRequest=null;this.CurrentMatches=[];if(typeof this.m_Callback==="function"){this.m_Callback([])}this.m_Callback=null};g.prototype.Execute=function(){var h=this;this.Log("Executing search request.");this.State=1;this.CurrentMatches=[];return new Promise(function(j,i){var l=0;var m=new Date(new Date().getTime()+new TimeSpan({Seconds:10}).Ticks);var k=function(n){if(h.State===2){h.Log("Stopping search, aborted.");j(null);return}if(n){h.UpdateData(n.Matches,l===0);if(!n.SearchIncomplete){h.State=4;j(h.CurrentMatches);return}}l=n?n.LastObjectIndex+1:0;h.Log("Starting search from {0}".Format(l));h.Search(l).then(k).then(null,function(o){return i(o)});return null};k(null)})};g.prototype.Search=function(i){var h=this;return new Promise(function(k,j){h.m_CurrentAjaxRequest=AjaxHelpers.Ajax({url:Url.CustomerService("FindOrders"),data:{search:h.m_SearchString,startIndex:i},success:k,error:function(){return j()},Abort:function(){return k(null)}})})};g.prototype.UpdateData=function(i,h){if(!h&&!_.any(i)){this.Log("Update skipped, no suggestions found.");return}this.Log("Received {0} matches.".Format(i.length));this.CurrentMatches=this.CurrentMatches.concat(i).sort(function(k,l){if(k.HitRate===l.HitRate){return 0}if(k.HitRate<l.HitRate){return 1}else{return -1}});if(this.m_Callback){var j=_.chain(this.CurrentMatches).map(function(k){return k.Suggestions.sort()}).flatten().uniq(false,function(k){return k.toLowerCase()}).first(100).value();if(h||!_.isEqual(this.m_LastSuggestions,j)){this.m_LastSuggestions=j;this.m_Callback(j)}else{this.Log("Update skipped, no new suggestions found.")}}};g.prototype.Log=function(h){Log.Core.FreeTextSearch.WriteDebug("{0}: {1}".Format(h,this.m_SearchString))};return g})()})(FreeTextSearch||(FreeTextSearch={}));var Core;(function(a){(function(c){c[c.Ok=0]="Ok";c[c.TimeOut=1]="TimeOut";c[c.Stopped=2]="Stopped";c[c.Exception=3]="Exception"})(a.State||(a.State={}));var b=a.State})(Core||(Core={}));var LongPoll;(function(a){var b=(function(){function f(){}return f})();var c=(function(){function f(){this.m_ActivePoll=null}f.prototype.RequestToken=function(g,j,l,i){var k=this;var h=false;g.m_ActiveRequest=AjaxHelpers.Ajax({url:l,data:i,callErrorOnAbort:true,silent:true,noLog:true,longPoll:true,success:function(m){h=true;j(m)},error:function(m){h=true;j(null)}}).done(function(){if(!h){j(null)}})};f.prototype.Poll=function(g,l,m,j,h){var k=this;var i=false;g.m_ActiveRequest=AjaxHelpers.Ajax({url:Url.LongPoll("Poll"),data:{token:l},callErrorOnAbort:true,silent:true,noLog:true,longPoll:true,timeout:0,success:function(o){i=true;if(g!=k.m_ActivePoll){Log.Core.LongPoll.WriteDebug("Long poll cancelled. Token={0}".Format(l));return}if(o.Status==0){Log.Core.LongPoll.WriteDebug("Long poll received result. Token={0}".Format(l));var n=h(o.Data);if(!n){return}Log.Core.LongPoll.WriteDebug("Long poll continuing. Token={0}".Format(l));k.Poll(g,l,m,j,h);return}if(o.Status==3){Log.Core.LongPoll.WriteDebug("Long poll threw an excecption. Restarting. Token={0}, Status={1}, Exception{2}".Format(l,o.Status,o.Exception));window.setTimeout(function(){k.Restart(m,j,h,true)},10000)}else{Log.Core.LongPoll.WriteDebug("Long poll token expired. Restarting. Token={0}, Status={1}".Format(l,o.Status));if(o.Status==2){window.setTimeout(function(){k.Restart(m,j,h,true)},2000)}else{k.Restart(m,j,h,true)}}},error:function(n){i=true;if(g!=k.m_ActivePoll){Log.Core.LongPoll.WriteDebug("Long poll cancelled. Token={0}".Format(l));return}Log.Core.LongPoll.WriteDebug("Long poll failed. Retrying. Token={0}, Status={1}".Format(l,n.status));if(n.status==0){window.setTimeout(function(){k.Poll(g,l,m,j,h)},60*1000)}else{k.Poll(g,l,m,j,h)}}}).done(function(){if(i){return}if(g!=k.m_ActivePoll){return}Log.Core.LongPoll.WriteDebug("Long poll failed unexpectedly. Retrying. Token={0}".Format(l));k.Poll(g,l,m,j,h)})};f.prototype.Cancel=function(){var g=this;if(g.m_ActivePoll){Log.Core.LongPoll.WriteDebug("Cancelling running long poll request");if(g.m_ActivePoll.m_ActiveRequest){g.m_ActivePoll.m_ActiveRequest.abort()}}g.m_ActivePoll=null};f.prototype.Restart=function(m,i,h,j){this.Cancel();if(!j){Log.Core.LongPoll.WriteDebug("Long poll starting with url={0}".Format(m))}else{Log.Core.LongPoll.WriteDebug("Retrying long poll with url={0}".Format(m))}var k=this;var g=new b();k.m_ActivePoll=g;var l=new Promise(function(n){if(g!=k.m_ActivePoll){return}k.RequestToken(g,n,m,i)});l.then(function(n){if(g!=k.m_ActivePoll){return}if(n==null){k.Restart(m,i,h,true)}else{k.Poll(g,n,m,i,h)}})};f.prototype.RequestPoll=function(i,h,g){this.Restart(i,h,g,false)};return f})();var d=new c();function e(h,g,f){d.RequestPoll(h,g,f)}a.StartPoll=e})(LongPoll||(LongPoll={}));ko.bindingHandlers.buttonset={init:function(b,d,a){var c=function(){var h;if(b.type==="checkbox"){h=b.checked}else{if((b.type==="radio")&&(b.checked)){h=b.value}else{return}}var g=d();if((b.type==="checkbox")&&(ko.utils.unwrapObservable(g) instanceof Array)){var f=ko.utils.arrayIndexOf(ko.utils.unwrapObservable(g),b.value);if(b.checked&&(f<0)){g.push(b.value)}else{if((!b.checked)&&(f>=0)){g.splice(f,1)}}}else{if(ko.isWriteableObservable(g)){if(g()!==h){g(h)}}else{var e=a();if(e._ko_property_writers&&e._ko_property_writers["checked"]){e._ko_property_writers["checked"](h)}}}};ko.utils.registerEventHandler(b,"click",c);if((b.type==="radio")&&!b.name){ko.bindingHandlers.uniqueName["init"](b,function(){return true})}},update:function(b,d){var a=function(g){var e=$(g).attr("id");if(e){var f=$(g).parent(".ui-buttonset");var h=$(f).find('label[for="'+e+'"]');if(h.length===0){h=$(g).parent("*").find('label[for="'+e+'"]')}if(g.checked&&!$(h).hasClass("ui-state-active")){$(h).addClass("ui-state-active")}if(!g.checked&&$(h).hasClass("ui-state-active")){$(h).removeClass("ui-state-active")}}};var c=ko.utils.unwrapObservable(d());if(b.type==="checkbox"){if(c instanceof Array){b.checked=ko.utils.arrayIndexOf(c,b.value)>=0}else{b.checked=c}a(b);if(c&&ko.utils.isIe6){b.mergeAttributes(document.createElement("<input type='checkbox' checked='checked' />"),false)}}else{if(b.type==="radio"){b.checked=(b.value===c);a(b);if((b.value===c)&&(ko.utils.isIe6||ko.utils.isIe7)){b.mergeAttributes(document.createElement("<input type='radio' checked='checked' />"),false)}}}}};(function(){ko.bindingHandlers.CustomFields={init:function(c,e,b){b.CustomFields=a(e);var d=[].slice.apply(arguments);d[1]=b.CustomFields;d[2]=b;return ko.bindingHandlers.template.init.apply(this,d)},update:function(c,f,b){b.CustomFields=a(f);var d=[].slice.apply(arguments);d[1]=b.CustomFields;d[2]=b;var e=ko.bindingHandlers.template.update.apply(this,d);return e}};function a(d){var b={name:"CustomFieldsTemplate",data:null};var c=d();if(_.isFunction(c)){b.data=d}else{_.extend(b,c)}if(!$("#"+b.name).length){throw new Error("Error while initializing CustomFields: Could not find template with id '{0}' in the DOM.".Format(b.name))}return function(){return b}}}());var KoDtRowCount=1;ko.bindingHandlers.DataTable={_AddData:function(b,a){b.DT_ColInfo=ko.observable("ADD");b.Delete=function(){b.DT_ColInfo("DELETE")};b.Update=function(){var c=this;var d=ko.utils.arrayFirst(a(),function(e){return e.DT_RowId===c.DT_RowId});a.replace(d,c);d.DT_ColInfo("UPDATE")};if(!b.DT_RowId){b.DT_RowId=KoDtRowCount++}},init:function(b,c){var a=ko.utils.unwrapObservable(c());if(!a.GetTable){throw"You need to defined GetTable property for the DataTable handler"}if(!$(b).hasClass("TFPTable")){$(b).addClass("TFPTable")}a.data.table=a.GetTable(b);a.data.table.on("/Table/Update",function(e,d){d.newData.Update()})},update:function(f,l){var a=ko.utils.unwrapObservable(l());var i=ko.bindingHandlers.DataTable;var c=a.data;var b=c();var k=c.table;function j(){if(c.AddRow){return false}c.bPreventUpdates=false;c.AddRow=function(m){i._AddData(m,c);c.push(m)};c.DeleteRow=function(m){m.Delete()};c.UpdateRow=function(m){m.Update()};c.PreventUpdates=function(m){c.bPreventUpdates=m;if(!m){c.valueHasMutated()}};return true}function g(){if(b.length&&_.first(b).DT_ColInfo){return}k.fnClearTable();k.fnDraw();for(var m=0;m<b.length;++m){b[m]=ko.mapping.toJS(b[m]);i._AddData(b[m],a.data)}}if(c.bPreventUpdates===true){return}j();g();var h=[];var e={ADD:[],DELETE:[],UPDATE:[]};var d=[];_.each(b,function(n,o){var m=n.DT_ColInfo();if(m){var p={};p.Index=o;p.Value=n;e[m].unshift(p)}if(m==="ADD"){d.push(n)}if(m==="DELETE"){return true}n.DT_ColInfo("");h.push(n)});_.each(e.UPDATE,function(m){k.fnUpdate(m.Value,m.Index,undefined,false,false)});_.each(e.DELETE,function(m){k.fnDeleteRow(m.Index)});k.fnAddData(d);a.data(h)}};ko.bindingHandlers.datepicker_Deprecated={init:function(b,d,a){var c=a().datepickerOptions||{};$(b).datepicker(c);d().OldValue=d();d().BindFrom=c.BindFrom;d().BindTo=c.BindTo;ko.utils.registerEventHandler(b,"change",function(){var e=d();e($(b).datepicker("getDate"))});ko.utils.domNodeDisposal.addDisposeCallback(b,function(){$(b).datepicker("destroy")})},update:function(b,f){var e=ko.utils.unwrapObservable(f());var a=$(b).datepicker("getDate");if(e-a!==0){$(b).datepicker("setDate",e);f.OldValue=e}if(e!==f.OldValue){f.OldValue=e;if(f().BindFrom){var c=f().BindFrom;if(e.getTime()<c().getTime()){c(e)}}if(f().BindTo){var d=f().BindTo;if(e.getTime()>d().getTime()){d(e)}}}}};ko.bindingHandlers.datepickerDeprecated=ko.bindingHandlers.datepicker_Deprecated;function DatePickerOptionalButtonsWrapper(g,j,h){j=_.defaults(j,{UpdateDate:$.noop,DatePickerOptions:{}});this.m_Elm=g;this.m_DatePicker=$(g).datepicker(j.DatePickerOptions||{});this.m_DatePicker.addClass("DateSelector");if(_.contains(j.OptionalButtons,"None")){return}this.m_StepButton=null;if($("#DatePickerHoverButton").length){return}$(g).wrap("<div class='DatePickerWrapper ui-corner-all'>");var i=$(".DatePickerWrapper:first");i.append("<div class='DatePickerButtonGroup ui-corner-all ui-widget-content ui-widget-content-a'>");this.m_ButtonGroup=$(".DatePickerButtonGroup:first");var d=this.m_ButtonGroup;$(g).before("<div id='DatePickerHoverButton'>");this.m_StepButton=$("#DatePickerHoverButton").addClass("ui-icon ui-icon-inline ui-icon-gear");var c=false;this.m_StepButton.on("click",function(){if($(this).hasClass("Disabled")){return}if($(d).is(":hidden")){$(d).slideDown(function(){c=true})}else{$(d).slideUp("slow")}});$(d).hide();this.m_savedElmDate=null;this.m_savedLinkedElmDate=null;var e=["Now","WeekDays","Day","Week","Month","Year"];this.m_OptionalButtons=_.isEmpty(j.OptionalButtons)?e:_.isArray(j.OptionalButtons)?j.OptionalButtons:[j.OptionalButtons];if(j.CheckMarker===true&&!_.find(this.m_OptionalButtons,function(l){return l==="DisableChk"})){this.m_OptionalButtons.push("DisableChk")}var a=function(n,p){var l=$(g).datepicker("getDate");var m;var o=n(l,p);$(g).datepicker("setDate",o);if(h){l=$(h).datepicker("getDate");m=n(l,p)}j.UpdateDate(o,m);return false};var k=function(o){var m=$(g).datepicker("getDate");var l=m.getDay();var p=o-l;m.setDate(m.getDate()+p);var n=null;if(h){n=$(h).datepicker("getDate");n.setDate(n.getDate()+p)}j.UpdateDate(m,n);return false};var f=function(l){var m=l.is(":checked");$(g).parent("div").children().each(function(){$(this).Enable(m)});l.Enable();if(m){if(h){j.UpdateDate(this.m_savedElmDate,this.m_savedLinkedElmDate)}else{j.UpdateDate(this.m_savedElmDate)}}else{this.m_savedElmDate=$(g).datepicker("getDate");if(h){this.m_savedLinkedElmDate=$(h).datepicker("getDate")}j.UpdateDate(null,null)}return true};function b(n){var l=n.toLowerCase();if(l==="now"){var s=$("<button>").prop("title",Lang.Trans("Select today")).addClass("DatePickerButton").addClass("NowButton").text(Lang.Trans("Now")).click(function(){var w=TfpTime?TfpTime.Now():new Date();j.UpdateDate(w,w)});$(d).append(s);return}if(l==="weekdays"){for(var q=0;q<7;++q){var p=$("<button>").prop("title",Lang.Trans("Select day {0} of the week",q+1)).addClass("DatePickerButton").addClass("DayButton").text(q+1).click(k.bind(this,q));$(d).append(p)}return}if(l==="disablechk"){var o=$("<input>").prop("type","checkbox").prop("title","Disable the date filter").addClass("DatePickerButton").addClass("DisableDateButton");o.prop("checked",true);o.click(f.bind(this,o));$(this.m_Elm).before(o);return}var r=null,t=null;var v={day:{step:1,notifier:Lang.Trans("D"),method:DateHelper.AddDays},week:{step:7,notifier:Lang.Trans("W"),method:DateHelper.AddDays},month:{step:1,notifier:Lang.Trans("M"),method:DateHelper.AddMonths},year:{step:12,notifier:Lang.Trans("Y"),method:DateHelper.AddMonths}};var u=v[l];if(!u){throw"Please provide a valid step key : ",_.keys(v).Join(", ")}var m="";if(l==="day"){m=Lang.Trans("day")}if(l==="week"){m=Lang.Trans("week")}if(l==="month"){m=Lang.Trans("month")}if(l==="year"){m=Lang.Trans("year")}t=$("<button>").prop("title",Lang.Trans("Select the previous")+" "+m).addClass("DatePickerButton").addClass("StepButton").text("-"+u.notifier).click(a.bind(this,u.method,-u.step));r=$("<button>").prop("title",Lang.Trans("Select the next")+" "+m).addClass("DatePickerButton").addClass("StepButton").text("+"+u.notifier).click(a.bind(this,u.method,u.step));$(d).append(t);$(d).append(r)}_.each(this.m_OptionalButtons,b.bind(this));_.each(d.children(),function(l){$(l).button()})}_.extend(DatePickerOptionalButtonsWrapper.prototype,{DatePicker:function(){return this.m_DatePicker},Disable:function(a){this.m_DatePicker.prop("disabled",a);if(this.m_StepButton){$(this.m_ButtonGroup).hide();if(a){this.m_StepButton.addClass("Disabled")}else{this.m_StepButton.removeClass("Disabled")}}},Date:function(a){if(_.isUndefined(a)){return this.DatePicker().datepicker("getDate")}this.DatePicker().datepicker("setDate",a)}});ko.bindingHandlers.DatePicker={init:function(e,f,a){var c=f().Date;var b={DatePickerOptions:a().DatePickerOptions||{},CheckMarker:f().CheckMarker,OptionalButtons:f().OptionalButtons||{},UpdateDate:c};var d=new DatePickerOptionalButtonsWrapper(e,b);f().OldValue=c;f().DatePickerWrapper=d;ko.utils.registerEventHandler(e,"change",function(){c(d.DatePicker().datepicker("getDate"))});ko.utils.domNodeDisposal.addDisposeCallback(e,function(){d.DatePicker("destroy")})},update:function(b,f){var e=ko.utils.unwrapObservable(f().Date);var a=$(b).datepicker("getDate");if(e-a!==0){$(b).datepicker("setDate",e);f.OldValue=e}if(e&&e!==f.OldValue){f.OldValue=e;if(f().BindFrom){var c=f().BindFrom;if(_.isDate(c())&&e.getTime()<c().getTime()){c(e)}}if(f().BindTo){var d=f().BindTo;if(_.isDate(d())&&e.getTime()>d().getTime()){d(e)}}}}};ko.bindingHandlers.DateIntervalPicker={init:function(h,s,b){var i=s().From;var n=s().To;var m=s().IsActive;$(h).addClass("DateIntervalPicker");var k=$("<input>").addClass("From");var l=$("<input>").addClass("To");var a=null;if(m){a=$("<input>").prop("type","checkbox").addClass("IsActive");$(h).append(a)}$(h).append(k);$(h).append(l);var c={DatePickerOptions:b().DatePickerOptionsFrom||{},CheckMarker:s().CheckMarker,OptionalButtons:s().OptionalButtons||{},UpdateDate:function(t,u){i(t);n(u)}};var j=new DatePickerOptionalButtonsWrapper(k,c,l);var d={DatePickerOptions:b().DatePickerOptionsTo||{},CheckMarker:s().CheckMarker,OptionalButtons:s().OptionalButtons||{},UpdateDate:function(u,t){i(t);n(u)}};var o=new DatePickerOptionalButtonsWrapper(l,d,k);var f=b().disable;if(f){var e=f();j.Disable(e);o.Disable(e);f.subscribe(function(t){j.Disable(t);o.Disable(t)})}var g={FromPicker:j,ToPicker:o,LastChangeValue:null};if(a){ko.utils.registerEventHandler(a,"change",function(){m($(this).is(":checked"))})}function p(t,v){var u=t.Date();if(u-v()===0){return}g.LastChangeValue=u;v(u)}var q=p.bind(null,j,i);var r=p.bind(null,o,n);j.DatePicker().datepicker("option","onSelect",q);ko.utils.registerEventHandler(k,"change",q);o.DatePicker().datepicker("option","onSelect",r);ko.utils.registerEventHandler(l,"change",r);s.ExportInfo=g},update:function(h,o){var f=o.ExportInfo;var p=f.FromPicker;var q=f.ToPicker;var g=$(h).find("input.IsActive");var a=o().From;var b=o().To;var i=a();var m=b();var k=ko.utils.unwrapObservable(o().IsActive);if(_.any(g)){g.prop("checked",k);p.Disable(!k);q.Disable(!k)}var c=p.Date();var d=q.Date();var j=i-c!==0;var n=m-d!==0;if(j){p.Date(i)}if(n){q.Date(m)}var e=m-i;var l=f.LastChangeValue;if(e<0&&l){if(c-l!==0){p.Date(l);a(l)}if(d-l!==0){q.Date(l);b(l)}}f.LastChangeValue=null}};ko.bindingHandlers.DateTime={init:function(d,f,a,c,b){var e=ko.computed({read:function(){var h=ko.unwrap(f());if(h){var g=h.format("yyyy-MM-dd HH:mm:ss");return g}},write:function(i){var g=new Date(i);if(isNaN(g.getTime())){var h=ko.unwrap(f());f()((null));f()((h));return}f()((g))},disposeWhenNodeIsRemoved:d});ko.applyBindingsToNode(d,{value:e},b)}};ko.bindingHandlers.datetimepicker={init:function(b,d,a){var c=a().datepickerOptions||{};$(b).datetimepicker(c);d().OldValue=d();d().BindFrom=c.BindFrom;d().BindTo=c.BindTo;ko.utils.registerEventHandler(b,"change",function(){var e=d();e($(b).datetimepicker("getDate"))});ko.utils.domNodeDisposal.addDisposeCallback(b,function(){$(b).datetimepicker("destroy")})},update:function(b,f){var e=ko.utils.unwrapObservable(f());var a=$(b).datetimepicker("getDate");if(f().BindFrom){var c=f().BindFrom();if(e<c){e=c}}if(f().BindTo){var d=f().BindTo();if(e>d){e=d}}if(e-a!==0){$(b).datepicker("setDate",e)}}};ko.bindingHandlers.filedrop={init:function(a,b){var c=b();ko.utils.registerEventHandler(a,"dragenter",function(d){d.stopPropagation();d.preventDefault()});ko.utils.registerEventHandler(a,"dragover",function(d){d.stopPropagation();d.preventDefault()});ko.utils.registerEventHandler(a,"drop",function(d){d.stopPropagation();d.preventDefault();if(ko.isWriteableObservable(c)){var f=d.originalEvent.dataTransfer.files;if(c() instanceof FormData){_.each(f,function(e){c().append("file",e)});c.notifySubscribers(f)}else{if($.isArray(c())){_.each(f,function(e){c.push(e)})}else{c(f)}}}})}};(function(){ko.bindingHandlers.EditSwitch={init:function(d){var c=$(d);var b=!(c[0].tagName==="INPUT"&&c.attr("type")==="checkbox")&&c[0].tagName!=="TEXTAREA";if(b){c.addClass("EditSwitch");var e=$("<span/>").addClass("EditSwitchText").height(c.outerHeight());c.after(e)}},update:function(c,d){var b=ko.utils.unwrapObservable(d());a($(c),b)}};function a(c,b){if(c.is("textarea")){c.attr("disabled",!b)}else{var e=c.next();if(e.hasClass("EditSwitchText")){var d=c.val();e.Show(!b);e.text(d);c.Show(b)}else{c.Enable(b)}}}})();ko.bindingHandlers.Enable={update:function(a,c){var b=ko.utils.unwrapObservable(c());$(a).Enable(b)}};ko.bindingHandlers.jqButton={init:function(a,c){var b=c()||{};$(a).button(b);ko.utils.domNodeDisposal.addDisposeCallback(a,function(){$(a).button("destroy")})}};ko.bindingHandlers.Label={init:function(c,l){var b=$(c);var h=ko.utils.unwrapObservable(l());if($.type(h)==="string"){h={Text:h}}var g=b.siblings(".KOLabelTable");var f=!g.length;if(f){g=$("<table/>").addClass("KOLabelTable");b.before(g)}var k=null;if(h.Header){var e=$("<tr/>");k=h.Header;e.append($("<td/>").addClass("KOLabelHeader").text(k).prop("colspan",2));g.append(e)}if(h.Text||h.SubText){k=h.Text||h.SubText;var j=$("<tr/>");var d=$("<td/>").text(k);if(h.Text){d.addClass("KOLabelText")}else{d.addClass("KOLabelSubText")}var i=$("<td/>");b.appendTo(i);j.append(d);j.append(i);g.append(j)}if(h.Description){var a=$("<tr/>");k=h.Description;a.append($("<td/>").addClass("KOLabelDescription").text(k).prop("colspan",2));g.append(a)}}};ko.bindingHandlers.NamedIds={init:function(b,c){var a=ko.utils.unwrapObservable(c());a.FilterValue=null},update:function(d,h){var a,c,e,b,f;a=ko.utils.unwrapObservable(h());c=a.Data||a;f=c.FilterValue===null;e=a.Filter?ko.mapping.toJS(a.Filter):{};if(a.NoCache!==true&&_.isEqual(e,c.FilterValue)){return}c.FilterValue=e;b=_.filter(_.keys(e),function(i){return e[i]});var g={};g.sort=f;g.filter=function(i){return _.all(b,function(j){return i[j]===e[j]})};if(a.NoSelectionCaption){g.firstElement={Name:a.NoSelectionCaption,ID:""}}$(d).FillComboFromArray(c,"Name","ID",g)}};ko.bindingHandlers.NamedIdOptions={init:function(e,j,b,k){var a=b(),c=j(),h=c,i=ko.utils.unwrapObservable;if(a.optionsFilter){h=ko.computed(function(){var l=i(c);var n={};_.each(_.keys(a.optionsFilter),function(o){var p=i(a.optionsFilter[o]);if(!p){return}if(!_.isArray(p)){p=[p]}n[o]=p});var m=_.filter(l,function(o){return _.all(_.keys(n),function(p){var r=i(o[p]);if(r===null||_.isUndefined(r)){return true}var s=n[p];var q=_.contains(s,r);return q})});j.MatchedItems=m;if(a.optionsFilterCallback){a.optionsFilterCallback(m,j,a.value)}return m},this)}var g={options:h,optionsText:"Name",optionsValue:"ID"};var d=_.keys(a);var f=_.first(d,_.indexOf(d,"NamedIdOptions")+1);_.each(f,function(l){delete a[l]});_.extend(g,a);ko.applyBindingsToNode(e,g,k)},DefaultToFirstOption:function(b,e,a){var c=a();if(!_.any(e.MatchedItems)){return}e._PreviousMatchIds=null;function d(){var g=_.map(e.MatchedItems,function(h){return ko.utils.unwrapObservable(h.ID)});if(_.isEqual(g,e._PreviousMatchIds)){if(!_.any(g)){return}var f=_.indexOf(g,c)>=0;if(!f){e(_.first(g))}}else{e._PreviousMatchIds=g;_.defer(d)}}d()}};ko.bindingHandlers.NamedIdMultiOptions={init:function(f,m,b,n){var a=b();if(!a.allowInvalidSelections){var d=ko.utils.unwrapObservable(a.NamedIdMultiOptions);var e=_.map(d,function(o){return ko.unwrap(o.ID)});var k=_.map(a.selectedOptions(),ko.unwrap);var c=_.intersection(e,k);a.selectedOptions(c)}$(f).prop("multiple","multiple");var g=_.defaults(a.optionsMultiSelect||{},{noneSelectedText:"("+Lang.Trans("All")+")",selectedText:"# "+Lang.Trans("selected"),selectedList:2,checkAllText:Lang.Trans("Check all"),uncheckAllText:Lang.Trans("Uncheck all")});$(f).multiselect(g);var j=_.debounce(function(){$(f).multiselect("refresh")},300);var l=[];l.push(a.selectedOptions.subscribe(j));if(ko.isObservable(a.NamedIdMultiOptions)){l.push(a.NamedIdMultiOptions.subscribe(j))}ko.utils.domNodeDisposal.addDisposeCallback(f,function(){$(f).multiselect("destroy");_.each(l,function(o){o.dispose()})});var i=_.omit(a,"NamedIdMultiOptions","optionsMultiSelect");var h=_.extend(i,{options:m(),optionsText:"Name",optionsValue:"ID"});ko.applyBindingsToNode(f,h,n);$(f).multiselect("refresh");j()}};(function(){ko.bindingHandlers.NumberValue={init:function(f,i,c){if($(f).textinput){$(f).textinput()}var g=b(i);var e=Array.prototype.slice.apply(arguments);var h=e[2]().valueUpdate==="input"?"input":"change";if(h==="input"&&(g.MinValue||g.AddTrailingZeroes||g.Group)){throw new Error("The NumberValue binding was called with options that can not be applied on input changes")}if(_.any(f.attributes,function(j){return j.name==="type"&&j.value==="number"})){throw new Error("The number value binding and type='number' can not be used together.")}f.classList.add("InputValid");var d=a(g,h,f);if(f.tagName==="INPUT"){$(f).focus(function(){return f.value=""}).blur(function(){if(!f.value){f.value=d();f.className=f.className.replace("InputInvalid","InputValid")}})}e[1]=function(){return d};if(f.tagName==="INPUT"){return ko.bindingHandlers.value.init.apply(this,e)}else{return ko.bindingHandlers.text.init.apply(this,e)}},update:function(e,g){if(e.tagName==="INPUT"){return}var f=b(g);e.classList.add("InputValid");var c=a(f,"change",e);g=function(){return c};var d=_.map(arguments,function(h,i){return i===1?g:h});return ko.bindingHandlers.text.update.apply(this,d)}};function b(d){var c=d();if(ko.isObservable(c)){return{Value:c}}else{return c}}function a(e,f,d){var c=ko.computed({read:function(){var h=ko.unwrap(e.Value);var g=InputConverter.RenderNumber(h,f,e);if(InputConverter.IsValidNumber(g)&&(ko.unwrap(e.MaxValue)===undefined||h<=ko.unwrap(e.MaxValue))&&(ko.unwrap(e.MinValue)===undefined||h>=ko.unwrap(e.MinValue))){d.className=d.className.replace("InputInvalid","InputValid")}else{d.className=d.className.replace("InputValid","InputInvalid")}if(e.MarkNullValue){if(h===null||h===undefined){if(_.any(d.parentNode.classList,function(i){return i==="HasInput"})){d.parentNode.className=d.parentNode.className.replace("HasInput","NoInput")}else{d.parentNode.classList.add("NoInput")}}else{if(_.any(d.parentNode.classList,function(i){return i==="NoInput"})){d.parentNode.className=d.parentNode.className.replace("NoInput","HasInput")}else{d.parentNode.classList.add("HasInput")}}}if(d.tagName==="INPUT"){d.placeholder=h==null||h==undefined?"":h}if(typeof g==="undefined"||g===null){return""}return g},write:function(h){var g=InputConverter.ConvertNumber(h,f,e);if(g===null||g===""||h.trim().length===0){c.notifySubscribers();d.value="";return}if(InputConverter.IsValidNumber(g)){e.Value(e.ValueIsString?g:parseFloat(g));d.className=d.className.replace("InputInvalid","InputValid")}else{d.className=d.className.replace("InputValid","InputInvalid")}if(f=="input"&&g!==h.replace(",",".")){c.notifySubscribers()}},disposeWhenNodeIsRemoved:d});return c}})();ko.bindingHandlers.numericValue={init:function(d,f,a,c,b){var e=ko.computed({read:function(){return ko.unwrap(f())},write:function(g){if(!isNaN(g)){f()(parseFloat(g))}},disposeWhenNodeIsRemoved:d});ko.applyBindingsToNode(d,{value:e},b)}};ko.bindingHandlers.numeric={init:function(a){$(a).on("keydown",function(b){if(b.keyCode===46||b.keyCode===8||b.keyCode===9||b.keyCode===27||b.keyCode===13||(b.keyCode===65&&b.ctrlKey===true)||(((b.keyCode===188||(b.keyCode===190)||b.keyCode===110))&&b.currentTarget.value.search(/\.|,/)===-1)||(b.keyCode>=35&&b.keyCode<=39)){return}else{if(b.shiftKey||(b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)){b.preventDefault()}}})}};ko.bindingHandlers.slider={init:function(b,e,a){var d=a().sliderOptions||{};var c=e();if(c().splice){d.range=true}d.slide=function(f,g){c(g.values?g.values:g.value)};ko.utils.domNodeDisposal.addDisposeCallback(b,function(){$(b).slider("destroy")});$(b).slider(d)},update:function(a,c){var b=ko.utils.unwrapObservable(c());$(a).slider(b.slice?"values":"value",b)}};(function(){ko.bindingHandlers.TimeSpan={init:function(a,c){var b=c();b.TimeSpanDisplay=ko.computed(function(){var e=ko.utils.unwrapObservable(b);if(!e){return"-"}var d;if(e instanceof TimeSpan){d=e}else{if(e instanceof Date){d=e.GetTimeOfDay()}else{d=TimeSpan.Parse(e)}}return d.RoundSeconds().ToDisplayString()});c=function(){return b.TimeSpanDisplay}},update:function(a,d){var c=d();d=function(){return c.TimeSpanDisplay};var b=_.map(arguments,function(e,f){return f===1?d:e});ko.bindingHandlers.text.update.apply(this,b)}}}());(function(b){b.colorpicker={viewModel:function(d){if(!ko.isWriteableObservable(d.ColorValue)){throw"You must pass a writable observable as a parameter"}var c=_.map(ko.toJS(d.Colors),function(e){return new a(d.ColorValue,e)});this.Colors=ko.observableArray(c);this.Click=function(e){d.ColorValue(e.Color())}},template:"<div style='display: flex; flex-direction: row; flex-wrap: wrap;' data-bind='foreach: Colors'><div style='margin: 2px; width: 15px; height: 15px;' data-bind='click: $parent.Click, style: { background: $data.Color, border: $data.Border } '></div></div>"};ko.components.register("colorpicker",b.colorpicker);var a=(function(){function c(f,e){var d=this;this.SelectedColor=f;this.Color=ko.observable(e);this.Border=ko.computed(function(){if(d.SelectedColor()===d.Color()){return"solid 2px black"}return"solid 1px black"})}return c})()})(window.koComponents=window.koComponents||{});(function(b){var a={loadTemplate:function(e,f,c){if(f.CustomLoader){if(f.CustomLoader.Url){$.get(f.CustomLoader.Url,function(g){ko.components.defaultLoader.loadTemplate(e,g,c)})}else{if(f.CustomLoader.Id){var d=$("#"+f.CustomLoader.Id).html();ko.components.defaultLoader.loadTemplate(e,d,c)}}}else{c(null)}}};ko.components.loaders.unshift(a)})();(function(c){c.Dropbox={viewModel:function(d){if(!ko.isWriteableObservable(d.Files)){throw"You must pass a writable observable as a parameter"}if(!(d.Files() instanceof FormData)){d.Files(new FormData())}this.Files=ko.observable();d.Files.subscribe(function(e){if(e instanceof FormData){this.Files(e);a()}else{if(e instanceof "FileList"){b(e)}}}.bind(this));this.Files.subscribe(function(e){b(e);_.each(e,function(f){d.Files().append("file",f)})}.bind(this));this.Click=function(){var e=$("#fileInput");if(!e){throw"Input element must be defined"}e.click()};this.Change=function(){var e=$("#fileInput");this.Files(e[0].files)}},template:"<div><input id='fileInput' style= 'display:none' type='file' name='files' multiple data-bind='event: { change: Change }'/><div id='dropboxDiv' data-bind='click: Click, filedrop: Files'></div><div id='chosenFiles'><ul></ul></div></div>"};ko.components.register("dropbox",c.Dropbox);function a(){$(".dropbox-thumbnail").remove();$(".dropbox-listelement").remove()}function b(f){for(var g=0;g<f.length;g++){var l=document.getElementById("dropboxDiv");var e=document.getElementById("chosenFiles");var d=f[g];var k=document.createElement("li");k.innerHTML=f[g].name+": "+f[g].size+" bytes";k.classList.add("dropbox-listelement");e.appendChild(k);var h=/^image\//;if(h.test(d.type)){var j=document.createElement("img");j.src=window.URL.createObjectURL(f[g]);j.height=60;j.width=60;j.classList.add("dropbox-thumbnail");j.style.setProperty("padding","5px");j.file=d;j.onload=function(){window.URL.revokeObjectURL(this.src)};l.appendChild(j)}}}})(window.koComponents=window.koComponents||{});var koComponents;(function(b){var a;(function(d){var c=(function(){function e(f,g){this.Id=null;this.Title=ko.observable(null);this.ValueType=ko.observable(null);this.Classes=ko.observable("");this.Id=f.Id;this.Title(f.Title);this.ValueType(f.ValueType);var h;if(!f.Options||f.Options.length===0){h=[]}else{if(_.isString(f.Options[0])){h=_.map(f.Options,function(i){return{Name:i,ID:i}})}else{h=f.Options}}this.Options=ko.observableArray(h);this.IsDisabled=ko.observable(g)}return e})();d.FilterItemViewModel=c;ko.components.register("ko.component.FilterRegion",{viewModel:function(e){return e.RegionViewModel},template:{element:"FilterRegion"}})})(a=b.FilterRegion||(b.FilterRegion={}))})(koComponents||(koComponents={}));var __extends=this.__extends||function(e,c){for(var f in c){if(c.hasOwnProperty(f)){e[f]=c[f]}}function a(){this.constructor=e}a.prototype=c.prototype;e.prototype=new a()};var koComponents;(function(b){var a;(function(f){var e=(function(){function g(h){this.Filters=ko.MappedObservableArray({Id:"Id",InitialData:h,CreateItemFromJs:function(i){return i.ValueType==="DateInterval"?new c(i):new d(i)}})}g.prototype.ToJs=function(){return this.Filters.ToJs()};g.prototype.UpdateFromJs=function(h){this.Filters.UpdateFromJs(h)};g.prototype.UpdateSelection=function(i){var h=this;_.each(i,function(k){var j=h.Filters.Find({Id:k.Id});if(j){j.Values(k.Values)}})};return g})();f.CustomFilterViewModel=e;var d=(function(g){__extends(h,g);function h(j){var i=this;g.call(this,j,false);this.Values=ko.observableArray(null);this.Value=ko.computed({read:function(){return i.Values()&&i.Values().length?i.Values()[0]:null},write:function(k){return i.Values(k===null?null:[k])}})}h.prototype.ToJs=function(){return{Id:this.Id,Values:this.Values()}};h.prototype.UpdateFromJs=function(i){this.Values.Set(i.Values)};return h})(f.FilterItemViewModel);var c=(function(g){__extends(h,g);function h(j){var i=this;g.call(this,j);this.ValueIntervalStart=ko.computed({read:function(){return i.Values()&&i.Values().length>0?i.Values()[0]:null},write:function(k){if(!i.Values()||i.Values().length===0){i.Values([k])}else{i.Values.splice(0,1,k)}}});this.ValueIntervalEnd=ko.computed({read:function(){return i.Values()&&i.Values().length>1?i.Values()[1]:null},write:function(k){if(!i.Values()||i.Values().length===0){i.Values([null,k])}else{if(i.Values().length===1){i.Values.splice(1,0,k)}else{i.Values.splice(1,1,k)}}}})}return h})(d)})(a=b.FilterRegion||(b.FilterRegion={}))})(koComponents||(koComponents={}));var __extends=this.__extends||function(e,c){for(var f in c){if(c.hasOwnProperty(f)){e[f]=c[f]}}function a(){this.constructor=e}a.prototype=c.prototype;e.prototype=new a()};var koComponents;(function(b){var a;(function(c){var e=(function(){function f(){this.Filters=ko.observableArray([])}f.prototype.AddFilter=function(g,i,h){var j=new d(g,i,h);this.Filters.push(j);return j};return f})();c.StandardFilterViewModel=e;var d=(function(f){__extends(g,f);function g(i,k,j){var h=this;f.call(this,i,j);this.Classes(i.Id);if(i.ValueType==="MultiSelect"){this.Values=k;this.Value=ko.computed({read:function(){return h.Values()&&h.Values().length?h.Values()[0]:null},write:function(l){return h.Values(l===null?null:[l])}})}else{this.Value=k;this.Values=ko.computed({read:function(){return h.Value()===null?null:[h.Value()]},write:function(l){return h.Value(l===null||l.length===0?null:l[0])}})}}return g})(c.FilterItemViewModel)})(a=b.FilterRegion||(b.FilterRegion={}))})(koComponents||(koComponents={}));(function(a){var b=ko.utils.unwrapObservable;a.InputValidator={viewModel:function(e){var c=b(e.value);var g;var d=null;if(_.isFunction(e.Validator)){g=e.Validator}if(e.RegExpValidator){var f=new RegExp(e.RegExpValidator);g=function(h){return f.test(h)}}if(!g){throw new Error("A validator must be defined - either by 'Validator: function(entry)' or a 'RegExpValidator: RegExpStr'")}if(!g(c)){e.value(null)}this.CurrentInput=ko.computed({read:function(){return c},write:function(h){if(h===d){return}d=h;c=h;if(g(h)){e.value(h)}else{e.value(null)}},owner:this});this.IsValid=ko.computed(function(){return g(e.value())},this)},template:"<input data-bind='textInput: CurrentInput, css: { InvalidInput: !IsValid() }' >"};ko.components.register("input-validator",a.InputValidator)})(window.koComponents=window.koComponents||{});(function(b){function a(d,c){if(d===c){return true}else{if(!c||!d){return false}else{if(d.getTime&&c.getTime){return d.getTime()===c.getTime()}}}return b.observable.fn.equalityComparer(d,c)}b.extenders.EqualityComparer=function(d,c){d.equalityComparer=c==="default"?a:c;return d}}(window.ko=window.ko||{}));(function(b){var a=/^[0-9]+([.][0-9]+)?$/;b.extenders.numeric=function(f,d,c){if(c===undefined){c=null}var e=b.pureComputed({read:f,write:function(j){var g=f();if(g===j){return}else{if(j===0){f(j);f.notifySubscribers(j);return}else{if(!j){f(c);f.notifySubscribers(c);return}}}var m;var l=j.toString();var n=false;if(l[l.length-1]==="."){l+="0";n=true}if(l===""){m=l}else{if(a.test(l)){if(n){m=l.substring(0,l.length-1)}else{m=l}if(d===0){m=m.replace(".","")}m=m.replace(/^0+(?!\.|$)/,"");var h=m.indexOf(".");var k=null;if(h!==-1){k=m.length-1-h;if(!!d&&k>d){m=m.substring(0,h+1+d)}}var i=m[m.length-1];if(i!=="."&&!(m.length>1&&i==="0")){if(!!d&&k!==null){if(i==="0"){m=parseFloat(m).toFixed(Math.min(k,d))}else{m=parseFloat(m).toFixed(Math.min(k,d))/1}}else{m=parseFloat(m)}}}else{m=g}}if(m!==g&&(m||0).toString()!==(g||0).toString()){f(m)}else{if(j!==g){f(j);f(m)}}}}).extend({notify:"always"});e(f());return e}}(window.ko=window.ko||{}));(function(a,b){a.extenders.Round=a.extenders.ToFixed=function(f,d){var c;if(a.isObservable(f)||f.hasWriteFunction){c=a.pureComputed({read:e,write:f})}else{c=a.pureComputed(e)}c.Raw=f;function e(){var g=+f();return g.toFixed(d)}return c}}(window.ko=window.ko||{}));(function(a){(function(b){b.MappingViewModel=function(f,c,e){var d=f;e=e||{};a.mapping.fromJS(c,e,this);this.UpdateMapping=function(g){if(a.dataFor(d)){a.mapping.fromJS(g,this)}else{a.applyBindings(this,d)}}}}(a.mapping=a.mapping||{}))}(window.ko=window.ko||{}));(function(a){a.observableArray.fn.Filter=function(b){if(_.isEmpty(b)){return[]}return _.filter(this(),function(d){for(var c in b){if(b[c]!==a.unwrap(d[c])){return false}}return true})};a.observableArray.fn.Find=function(b){if(_.isEmpty(b)){return null}return _.find(this(),function(d){for(var c in b){if(b[c]!==a.unwrap(d[c])){return false}}return true})};a.observableArray.fn.Pluck=function(b){return _.map(this.peek(),function(c){return c[b].peek()})}}(window.ko));(function(a,b){a.subscribable.fn.ExtendKeepRaw=function(e){var d=this.Raw||this;var c=this.extend(e);c.Raw=d;return c}}(window.ko=window.ko||{}));(function(a){a.subscribable.fn.Set=function(c,b){if(c!==undefined||b!==false){this(c)}}}(window.ko));(function(d){var e=ko.utils.unwrapObservable;var b=Utils.Functional.Fluent;var c=Utils.Functional.GetSet;d.ChangeTracker=function(k,h){var f=_.defaults(h,{EnableChangeObservable:true,OnChange:function(l,n,m,o){}});var i=this;if(f.EnableChangeObservable){i.Changes=ko.observableArray()}function g(l,m){var n=ko.toJS(m[l]);f.OnChange(l,n,m,k);if(i.Changes){i.Changes.push({property:l,value:n,source:m})}}function j(l,m){var n=m[l];if(!ko.isObservable(n)){return}n.subscribe(function(){g(l,m)})}i.ClearChanges=function(){i.Changes.removeAll()};i.TrackChanges=function(l){_.each(_.keys(l),function(m){if(!l.hasOwnProperty(m)){return}if(m[0]==="_"){return}j(m,l);var n=e(l[m]);if(_.isArray(n)){_.each(n,i.TrackChanges)}else{if(_.isObject(n)){i.TrackChanges(n)}}})}};var a=function(g,f){return function(){var i=this;if(!i.m_Delayed){i.m_Delayed={};i.m_Delayed.Actions=[];i.m_Delayed.bInvoke=false;i.m_Delayed.Invoke=function(){i.m_Delayed.bInvoke=true;_.each(i.m_Delayed.Actions,function(j){j.Body.apply(i,j.Arguments)})}}if(i.m_Delayed.bInvoke){return f.apply(i,arguments)}var h=[].slice.call(arguments);i.m_Delayed.Actions.push({Name:g,Body:f,Arguments:h})}};d.ViewModelBinder=function(g,h,i,f){this.m_nElm=$(g)[0];if(!this.m_nElm){throw new Error("DOM reference not properly defined")}this.m_OriginalData=null;this.m_ViewModel=null;this.m_ChangeTracker=null;this.m_fnCreateViewModel=f;this.m_Mapping=h||{};this.m_ViewModelExtender=i||$.noop;this.m_IsLoading=false;this.m_ChangeTrackerCallback=null};_.extend(d.ViewModelBinder.prototype,{Mapping:c("m_Mapping"),ViewModelExtender:c("m_ViewModelExtender",false),ViewModel:c("m_ViewModel"),ChangeTracker:c("m_ChangeTracker"),Data:function(f){if(_.isUndefined(f)){if(!this.m_ViewModel){return void 0}return ko.mapping.toJS(this.m_ViewModel)}else{this.m_IsLoading=true;if(this.m_ViewModel){ko.mapping.fromJS(f,this.m_ViewModel)}else{if(this.m_fnCreateViewModel){this.m_ViewModel=this.m_fnCreateViewModel(f)}else{this.m_ViewModel=ko.mapping.fromJS(f,this.m_Mapping);this.m_ViewModelExtender.call(this.m_ViewModel,this.m_ViewModel,f)}if(this.m_Delayed){this.m_Delayed.Invoke()}if(this.m_ChangeTrackerCallback){this.m_ChangeTracker=new d.ChangeTracker(this.m_ViewModel,{OnChange:function(){if(this.m_IsLoading){return}this.m_ChangeTrackerCallback.apply(this,arguments)}.bind(this),EnableChangeObservable:false})}ko.applyBindings(this.m_ViewModel,this.m_nElm);if(this.m_ChangeTracker){this.m_ChangeTracker.TrackChanges(this.m_ViewModel)}}this.CommitChanges();this.m_IsLoading=false;return this}},ViewModelProp:function(f){var g=this.m_ViewModel;if(!f){return g}_.each(f.split("."),function(h){if(_.isFunction(g)){g=g()}g=g[h]});return g},Get:function(f){return this.ViewModelProp(f)()},Set:b(function(f,g){this.ViewModelProp(f)(g)}),IsLoading:function(){return this.m_IsLoading},Method:b(a("Method",function(g,f){this.m_ViewModel[g]=f.bind(this.m_ViewModel)})),Computed:b(a("Computed",function(g,f){if(_.isFunction(f)){this.m_ViewModel[g]=ko.computed(f.bind(this.m_ViewModel))}else{if(_.isObject(f)){f=_.defaults(f,{owner:this.m_ViewModel});this.m_ViewModel[g]=ko.computed(f)}}})),Observable:b(a("Observable",function(f,h,g){this.m_ViewModel[f]=ko.observable(h).extend(g||{})})),Subscribe:b(a("Subscribe",function(f,g){this.ViewModelProp(f).subscribe(g.bind(this.m_ViewModel,this))})),NotifySubscribers:b(a("NotifySubscribers",function(f){this.ViewModelProp(f).notifySubscribers()})),TrackChanges:b(function(f){var g=this;if(!_.isFunction(f)){throw new Error("callback must be a function")}this.m_ChangeTrackerCallback=function(i,k,j,l){var h={fnAnyChanges:g.AnyChanges,fnData:g.Data,Prop:i,Value:k,Source:j,ViewModel:l,ModelBinder:g,ChangeTracker:g.m_ChangeTracker};f(h)}}),CommitChanges:b(function(){this.m_OriginalData=this.Data()}),AnyChanges:function(){return IsChanged(this.m_OriginalData,this.Data())},RevertChanges:b(function(){this.Data(this.m_OriginalData)})});$.fn.BindViewModel=function(f){return new d.ViewModelBinder(this,f.Mapping,f.ViewModelExtender,f.fnCreateViewModel)}}(window.koUtils=window.koUtils||{}));(function(a){a.WrapAsObservable=function(c,b){if(_.isFunction(c)){return c}if(_.isUndefined(c)){c=b}return ko.observable(c)}}(window.koUtils=window.koUtils||{}));(function(a){a.FillInModel=function(b,e,c,d){if(!b){return e}if(e){ko.mapping.fromJS(b,d,e);return e}e=ko.mapping.fromJS(b);ko.applyBindings(e,c[0]);return e}}(window.koUtils=window.koUtils||{}));(function(a,b){a.MappedObservableArray=function(g){g=g||{};g.InitialData=g.InitialData||[];if(!g.CreateItemFromJs){throw new Error("Cannot create new items when CreateItemFromJs is not defined.")}var f=a.observableArray(c(g.InitialData));function d(l){if(typeof g.Id==="string"){return a.unwrap(l[g.Id])}else{return g.Id(l)}}function j(m){if(m!==b||g.AllowUndefined===true){var l=Array.prototype.slice.call(arguments,1);f(g.Id?i(m,l):c(m,l))}}function i(p,l){if(!p){return p}var m=f();var o=[];var n=_.reduce(m,function(q,s,r){q[d(s)]=r;return q},{});_.each(p,function(t){var r=n[d(t)];var s=null;if(r===b){var q=[t].concat(l);s=g.CreateItemFromJs.apply(g,q)}else{s=m[r];k(s,t,l)}o.push(s)});return o}function c(n,l){if(!n){return n}var m=_.map(n,function(o){return g.CreateItemFromJs.apply(g,[o].concat(l))});return m}function k(n,o,l){var m=[];if(_.isFunction(n.UpdateFromJs)){m=[o].concat(l);n.UpdateFromJs.apply(n,m)}else{if(_.isFunction(g.UpdateItemFromJs)){m=[n,o].concat(l);g.UpdateItemFromJs.apply(g,m)}else{if(a.isObservable(n)){n(o)}else{throw new Error("Cannot update new item when no Update function is defined.")}}}}function e(l){if(_.isFunction(l.ToJs)){return l.ToJs(l)}else{if(_.isFunction(g.ItemToJs)){return g.ItemToJs(l)}else{if(a.isObservable(l)){return l()}else{throw new Error("Cannot convert item to js when no ToJs function is defined.")}}}}function h(){var l=f();if(!l){return l}return _.map(l,e)}f.UpdateFromJs=j;f.ToJs=h;return f}}(window.ko=window.ko||{}));